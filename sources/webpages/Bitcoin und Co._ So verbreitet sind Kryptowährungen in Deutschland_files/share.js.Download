/*! Tue May 08 2018 15:10:57 */
!function(a,b,c){"use strict";function d(a,b){a=a||{},a.resource={},this.validateConfigEntry(a,"plugin",["login","share","follow"],"login").validateConfigEntry(a,"language",["en","de"],"en").validateConfigEntry(a,"visibleOnRender",[!0,!1],!0),this.config=a,this.node=b,this.content=null}function e(a){var b,c=this;switch(a=a||"share",b=k.capitalize(a),a){case"follow":c.product=FollowPlugin;break;default:c.product=l}return c.plugins=[],c.PLUGIN_SELECTOR=['div[data-type="xing/'+a+'"]','div[data-type="XING/'+b+'"]','script[type="xing/'+a+'"]','script[type="XING/'+b+'"]','script[data-type="xing/'+a+'"]','script[data-type="XING/'+b+'"]'].join(","),c}var f={host:"https://www.xing-share.com",share:{css:"/plugins/css/spi-button.css",js:"/plugins/share.js"}},g="/spi/message_proxy",h="/spi/shares/new",i={de:{label:"Teilen",title:"Teilen auf XING: Vor dem Teilen sehen Sie eine Vorschau."},en:{label:"Share",title:"Share on XING: You'll be able to see a preview before sharing."}},j={h:530,w:570},k={};k=k||{},k.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},k=k||{},k.encodeQuery=function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&null!==b&&"undefined"!=typeof b&&c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return c.join("&")},k=k||{},k.environment=function(a,c){function d(a){if(null===a.match(m+"$"))return null;var b=a.match(/xing(-share)?\.com(:\d*)?\//i);if(b){var c=b[0],d=a.split(c)[0]+c;return d.replace(/\/+$/,"")}return null}function e(){for(var a,e=b.getElementsByTagName("script"),f=0;f<e.length;f++)if(a=d(e[f].src,m)){c=a;break}return c}function f(a){var b=a||c;return null!==b.match(/preview\.xing(-share)?\.com$/)}function g(a){var b=a||c;return null!==b.match(/env\.xing\.com$/)}function h(a){var b=a||c,d=j;return f(b)?d=l:g(b)&&(d=k),d}function i(a){var b,d="xingcomdev",e=a||h();switch(e){case j:b="https://www.xing.com",d="xingcomprod";break;case k:b=c;break;default:b=c.replace(".xing-share.",".xing.")}return{STATICS_HOST:c,BACKEND_HOST:b,TRACKING_ACCOUNT:d}}var j="prod",k="sandbox",l="preview",m=a.split("/").pop();return e(),{PRODUCTION:j,SANDBOX:k,PREVIEW:l,config:i,host:e,hostFrom:d,isPreviewEnvironment:f,isSandboxEnvironment:g,name:h}},k=k||{},k.events=k.events||{},k.events.attach=function(a,b,c){var d;return a.addEventListener?d=a.addEventListener(b,c,!1):a.attachEvent&&(d=a.attachEvent("on"+b,c)),d},k.events.detach=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},k=k||{},k.extend=function(a,b){var c;for(c in b)a[c]=b[c];return a},k=k||{},k.factoryInitializer=function(a){function c(){"interactive"===b.readyState&&(k.events.detach(b,"readystatechange",c),a.init())}"loading"===b.readyState?k.events.attach(b,"readystatechange",c):a.init()},k=k||{},k.getDocumentFrom=function(a){var b=a.contentWindow||a.contentDocument;return b&&b.document&&(b=b.document),b},k=k||{},k.getHost=function(a){function c(){var a;return a=b.createElement("a"),a.href=" ",a.href}var d,e;return a=a||c(),d=a.split("/"),e=d[0]+"//"+d[2]+"/"},k=k||{},k.indexOf=function(a,b,c){if(c=c||0,!Array.prototype.indexOf){for(var d=c,e=a.length;d<e;d++)if(a[d]===b)return d;return-1}return a.indexOf(b,c)},k=k||{},k.noop=function(){return c},k=k||{},k.openPopup=function(b,c,d){var e={h:530,w:570},f={h:d.h||e.h,w:d.w||e.w},g=Math.floor((a.screen.width-f.w)/2),h=Math.floor((a.screen.height-f.h)/2);return a.open(b,c,"toolbar=0, menubar=0, status=0, directories=0, location=0, resizable=1, scrollbars=1, width="+f.w+", height="+f.h+", top="+h+", left="+g)},k=k||{},k.parseJson=function(b){try{return"string"==typeof b&&b?(b=this.trim(b),/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?a.JSON&&a.JSON.parse?a.JSON.parse(b):new Function("return "+b)():{err:"Invalid JSON config"}):null}catch(c){return{err:c}}},k=k||{},k.setAttributes=function(a,b){for(var c in b)a.setAttribute(c,b[c])},k=k||{},k.setStyles=function(a,b){for(var c in b)a.style[c]=b[c]},k=k||{},k.subclass=function(a,b,c){function d(){}return d.prototype=a.prototype,b.prototype=new d,b.prototype.constructor=b,c&&this.extend(b.prototype,c),b},k=k||{},k.trim=function(a){return String.prototype.trim?a.trim():a.replace(/^\s\s*/,"")},k=k||{},k.writeContentToFrame=function(a,b,c){var d=k.getDocumentFrom(a),e={height:18,width:1};d&&(k.setStyles(a,{height:[e.height,"px"].join(""),visibility:"hidden",width:[e.width,"px"].join("")}),c&&k.events.attach(a,"load",function(){setTimeout(function(){k.setIframeDimensions(a)},50)}),d.open(),d.write(b),d.close())},k.setIframeDimensions=function(a){var b=k.getDocumentFrom(a),c={};if(b&&b.body){var d=b.scrollingElement?b.scrollingElement:b.body;d.scrollWidth>18?(c={height:Math.floor(d.scrollHeight),width:Math.floor(d.scrollWidth)+1},a.height=c.height,a.width=c.width,k.setStyles(a,{height:[c.height,"px"].join(""),visibility:"visible",width:[c.width,"px"].join("")})):setTimeout(function(){k.setIframeDimensions(a)},100)}},k=k||{},k.xdomainEvents=[],k.xdomain=function(a,c,d,e){function f(a){var b="",c={};if(a){b=a;try{c=JSON.parse(a)}catch(d){c={}}}return{string:b,json:c}}function g(a){switch(a.json.success){case"READY":s&&i();break;default:e.callback(a.string),l()}}function h(a){var b;a.origin===c&&(b=f(a.data),b.json.id===p&&g(b))}function i(){r.contentWindow.postMessage(JSON.stringify(s),c),s=null}function j(){k.xdomainEvents[p]=function(a){h(a)},q.attributes.src=m,k.setAttributes(r,q.attributes),k.setStyles(r,q.styles),a.document.getElementsByTagName("body")[0].appendChild(r),k.events.attach(a,"message",k.xdomainEvents[p])}function l(){var b;k.events.detach(a,"message",k.xdomainEvents[p]),delete k.xdomainEvents[p],b=a.document.getElementById(p),b.parentNode.removeChild(b)}var m,n=new Date,o=n.getTime(),p="m"+o,q={attributes:{height:0,id:p,name:p,width:0},styles:{display:"none",height:0,width:0}},r=a.document.createElement("iframe"),s=null;m=[c,d,"?","callback_domain","=",encodeURIComponent(k.getHost()),"&","id","=",p].join(""),e.path&&(s={path:e.path,id:p},e.data&&(s.data=e.data),e.method&&(s.method=e.method),e.dataType&&(s.dataType=e.dataType)),null===b.getElementById(p)&&j()},d.prototype={rendered:!1,extendConfigTo:function(a){return k.extend(a,this),this},render:function(){var a,c,d=this,e=d.node,f='<link type="text/css" rel="stylesheet" href="'+d.config.resource.css+'">';!d.rendered&&e.parentNode&&(a=b.createElement("iframe"),k.setAttributes(a,{allowTransparency:!0,frameBorder:"none",seamless:"seamless",scrolling:"no",src:"javascript:'<html></html>'"}),k.setStyles(a,{background:"transparent",border:"none",padding:"0"}),e.parentNode.insertBefore(a,e),e.parentNode.removeChild(e),c='<!DOCTYPE html><html><head><meta charset="utf-8">'+f+'</head><body><div class="spi-wrapper">'+d.config.resource.html+"</div></body></html>",k.writeContentToFrame(a,c,d.config.visibleOnRender),d.frame=a,d.frameDocument=k.getDocumentFrom(d.frame),d.rendered=!0,d.attachEvents())},validateConfigEntry:function(a,b,c,d,e){return(a[b]&&c&&k.indexOf(c,a[b])===-1||!a[b])&&(a[b]=d),this},attachEvents:function(){return this}},e.prototype.init=function(){var a,b=this;a=b.collectElements(),b.createPlugins(a),b.renderPlugins()},e.prototype.collectElements=function(){var a={},c=this;return a=b.querySelectorAll(c.PLUGIN_SELECTOR)},e.prototype.createPlugins=function(a){for(var b=this,c=0,d=a.length;c<d;c++)b.plugins.push(new b.product(a[c]))},e.prototype.renderPlugins=function(){for(var a=this,b=0,c=a.plugins.length;b<c;b++)a.renderPluginWithDelay(a.plugins[b],b)},e.prototype.renderPluginWithDelay=function(a,b){var c=50,d=c*(b+1);setTimeout(function(){a.render()},d)};var l=k.subclass(d,function(a){var b=this,c={plugin:"share"};return d.call(this,c,a),b.config=b.setConfig(c,a),b},{resources:{css:f.share.css,js:f.share.js,html:'<div id="xing-share" class="spi-button spi-button-<%shape%> spi-button-green" title="<%title%>"><i></i><%label%></div>',counter:'<div id="share-counter" class="spi-button-counter spi-button-counter-<%counter-position%> spi-button-<%shape%>-counter">&hellip;</div>',beak:'<div class="spi-button-counter-<%counter-position%>-beak spi-button-<%shape%>-counter-beak"><i></i></div>'},getSharePageUrl:function(){var a=this,b=[a.config.shape,(a.config.counter||"no")+"_counter"].join("-");return[n.BACKEND_HOST+h,"?url=",encodeURIComponent(a.config.url),"&button_style=",b,a.config.followUrl?"&follow_url="+encodeURIComponent(a.config.followUrl):""].join("")},setConfig:function(a,b){var c,d,e,f=this;return a.url=f.getShareUrl(),a.language=b.getAttribute("data-lang")||a.language,f.validateConfigEntry(a,"language",["en","de"],"en"),a.shape=b.getAttribute("data-shape")||b.getAttribute("data-button-shape")||a.shape,"small_square"===a.shape&&(a.shape="square"),f.validateConfigEntry(a,"shape",["rectangle","square"],"rectangle"),a.counter=b.getAttribute("data-counter")||null,"no_count"===a.counter&&(a.counter=null),a.counter&&f.validateConfigEntry(a,"counter",["right","top"],"right"),a.followUrl=b.getAttribute("data-follow-url")||null,d=i[a.language].label,a.resource.css=n.STATICS_HOST+f.resources.css,a.resource.html=f.resources.html.replace(/<%shape%>/g,a.shape).replace(/<%label%>/g,d).replace(/<%title%>/g,i[a.language].title),a.counter&&(c=f.resources.beak.replace(/<%counter-position%>/g,a.counter).replace(/<%shape%>/g,a.shape),e=f.resources.counter.replace(/<%counter-position%>/g,a.counter).replace(/<%shape%>/g,a.shape),"top"===a.counter?a.resource.html=e+c+a.resource.html:a.resource.html+=c+e),a},attachEvents:function(){function a(){var a=c.getSharePageUrl();c.popup=k.openPopup(a,"xing_share_popup",j),c.config.counter&&c.checkIfShared()}function b(){c.frameDocument&&c.frameDocument.getElementById("xing-share")?(k.events.attach(c.frameDocument.getElementById("xing-share"),"click",a),c.config.counter&&c.getStatisticsFor(c.config.url)):setTimeout(b,100)}var c=this;return b(),c},getShareUrl:function(){var b=this,c=b.node.getAttribute("data-url");return c||(c=a.location.href),c},getStatisticsFor:function(b){var c=this,d={callback:function(a){c.showStatistics.call(c,a)},data:{url:b},path:"/shares/statistics",method:"POST",scope:"xing-share"};new k.xdomain(a,n.STATICS_HOST,g,d)},showStatistics:function(a){var b,c,d=this;c=k.parseJson(a),b=parseInt(c.share_counter),isNaN(b)||(d.frameDocument.getElementById("share-counter").innerHTML=b),k.setIframeDimensions(d.frame)},checkIfShared:function(){var a=this;a.popup&&!a.popup.closed?setTimeout(function(){a.checkIfShared.call(a)},350):(a.popup=c,a.getStatisticsFor(a.config.url))}}),m=new e("share"),n=k.environment(f.share.js,f.host).config();k.factoryInitializer(m)}(window,document);