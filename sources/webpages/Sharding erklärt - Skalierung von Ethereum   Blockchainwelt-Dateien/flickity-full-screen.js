/*!
 * Flickity fullscreen v1.0.1
 * Enable fullscreen view for Flickity
 */
!function(e,t){"function"==typeof define&&define.amd?define(["flickity/js/index","tap-listener/tap-listener"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("tap-listener")):t(e.Flickity,e.TapListener)}(window,function(e,t){"use strict";function i(e,t){this.name=e,this.createButton(),this.createIcon(),this.onTap=function(){t[e+"Fullscreen"]()},this.bindTap(this.element),this.clickHandler=this.onClick.bind(this)}function n(e){return e[0].toUpperCase()+e.slice(1)}e.createMethods.push("_createFullscreen");var s=e.prototype;s._createFullscreen=function(){this.isFullscreen=!1,this.options.fullscreen&&(this.viewFullscreenButton=new i("view",this),this.exitFullscreenButton=new i("exit",this),this.on("activate",this._changeFullscreenActive),this.on("deactivate",this._changeFullscreenActive))},s._changeFullscreenActive=function(){var e=this.isActive?"appendChild":"removeChild";this.element[e](this.viewFullscreenButton.element),this.element[e](this.exitFullscreenButton.element);var t=this.isActive?"activate":"deactivate";this.viewFullscreenButton[t](),this.exitFullscreenButton[t]()},s.viewFullscreen=function(){this._changeFullscreen(!0),this.focus()},s.exitFullscreen=function(){this._changeFullscreen(!1)},s._changeFullscreen=function(e){if(this.isFullscreen!=e){this.isFullscreen=e;var t=e?"add":"remove";document.documentElement.classList[t]("is-flickity-fullscreen"),this.element.classList[t]("is-fullscreen"),this.resize(),this.isFullscreen&&this.reposition()}},s.toggleFullscreen=function(){this._changeFullscreen(!this.isFullscreen)};var l=s.setGallerySize;return s.setGallerySize=function(){this.options.setGallerySize&&(this.isFullscreen?this.viewport.style.height="":l.call(this))},e.keyboardHandlers[27]=function(){this.exitFullscreen()},i.prototype=Object.create(t.prototype),i.prototype.createButton=function(){var e=this.element=document.createElement("button");e.className="flickity-button flickity-fullscreen-button flickity-fullscreen-button-"+this.name;var t=n(this.name+" full-screen");e.setAttribute("aria-label",t),e.title=t},i.prototype.createIcon=function(){var e=document.createElement("i");e.setAttribute("class","tipi-i-maximize"),this.element.appendChild(e)},i.prototype.activate=function(){this.on("tap",this.onTap),this.element.addEventListener("click",this.clickHandler)},i.prototype.deactivate=function(){this.off("tap",this.onTap),this.element.removeEventListener("click",this.clickHandler)},i.prototype.onClick=function(){var e=document.activeElement;e&&e==this.element&&this.onTap()},e});