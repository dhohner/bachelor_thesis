!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=189)}([function(e,t,n){var i=n(33)("wks"),o=n(28),r=n(2).Symbol,s="function"==typeof r;(e.exports=function(e){return i[e]||(i[e]=s&&r[e]||(s?r:o)("Symbol."+e))}).store=i},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(12);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(6),o=n(21);e.exports=n(4)?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(3),o=n(48),r=n(43),s=Object.defineProperty;t.f=n(4)?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(2),o=n(1),r=n(15),s=n(5),a=function(e,t,n){var c,l,u,f=e&a.F,p=e&a.G,d=e&a.S,h=e&a.P,b=e&a.B,g=e&a.W,v=p?o:o[t]||(o[t]={}),m=v.prototype,w=p?i:d?i[t]:(i[t]||{}).prototype;p&&(n=t);for(c in n)(l=!f&&w&&void 0!==w[c])&&c in v||(u=l?w[c]:n[c],v[c]=p&&"function"!=typeof w[c]?n[c]:b&&l?r(u,i):g&&w[c]==u?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):h&&"function"==typeof u?r(Function.call,u):u,h&&((v.virtual||(v.virtual={}))[c]=u,e&a.R&&m&&!m[c]&&s(m,c,u)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(49),o=n(23);e.exports=function(e){return i(o(e))}},function(e,t,n){"use strict";function i(e){return"code"===e?'\n    padding: 0 1px 1px 5px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    font-family: Monaco,"DejaVu Sans Mono","Courier New",monospace;\n    color: #444;\n    ':"bold"===e?"\n    font-weight: 600;\n    color: rgb(51, 51, 51);\n    ":"alert"===e?"\n    font-weight: 600;\n    color: red;\n    ":""}function o(e){return(0,a.default)(e,function(e,t){return"function"==typeof t?"[Function]":t},4)}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return p.debug("Called %c"+e+"("+n.map(o).join(", ")+")",i("code"),".")}Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var s=n(56),a=function(e){return e&&e.__esModule?e:{default:e}}(s);t.getConsoleStyle=i,t.stringify=o,t.logMethodCall=r;var c=n(124),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),u=n(63),f=l.methodFactory,p=t.log=l.getLogger("cleverpush"),d=(0,u.getEnv)().toUpperCase();p.methodFactory=function(e,t,n){var i=f(e,t,n);return function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];0===t&&"string"==typeof arguments[t]&&(n="[CleverPush]["+d+"] "+n),e.push(n)}i.apply(this,e)}},p.setLevel(p.getLevel())},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){e.exports={default:n(67),__esModule:!0}},function(e,t,n){var i=n(22);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(97),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(6).f,o=n(9),r=n(0)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,n){var i=n(51),o=n(31);e.exports=Object.keys||function(e){return i(e,o)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(12),o=n(2).document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t){e.exports=!0},function(e,t,n){var i=n(33)("keys"),o=n(28);e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),r=i(o),s=n(8),a=i(s),c=n(38),l=i(c),u=n(37),f=i(u),p=function(e){function t(e,n){(0,a.default)(this,t);var i=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.name=i.constructor.name,i.reason=n,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(i,i.constructor):i.stack=new Error(e).stack,i}return(0,f.default)(t,e),t}(Error);t.default=p},function(e,t,n){e.exports={default:n(106),__esModule:!0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(3),o=n(76),r=n(31),s=n(26)("IE_PROTO"),a=function(){},c=function(){var e,t=n(24)("iframe"),i=r.length;for(t.style.display="none",n(40).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;i--;)delete c.prototype[r[i]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var i=n(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var i=n(23);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=navigator.language||navigator.userLanguage||"en";t=t.substr(0,2).toLowerCase(),c.default.hasOwnProperty(t)||(t="en");var n=e;if("confirm.allowBrowser"===n){n="confirm.allow";var i=new s.default;"Chrome"===i.getBrowser().name?n="confirm.allowChrome":"Firefox"===i.getBrowser().name&&(n="confirm.allowFirefox")}else"deny.alert"===n&&(n="https:"===location.protocol?"deny.alertHttps":"deny.alertHttp");return c.default[t].hasOwnProperty(n)?c.default[t][n]:c.default.en.hasOwnProperty(n)?c.default.en[n]:n}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=o;var r=n(55),s=i(r),a=n(137),c=i(a);String.prototype.format=function(){var e=this;for(var t in arguments)arguments.hasOwnProperty(t)&&(e=e.replace("{"+t+"}",arguments[t]));return e}},function(e,t,n){var i=n(27),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(100),r=i(o),s=n(65),a=i(s),c=n(45),l=i(c);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(45),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){var i=n(16),o=n(0)("toStringTag"),r="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:r?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){e.exports=n(2).document&&document.documentElement},function(e,t,n){"use strict";var i=n(25),o=n(7),r=n(53),s=n(5),a=n(9),c=n(13),l=n(73),u=n(19),f=n(50),p=n(0)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,b,g,v,m){l(n,t,b);var w,y,x,k=function(e){if(!d&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",S="values"==g,M=!1,T=e.prototype,I=T[p]||T["@@iterator"]||g&&T[g],C=I||k(g),E=g?S?k("entries"):C:void 0,A="Array"==t?T.entries||I:I;if(A&&(x=f(A.call(new e)))!==Object.prototype&&(u(x,_,!0),i||a(x,p)||s(x,p,h)),S&&I&&"values"!==I.name&&(M=!0,C=function(){return I.call(this)}),i&&!m||!d&&!M&&T[p]||s(T,p,C),c[t]=C,c[_]=h,g)if(w={values:S?C:k("values"),keys:v?C:k("keys"),entries:E},m)for(y in w)y in T||r(T,y,w[y]);else o(o.P+o.F*(d||M),t,w);return w}},function(e,t,n){var i,o,r,s=n(15),a=n(72),c=n(40),l=n(24),u=n(2),f=u.process,p=u.setImmediate,d=u.clearImmediate,h=u.MessageChannel,b=0,g={},v=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},m=function(e){v.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++b]=function(){a("function"==typeof e?e:Function(e),t)},i(b),b},d=function(e){delete g[e]},"process"==n(16)(f)?i=function(e){f.nextTick(s(v,e,1))}:h?(o=new h,r=o.port2,o.port1.onmessage=m,i=s(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",m,!1)):i="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),v.call(e)}}:function(e){setTimeout(s(v,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!i(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var i=n(81)(!0);n(41)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(102),r=i(o),s=n(101),a=i(s),c="function"==typeof a.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===c(r.default)?function(e){return void 0===e?"undefined":c(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":c(e)}},function(e,t){},function(e,t,n){n(84);for(var i=n(2),o=n(5),r=n(13),s=n(0)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var l=a[c],u=i[l],f=u&&u.prototype;f&&!f[s]&&o(f,s,l),r[l]=r.Array}},function(e,t,n){e.exports=!n(4)&&!n(18)(function(){return 7!=Object.defineProperty(n(24)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(16);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(9),o=n(34),r=n(26)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var i=n(9),o=n(10),r=n(70)(!1),s=n(26)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);for(;t.length>c;)i(a,n=t[c++])&&(~r(l,n)||l.push(n));return l}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports=n(5)},function(e,t,n){var i=n(39),o=n(0)("iterator"),r=n(13);e.exports=n(1).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i;!function(o,r){"use strict";var s="model",a="name",c="type",l="vendor",u="version",f="mobile",p="tablet",d={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(e,t){for(var n,i,o,r,s,a,c=0;c<t.length&&!s;){var l=t[c],u=t[c+1];for(n=i=0;n<l.length&&!s;)if(s=l[n++].exec(e))for(o=0;o<u.length;o++)a=s[++i],r=u[o],"object"==typeof r&&r.length>0?2==r.length?"function"==typeof r[1]?this[r[0]]=r[1].call(this,a):this[r[0]]=r[1]:3==r.length?"function"!=typeof r[1]||r[1].exec&&r[1].test?this[r[0]]=a?a.replace(r[1],r[2]):void 0:this[r[0]]=a?r[1].call(this,a,r[2]):void 0:4==r.length&&(this[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):void 0):this[r]=a||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(d.has(t[n][i],e))return"?"===n?void 0:n}else if(d.has(t[n],e))return"?"===n?void 0:n;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[a,u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,h.str,b.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,l,[c,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[c,p]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[c,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[s,[l,"Amazon"],[c,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[s,h.str,b.device.amazon.model],[l,"Amazon"],[c,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[c,f]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[c,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[c,f]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[c,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[l,"Asus"],[c,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[c,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[l,"Sony"],[c,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,h.str,b.device.sprint.vendor],[s,h.str,b.device.sprint.model],[c,f]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,s,[c,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[l,[s,/_/g," "],[c,f]],[/(nexus\s9)/i],[s,[l,"HTC"],[c,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[l,"Huawei"],[c,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,s,[c,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[l,"Motorola"],[c,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[c,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,d.trim],[s,d.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[c,p]],[/smart-tv.+(samsung)/i],[l,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[c,f]],[/sie-(\w+)*/i],[s,[l,"Siemens"],[c,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[l,"Nokia"],s,[c,f]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[l,"Acer"],[c,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[l,"LG"],[c,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[c,p]],[/(lg) netcast\.tv/i],[l,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[l,"LG"],[c,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[c,p]],[/linux;.+((jolla));/i],[l,s,[c,f]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[c,f]],[/crkey/i],[[s,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)\s/i],[s,[l,"Google"],[c,p]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[l,"Google"],[c,f]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,f]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[l,"Meizu"],[c,p]],[/android.+a000(1)\s+build/i],[s,[l,"OnePlus"],[c,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[l,"RCA"],[c,p]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[s,[l,"Dell"],[c,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[l,"Verizon"],[c,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],s,[c,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[l,"NuVision"],[c,p]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[l,"ZTE"],s,[c,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[l,"Swiss"],[c,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[l,"Swiss"],[c,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[l,"Zeki"],[c,p]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[l,"Dragon Touch"],s,[c,p]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[s,[l,"Insignia"],[c,p]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[s,[l,"NextBook"],[c,p]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],s,[c,f]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[l,"LvTel"],s,[c,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[l,"Envizen"],[c,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[l,s,[c,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[l,"MachSpeed"],[c,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,s,[c,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[l,"Rotor"],[c,p]],[/android.+(KS(.+))\s+build/i],[s,[l,"Amazon"],[c,p]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[l,s,[c,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,d.lowerize],l,s],[/(android.+)[;\/].+build/i],[s,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]+).*(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,h.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,h.str,b.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,u]]},v=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof v))return new v(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),i=t?d.extend(g,t):g;return this.getBrowser=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,i.browser),e.major=d.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return h.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return h.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};v.VERSION="0.7.17",v.BROWSER={NAME:a,MAJOR:"major",VERSION:u},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:s,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:f,SMARTTV:"smarttv",TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:a,VERSION:u},v.OS={NAME:a,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=v),t.UAParser=v):n(126)?void 0!==(i=function(){return v}.call(t,n,t,e))&&(e.exports=i):o&&(o.UAParser=v);var m=o&&(o.jQuery||o.Zepto);if(void 0!==m){var w=new v;m.ua=w.getResult(),m.ua.get=function(){return w.getUA()},m.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var n in t)m.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){e.exports={default:n(103),__esModule:!0}},function(e,t,n){var i=n(13),o=n(0)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[o]===e)}},function(e,t,n){var i=n(3);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&i(r.call(e)),t}}},function(e,t,n){var i=n(0)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r=[7],s=r[i]();s.next=function(){return{done:n=!0}},r[i]=function(){return s},e(r)}catch(e){}return n}},function(e,t,n){t.f=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(i),r=function e(){(0,o.default)(this,e)};r.INITIALIZED="initialized",r.INITIALIZATION_FAILED="initializationFailed",r.SUBSCRIBED="subscribed",r.UNSUBSCRIBED="unsubscribed",r.PERMISSION_GRANTED="permissionGranted",r.PERMISSION_RE_GRANTED="permissionReGranted",t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),r=i(o),s=n(8),a=i(s),c=n(38),l=i(c),u=n(37),f=i(u),p=n(29),d=i(p),h=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),t}(d.default);t.default=h},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function o(){return void 0===e.env.NODE_ENV||"development"===e.env.NODE_ENV}function r(){return"undefined"!=typeof window?window===window.top?(location.hostname.indexOf(".cleverpush.com")>-1||o())&&0===location.pathname.indexOf("/subscribe")?T:M:0===location.pathname.indexOf("/iframe")?I:C:"undefined"!=typeof WorkerLocation&&location instanceof WorkerLocation?S:null}function s(){return r()===S}function a(){return r()===M}function c(){return"undefined"!=typeof window}function l(){return/Android/.test(navigator.userAgent)}function u(){return r()===T&&c()}function f(){return location.hostname.indexOf(".cleverpush.com")>-1&&0===location.pathname.indexOf("/unsubscribe")&&c()}function p(){return r()===I&&c()}function d(){return"Chrome"===A.name||"Chromium"===A.name||"Opera"===A.name}function h(){return"production"===e.env.NODE_ENV}function b(){var e=document.documentElement,t=document.body,n="scrollTop",i="scrollHeight";return(e[n]||t[n])/((e[i]||t[i])-e.clientHeight)*100}function g(){return new w.default(function(e){var t=function(){return e(!0)},n=function(){return e(!1)};if(window.webkitRequestFileSystem)return void window.webkitRequestFileSystem(0,0,n,t);if("MozAppearance"in document.documentElement.style){var i=indexedDB.open("test");return i.onerror=t,void(i.onsuccess=n)}return/constructor/i.test(window.HTMLElement)?function(){try{localStorage.length?n():(localStorage.x=1,localStorage.removeItem("x"),n())}catch(e){navigator.cookieEnabled?t():n()}}():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?n():t()})}function v(){var e=!0,t=null;return new w.default(function(n,i){g().then(function(o){o?(e=!1,t=null,i(new _.default("Private browsing mode not supported.","private-mode"))):("safari"in window&&"pushNotification"in window.safari?t="safari":void 0!==window.Notification&&("serviceWorker"in navigator||"http:"===location.protocol)?t="w3c":(e=!1,t=null,i(new _.default("Browser is not supported.","unsupported-browser"))),e&&"safari"!==t&&"ios"!==t&&("http:"===location.protocol||"showNotification"in ServiceWorkerRegistration.prototype?"PushManager"in window||(e=!1,i(new _.default("Push messaging isn't supported.","unsupported-browser"))):(e=!1,i(new _.default("Notifications aren't supported.","unsupported-browser"))),"serviceWorker"in navigator||"http:"===location.protocol||(e=!1,i(new _.default("Service workers are not supported.","unsupported-browser")))),e&&n(t))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.browserVersion=t.browser=t.CUSTOM_SUBDOMAIN=t.IFRAME=t.POPUP_UNSUBSCRIBE=t.POPUP=t.HOST=t.SERVICE_WORKER=void 0;var m=n(14),w=i(m);t.isDev=o,t.getEnv=r,t.isServiceWorker=s,t.isHost=a,t.isBrowser=c,t.isAndroid=l,t.isPopup=u,t.isPopupUnsubscribe=f,t.isIframe=p,t.isChrome=d,t.isProduction=h,t.getScrollPercentage=b,t.detectPrivateMode=g,t.supportsPush=v;var y=n(55),x=i(y),k=n(29),_=i(k),S=t.SERVICE_WORKER="serviceWorker",M=t.HOST="host",T=t.POPUP="popup",I=(t.POPUP_UNSUBSCRIBE="popupUnsubscribe",t.IFRAME="iframe"),C=t.CUSTOM_SUBDOMAIN="customSubdomain",E=new x.default,A=t.browser=E.getBrowser();t.browserVersion=A.version?parseInt(A.version.split(".")[0],10):0}).call(t,n(98))},function(e,t,n){e.exports={default:n(104),__esModule:!0}},function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){n(85);var i=n(1).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){n(46),n(44),n(47),n(86),e.exports=n(1).Promise},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(10),o=n(36),r=n(82);e.exports=function(e){return function(t,n,s){var a,c=i(t),l=o(c.length),u=r(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var i=n(15),o=n(58),r=n(57),s=n(3),a=n(36),c=n(54),l={},u={},t=e.exports=function(e,t,n,f,p){var d,h,b,g,v=p?function(){return e}:c(e),m=i(n,f,t?2:1),w=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(r(v)){for(d=a(e.length);d>w;w++)if((g=t?m(s(h=e[w])[0],h[1]):m(e[w]))===l||g===u)return g}else for(b=v.call(e);!(h=b.next()).done;)if((g=o(b,m,h.value,t))===l||g===u)return g};t.BREAK=l,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var i=n(32),o=n(21),r=n(19),s={};n(5)(s,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:o(1,n)}),r(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var i=n(2),o=n(42).set,r=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==n(16)(s);e.exports=function(){var e,t,n,l=function(){var i,o;for(c&&(i=s.domain)&&i.exit();e;){o=e.fn,e=e.next;try{o()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(c)n=function(){s.nextTick(l)};else if(r){var u=!0,f=document.createTextNode("");new r(l).observe(f,{characterData:!0}),n=function(){f.data=u=!u}}else if(a&&a.resolve){var p=a.resolve();n=function(){p.then(l)}}else n=function(){o.call(i,l)};return function(i){var o={fn:i,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var i=n(6),o=n(3),r=n(20);e.exports=n(4)?Object.defineProperties:function(e,t){o(e);for(var n,s=r(t),a=s.length,c=0;a>c;)i.f(e,n=s[c++],t[n]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(5);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:i(e,o,t[o]);return e}},function(e,t,n){"use strict";var i=n(2),o=n(1),r=n(6),s=n(4),a=n(0)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:i[e];s&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(3),o=n(22),r=n(0)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[r])?t:o(n)}},function(e,t,n){var i=n(27),o=n(23);e.exports=function(e){return function(t,n){var r,s,a=String(o(t)),c=i(n),l=a.length;return c<0||c>=l?e?"":void 0:(r=a.charCodeAt(c),r<55296||r>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):r:e?a.slice(c,c+2):s-56320+(r-55296<<10)+65536)}}},function(e,t,n){var i=n(27),o=Math.max,r=Math.min;e.exports=function(e,t){return e=i(e),e<0?o(e+t,0):r(e,t)}},function(e,t,n){var i=n(2),o=n(1),r=n(25),s=n(60),a=n(6).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){"use strict";var i=n(68),o=n(74),r=n(13),s=n(10);e.exports=n(41)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var i=n(7);i(i.S,"Object",{create:n(32)})},function(e,t,n){"use strict";var i,o,r,s=n(25),a=n(2),c=n(15),l=n(39),u=n(7),f=n(12),p=n(22),d=n(69),h=n(71),b=n(80),g=n(42).set,v=n(75)(),m=a.TypeError,w=a.process,y=a.Promise,w=a.process,x="process"==l(w),k=function(){},_=!!function(){try{var e=y.resolve(1),t=(e.constructor={})[n(0)("species")]=function(e){e(k,k)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}(),S=function(e,t){return e===t||e===y&&t===r},M=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},T=function(e){return S(y,e)?new I(e):new o(e)},I=o=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw m("Bad Promise constructor");t=e,n=i}),this.resolve=p(t),this.reject=p(n)},C=function(e){try{e()}catch(e){return{error:e}}},E=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var i=e._v,o=1==e._s,r=0;n.length>r;)!function(t){var n,r,s=o?t.ok:t.fail,a=t.resolve,c=t.reject,l=t.domain;try{s?(o||(2==e._h&&N(e),e._h=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&l.exit()),n===t.promise?c(m("Promise-chain cycle")):(r=M(n))?r.call(n,a,c):a(n)):c(i)}catch(e){c(e)}}(n[r++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){g.call(a,function(){var t,n,i,o=e._v;if(B(e)&&(t=C(function(){x?w.emit("unhandledRejection",o,e):(n=a.onunhandledrejection)?n({promise:e,reason:o}):(i=a.console)&&i.error&&i.error("Unhandled promise rejection",o)}),e._h=x||B(e)?2:1),e._a=void 0,t)throw t.error})},B=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if(t=n[i++],t.fail||!B(t.promise))return!1;return!0},N=function(e){g.call(a,function(){var t;x?w.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},P=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw m("Promise can't be resolved itself");(t=M(e))?v(function(){var i={_w:n,_d:!1};try{t.call(e,c(P,i,1),c(L,i,1))}catch(e){L.call(i,e)}}):(n._v=e,n._s=1,E(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};_||(y=function(e){d(this,y,"Promise","_h"),p(e),i.call(this);try{e(c(P,this,1),c(L,this,1))}catch(e){L.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(78)(y.prototype,{then:function(e,t){var n=T(b(this,y));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),I=function(){var e=new i;this.promise=e,this.resolve=c(P,e,1),this.reject=c(L,e,1)}),u(u.G+u.W+u.F*!_,{Promise:y}),n(19)(y,"Promise"),n(79)("Promise"),r=n(1).Promise,u(u.S+u.F*!_,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(s||!_),"Promise",{resolve:function(e){if(e instanceof y&&S(e.constructor,this))return e;var t=T(this);return(0,t.resolve)(e),t.promise}}),u(u.S+u.F*!(_&&n(59)(function(e){y.all(e).catch(k)})),"Promise",{all:function(e){var t=this,n=T(t),i=n.resolve,o=n.reject,r=C(function(){var n=[],r=0,s=1;h(e,!1,function(e){var a=r++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||i(n))},o)}),--s||i(n)});return r&&o(r.error),n.promise},race:function(e){var t=this,n=T(t),i=n.reject,o=C(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return o&&i(o.error),n.promise}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=i(o),s=n(8),a=i(s),c=n(17),l=i(c),u=n(11),f=n(95),p=n(142),d=i(p),h=n(63),b=n(61),g=i(b),v=n(29),m=i(v),w=function(){function e(t,n,i){var o=this;(0,a.default)(this,e),this.config=t,this.api=n,this.triggerEvent=i,this.storageManager=new d.default(t),this.subscribed=!1,this.getTopics().then(function(e){return o.topics=e})}return(0,l.default)(e,[{key:"isSubscribed",value:function(){var e=this;return new r.default(function(t){return"PREVIEW"===e.config.env?t(!1):"granted"===window.Notification.permission&&navigator.serviceWorker&&navigator.serviceWorker.controller?e.getActiveWorkerRegistration().then(function(n){return n.pushManager.getSubscription().then(function(n){if(n)return e.storageManager.isSubscribed().then(function(n){u.log.debug("manager subscribed = "+n+" (2)"),e.subscribed=n,t(n)});u.log.debug("manager subscribed = false (1)"),e.subscribed=!1,t(!1)})}).catch(function(n){n&&u.log.error(n),u.log.debug("manager subscribed = false (3)"),e.subscribed=!1,t(!1)}):(u.log.debug("manager subscribed = false (4)"),e.subscribed=!1,void t(!1))})}},{key:"canSubscribe",value:function(){var e=this;return new r.default(function(t,n){e.storageManager.canSubscribe().then(function(i){i?e.isSubscribed().then(function(e){e?n(new m.default("User is already subscribed","subscribed")):"denied"===Notification.permission?n(new m.default("User denied notifications","denied")):t(!0)}):n(new m.default("User has manually unsubscribed or denied notifications","unsubscribed"))}).catch(function(e){n(e)})})}},{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(e,t){var n=this,i=function(){return n.storageManager.setUnsubscribed(e),n.triggerEvent(g.default.UNSUBSCRIBED),navigator.serviceWorker&&navigator.serviceWorker.controller?n.getActiveWorkerRegistration().then(function(e){return e.pushManager}).then(function(e){return e.getSubscription()}).then(function(e){if(e)return e.unsubscribe().then(function(){return r.default.resolve()})}):r.default.resolve()},o=this.storageManager.getSubscriptionId();return!o||void 0!==t&&t===o?i():this.api.unsubscribe(o).then(function(){return i()})}},{key:"getWorkerPath",value:function(){return(0,h.isPopup)()?"/cleverpush-worker.js":this.config.serviceWorkerFile||"/worker.js"}},{key:"getWorkerScope",value:function(){var e=this.getWorkerPath();return e.substr(0,e.lastIndexOf("/")+1)||"/"}},{key:"getActiveWorkerRegistration",value:function(){var e=this;return new r.default(function(t,n){if(navigator.serviceWorker)if(navigator.serviceWorker.getRegistration){var i=e.getWorkerScope(),o=e.config.serviceWorkerFile;navigator.serviceWorker.getRegistration(i).then(function(e){e&&e.active&&(!o||!e.active.scriptURL||e.active.scriptURL.indexOf(o)>-1)?t(e):"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then(function(e){var i=!1;(e||[]).forEach(function(e){i||e.active&&(!o||!e.active.scriptURL||e.active.scriptURL.indexOf(o)>-1)&&(i=!0,t(e))}),i||n()}).catch(n):navigator.serviceWorker.controller?(u.log.debug("worker: getActiveWorkerRegistration: waiting for worker to be ready"),navigator.serviceWorker.ready.then(t).catch(n)):n()}).catch(n)}else navigator.serviceWorker.controller?(u.log.debug("worker: getActiveWorkerRegistration: waiting for worker to be ready"),navigator.serviceWorker.ready.then(t).catch(n)):n();else u.log.debug("worker: getActiveWorkerRegistration: !navigator.serviceWorker"),n()})}},{key:"registerWorker",value:function(){var e=this;return new r.default(function(t,n){u.log.debug("registering worker");var i=function(){var i=e.getWorkerPath(),o=e.getWorkerScope();navigator.serviceWorker.register(i,{scope:o,updateViaCache:"none"}).then(function(i){u.log.debug("worker registered",i),i.active?(u.log.debug("worker is active"),t(i)):i.installing?(u.log.debug("worker is installing"),i.installing.addEventListener("statechange",function(e){u.log.debug("worker: onstatechange",e.target.state),"activated"===e.target.state&&t(i)})):i.waiting?(u.log.debug("worker is waiting"),i.installing.addEventListener("statechange",function(e){u.log.debug("worker: onstatechange",e.target.state),"activated"===e.target.state&&t(i)})):(u.log.debug("worker: getActiveWorkerRegistration"),e.getActiveWorkerRegistration().then(t).catch(n))}).catch(function(e){u.log.error("error registering worker",e),n(e)})};e.getActiveWorkerRegistration().then(function(e){e&&e.active?(u.log.debug("worker was already registered",e),t(e)):i()}).catch(i)})}},{key:"tryWorkerUpdate",value:function(e){var t=this;(0,u.logMethodCall)("tryWorkerUpdate",e),this.storageManager.checkIfShouldUpdateWorker().then(function(n){e&&n&&(u.log.debug("updating worker now"),e.update(),t.storageManager.setWorkerUpdated())})}},{key:"sync",value:function(e,t){var n=this,i=void 0!==t?t:this.topics;return new r.default(function(t){var o=e;n.getSubscriptionId().then(function(e){var r=function(){var r={};e&&(r.subscriptionId=e),n.api.syncSubscription(o,i,r).then(function(e){n.storageManager.setSubscribed(e),n.iframeMessenger&&n.iframeMessenger.setSubscribed(e),n.storageManager.setSynced(),t()}).catch(function(e){void 0!==e?404===e?(n.storageManager.setUnsubscribed(!0),n.iframeMessenger&&n.iframeMessenger.setUnsubscribed(!0),n.subscribe()):u.log.error(e):u.log.error("Unknown Error occured while syncing"),t()})};void 0!==o&&o?r():(o=e,o?r():t())})})}},{key:"getSubscriptionId",value:function(){var e=this.storageManager.getSubscriptionId();return e?u.log.debug("subscriptionId",e):u.log.debug("subscriptionId not found"),r.default.resolve(e)}},{key:"hasNotificationPermission",value:function(){return"PREVIEW"===this.config.env?r.default.resolve(!1):r.default.resolve("granted"===window.Notification.permission)}},{key:"getNotificationPermission",value:function(){return window.Notification.permission}},{key:"setConfirm",value:function(e){this.confirm=e}},{key:"setTopics",value:function(e){return this.topics=e,this.storageManager.setTopics(e)}},{key:"getTopics",value:function(){return this.storageManager.getTopics()}},{key:"getStoredNotifications",value:function(){return this.api.request("GET","/channel/"+this.api.channelId+"/received-notifications").then(function(e){return new r.default(function(t){t(e&&e.notifications?e.notifications.filter(function(e){return e.createdAt}).sort(function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}):[])})})}},{key:"deleteStoredNotification",value:function(e){var t=this;return new r.default(function(n,i){t.storageManager.db?t.storageManager.deleteNotification(e).then(function(){n()}).catch(function(e){i(e)}):n()})}},{key:"getPushManagerSubscribeOptions",value:function(){var e={userVisibleOnly:!0};if(this.config.vapidPublicKey&&this.config.vapidPublicKey.length){var t=(0,f.urlBase64ToUint8Array)(this.config.vapidPublicKey);t&&(e.applicationServerKey=t)}return e}}]),e}();t.default=w},function(e,t,n){var i=n(52),o=n(21),r=n(10),s=n(43),a=n(9),c=n(48),l=Object.getOwnPropertyDescriptor;t.f=n(4)?l:function(e,t){if(e=r(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(a(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=i(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([r]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=h[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(u(i.parts[r],t))}else{for(var s=[],r=0;r<i.parts.length;r++)s.push(u(i.parts[r],t));h[i.id]={id:i.id,refs:1,parts:s}}}}function o(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],s=o[1],a=o[2],c=o[3],l={css:s,media:a,sourceMap:c};n[r]?n[r].parts.push(l):t.push(n[r]={id:r,parts:[l]})}return t}function r(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=w[w.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),w.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=w.indexOf(e);t>=0&&w.splice(t,1)}function a(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),r(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),r(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,i,o;if(t.singleton){var r=m++;n=v||(v=a(t)),i=f.bind(null,n,r,!1),o=f.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),i=d.bind(null,n,t),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),i=p.bind(null,n),o=function(){s(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}function f(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function p(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=y(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var h={},b=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,m=0,w=[],y=n(177);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=b()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=o(e);return i(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var a=n[s],c=h[a.id];c.refs--,r.push(c)}if(e){i(o(e),t)}for(var s=0;s<r.length;s++){var c=r[s];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete h[c.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},,function(e,t,n){"use strict";function i(){return new l.default(function(e){if("complete"===document.readyState)e();else{var t=function t(){e(),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0)};document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)}})}function o(){return new l.default(function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!==document.readyState&&e()})})}function r(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function s(e,t,n){e.style.opacity=0;var i=+new Date;!function o(){var r=+e.style.opacity+(new Date-i)/t;r>1&&(r=1),e.style.opacity=r,i=+new Date,+e.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):n()}()}function a(e,t,n){e.style.opacity=1;var i=+new Date;!function o(){var r=+e.style.opacity-(new Date-i)/t;r<0&&(r=0),e.style.opacity=r,i=+new Date,+e.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):n()}()}Object.defineProperty(t,"__esModule",{value:!0});var c=n(14),l=function(e){return e&&e.__esModule?e:{default:e}}(c);t.domLoaded=i,t.domReady=o,t.createNode=r,t.fadeIn=s,t.fadeOut=a},function(e,t,n){var i=n(51),o=n(31).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,t,n){var i=n(7),o=n(1),r=n(18);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*r(function(){n(1)}),"Object",s)}},function(e,t,n){"use strict";function i(e){(0,r.logMethodCall)("appendGcmManifest");var t=void 0!==e?e:"/cleverpush-manifest.json",n=document.createElement("link");n.rel="manifest",n.href=t,document.getElementsByTagName("head")[0].appendChild(n);var i=document.querySelectorAll("link[rel=manifest]");if(i&&i.length>1)for(var o=0;o<i.length;o+=1){var s=i[o];s.href.indexOf(t)>-1&&(document.querySelector("head").insertBefore(s,document.querySelector("head").children[0]),r.log.debug("Moved GCM manifest before other manifests."))}}function o(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),o=new Uint8Array(i.length),r=0;r<i.length;++r)o[r]=i.charCodeAt(r);return o}Object.defineProperty(t,"__esModule",{value:!0}),t.appendGcmManifest=i,t.urlBase64ToUint8Array=o;var r=n(11)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return c.default.race([fetch(e,t),new c.default(function(e,t){return setTimeout(function(){return t(new Error("request timeout"))},n)})])}function r(e){return new c.default(function(t){return e.json().then(function(n){return t({status:e.status,ok:e.ok,json:n})}).catch(function(){return t({status:e.status,ok:e.ok,json:null})})})}function s(e,t){return new c.default(function(n,i){o(e,t,t.timeout||1e4).then(r).then(function(e){return e.ok?n(e.json):i(new u.default(e.json?e.json.error:"HTTP Error",e.status))}).catch(function(e){return i(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),c=i(a);t.default=s;var l=n(29),u=i(l)},function(e,t,n){e.exports={default:n(105),__esModule:!0}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){b&&d&&(b=!1,d.length?h=d.concat(h):g=-1,h.length&&a())}function a(){if(!b){var e=o(s);b=!0;for(var t=h.length;t;){for(d=h,h=[];++g<t;)d&&d[g].run();g=-1,t=h.length}d=null,b=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,f,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var d,h=[],b=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||b||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),r=i(o),s=n(14),a=i(s),c=n(64),l=i(c),u=n(56),f=i(u),p=n(8),d=i(p),h=n(17),b=i(h),g=n(55),v=i(g),m=n(11),w=n(96),y=i(w),x=function(){function e(t){(0,d.default)(this,e),this.channelId=t,this.confirmAlertTestId=void 0,this.endpoint="https://api.cleverpush.com"}return(0,b.default)(e,[{key:"setConfirmAlertTestId",value:function(e){this.confirmAlertTestId=e}},{key:"request",value:function(e,t,n){(0,m.logMethodCall)("request",e,t,n);var i={method:"GET",headers:{Accept:"application/json"}};return e&&(i.method=e),n&&(i.body=(0,f.default)((0,l.default)({sdkVersion:"0.1.32"},n)),i.headers["Content-Type"]="application/json"),(0,y.default)(this.endpoint+t,i)}},{key:"getChannelConfig",value:function(){return this.request("GET","/channel/"+this.channelId+"/config",null)}},{key:"tagSubscription",value:function(e,t){return this.request("POST","/subscription/tag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"untagSubscription",value:function(e,t){return this.request("POST","/subscription/untag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"setSubscriptionAttribute",value:function(e,t,n){return this.request("POST","/subscription/attribute",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"pushSubscriptionAttributeValue",value:function(e,t,n){return this.request("POST","/subscription/attribute/push-value",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"pullSubscriptionAttributeValue",value:function(e,t,n){return this.request("POST","/subscription/attribute/pull-value",{channelId:this.channelId,attributeId:t,value:n,subscriptionId:e})}},{key:"triggerFollowUpEvent",value:function(e,t,n,i,o){return this.request("POST","/subscription/event",{channelId:this.channelId,subscriptionId:e,campaignId:t,name:n,parameters:i,fromNotification:o})}},{key:"trackConversion",value:function(e,t){return this.request("POST","/subscription/conversion",{channelId:this.channelId,subscriptionId:e,amount:t})}},{key:"getSyncParameters",value:function(){var e=this;return(0,m.logMethodCall)("getSyncParameters"),new a.default(function(t){var n=new v.default(navigator.userAgent),i=n.getBrowser(),o=n.getOS(),r={channelId:e.channelId,browserType:i.name||void 0,browserVersion:i.version||void 0,platformName:o.name||void 0,platformVersion:o.version||void 0},s=location.pathname.replace(/[^\/]*$/,"");s&&(r.pathname=s);var a=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];a&&(r.referrer=a);var c=localStorage.getItem("cleverpush-visits")||0;isNaN(c)||(r.visits=c+"");var u=(navigator.language||navigator.userLanguage||"").substr(0,2);u&&(r.language=u),e.confirmAlertTestId&&(r.confirmAlertTestId=e.confirmAlertTestId),(0,y.default)("https://geoip-api.cleverpush.com/",{mode:"cors",timeout:3e3}).then(function(e){t((0,l.default)(r,e))}).catch(function(e){m.log.error(e),t(r)})})}},{key:"syncSubscription",value:function(e,t,n){var i=this;if((0,m.logMethodCall)("syncSubscription",e,t),!e)return a.default.reject();var o="object"===(void 0===n?"undefined":(0,r.default)(n))?n:{};return this.getSyncParameters().then(function(n){o=(0,l.default)(o,n);var s=parseInt(o.browserVersion.split(".")[0],10);if("object"===(void 0===t?"undefined":(0,r.default)(t))&&t&&t.length&&(o.topics=t),"Safari"===o.browserType&&"object"===(void 0===e?"undefined":(0,r.default)(e))&&e.deviceToken)o.apnsToken=e.deviceToken;else if("string"==typeof e)o.subscriptionId=e;else if("Chrome"===o.browserType&&s>=42&&s<50)o.endpoint=e.endpoint;else if(o.endpoint=e.endpoint,void 0!==e.getKey){var c=e.getKey?e.getKey("p256dh"):null,u=null;("Firefox"!==o.browserType||"Firefox"===o.browserType&&s>=46)&&(u=e.getKey?e.getKey("auth"):null),c&&(o.publicKey=btoa(String.fromCharCode.apply(null,new Uint8Array(c)))),u&&(o.authSecret=btoa(String.fromCharCode.apply(null,new Uint8Array(u))))}return new a.default(function(e,t){return i.request("POST","/subscription/sync/"+i.channelId,o).then(function(n){n&&n.id?e(n.id):n&&n.error?t(n.error):t()}).catch(function(e){t(e.reason?e.reason:e.status?e.status:e)})})})}},{key:"unsubscribe",value:function(e){var t=this;return new a.default(function(n){t.request("POST","/subscription/unsubscribe",{subscriptionId:e,channelId:t.channelId}).then(n).catch(n)})}},{key:"confirmAlertShown",value:function(){var e=!0,t=sessionStorage.getItem("cleverpush-confirm-alert-reported");if(t){var n=parseInt(t,10);isNaN(n)||(e=n+72e5<Date.now())}return e?(sessionStorage.setItem("cleverpush-confirm-alert-reported",Date.now()),this.request("POST","/channel/confirm-alert",{channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId})):a.default.resolve()}}]),e}();t.default=x},function(e,t,n){e.exports={default:n(107),__esModule:!0}},function(e,t,n){e.exports={default:n(108),__esModule:!0}},function(e,t,n){e.exports={default:n(109),__esModule:!0}},function(e,t,n){var i=n(1),o=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){n(117),e.exports=n(1).Object.assign},function(e,t,n){n(118);var i=n(1).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){n(119),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){n(120),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){n(121),n(46),n(122),n(123),e.exports=n(1).Symbol},function(e,t,n){n(44),n(47),e.exports=n(60).f("iterator")},function(e,t,n){var i=n(20),o=n(77),r=n(52);e.exports=function(e){var t=i(e),n=o.f;if(n)for(var s,a=n(e),c=r.f,l=0;a.length>l;)c.call(e,s=a[l++])&&t.push(s);return t}},function(e,t,n){var i=n(16);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(20),o=n(10);e.exports=function(e,t){for(var n,r=o(e),s=i(r),a=s.length,c=0;a>c;)if(r[n=s[c++]]===t)return n}},function(e,t,n){var i=n(28)("meta"),o=n(12),r=n(9),s=n(6).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(18)(function(){return c(Object.preventExtensions({}))}),u=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,i)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[i].i},p=function(e,t){if(!r(e,i)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[i].w},d=function(e){return l&&h.NEED&&c(e)&&!r(e,i)&&u(e),e},h=e.exports={KEY:i,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},function(e,t,n){"use strict";var i=n(20),o=n(77),r=n(52),s=n(34),a=n(49),c=Object.assign;e.exports=!c||n(18)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=i})?function(e,t){for(var n=s(e),c=arguments.length,l=1,u=o.f,f=r.f;c>l;)for(var p,d=a(arguments[l++]),h=u?i(d).concat(u(d)):i(d),b=h.length,g=0;b>g;)f.call(d,p=h[g++])&&(n[p]=d[p]);return n}:c},function(e,t,n){var i=n(10),o=n(93).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return o(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==r.call(e)?a(e):o(i(e))}},function(e,t,n){var i=n(12),o=n(3),r=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n(15)(Function.call,n(88).f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:r}},function(e,t,n){var i=n(7);i(i.S+i.F,"Object",{assign:n(114)})},function(e,t,n){var i=n(7);i(i.S+i.F*!n(4),"Object",{defineProperty:n(6).f})},function(e,t,n){var i=n(34),o=n(50);n(94)("getPrototypeOf",function(){return function(e){return o(i(e))}})},function(e,t,n){var i=n(7);i(i.S,"Object",{setPrototypeOf:n(116).set})},function(e,t,n){"use strict";var i=n(2),o=n(9),r=n(4),s=n(7),a=n(53),c=n(113).KEY,l=n(18),u=n(33),f=n(19),p=n(28),d=n(0),h=n(60),b=n(83),g=n(112),v=n(110),m=n(111),w=n(3),y=n(10),x=n(43),k=n(21),_=n(32),S=n(115),M=n(88),T=n(6),I=n(20),C=M.f,E=T.f,A=S.f,B=i.Symbol,N=i.JSON,L=N&&N.stringify,P=d("_hidden"),O=d("toPrimitive"),D={}.propertyIsEnumerable,j=u("symbol-registry"),R=u("symbols"),U=u("op-symbols"),z=Object.prototype,F="function"==typeof B,q=i.QObject,W=!q||!q.prototype||!q.prototype.findChild,H=r&&l(function(){return 7!=_(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=C(z,t);i&&delete z[t],E(e,t,n),i&&e!==z&&E(z,t,i)}:E,V=function(e){var t=R[e]=_(B.prototype);return t._k=e,t},G=F&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},Y=function(e,t,n){return e===z&&Y(U,t,n),w(e),t=x(t,!0),w(n),o(R,t)?(n.enumerable?(o(e,P)&&e[P][t]&&(e[P][t]=!1),n=_(n,{enumerable:k(0,!1)})):(o(e,P)||E(e,P,k(1,{})),e[P][t]=!0),H(e,t,n)):E(e,t,n)},Q=function(e,t){w(e);for(var n,i=v(t=y(t)),o=0,r=i.length;r>o;)Y(e,n=i[o++],t[n]);return e},Z=function(e,t){return void 0===t?_(e):Q(_(e),t)},K=function(e){var t=D.call(this,e=x(e,!0));return!(this===z&&o(R,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(R,e)||o(this,P)&&this[P][e])||t)},J=function(e,t){if(e=y(e),t=x(t,!0),e!==z||!o(R,t)||o(U,t)){var n=C(e,t);return!n||!o(R,t)||o(e,P)&&e[P][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=A(y(e)),i=[],r=0;n.length>r;)o(R,t=n[r++])||t==P||t==c||i.push(t);return i},$=function(e){for(var t,n=e===z,i=A(n?U:y(e)),r=[],s=0;i.length>s;)!o(R,t=i[s++])||n&&!o(z,t)||r.push(R[t]);return r};F||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(U,n),o(this,P)&&o(this[P],e)&&(this[P][e]=!1),H(this,e,k(1,n))};return r&&W&&H(z,e,{configurable:!0,set:t}),V(e)},a(B.prototype,"toString",function(){return this._k}),M.f=J,T.f=Y,n(93).f=S.f=X,n(52).f=K,n(77).f=$,r&&!n(25)&&a(z,"propertyIsEnumerable",K,!0),h.f=function(e){return V(d(e))}),s(s.G+s.W+s.F*!F,{Symbol:B});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ee=I(d.store),te=0;ee.length>te;)b(ee[te++]);s(s.S+s.F*!F,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=B(e)},keyFor:function(e){if(G(e))return g(j,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!F,"Object",{create:Z,defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:$}),N&&s(s.S+s.F*(!F||l(function(){var e=B();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!G(e)){for(var t,n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);return t=i[1],"function"==typeof t&&(n=t),!n&&m(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!G(t))return t}),i[1]=t,L.apply(N,i)}}}),B.prototype[O]||n(5)(B.prototype,O,B.prototype.valueOf),f(B,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(e,t,n){n(83)("asyncIterator")},function(e,t,n){n(83)("observable")},function(e,t,n){var i,o;!function(r,s){"use strict";i=s,void 0!==(o="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=o)}(0,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(t){return"debug"===t&&(t="log"),typeof console!==a&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):s)}function n(e,t){for(var n=0;n<c.length;n++){var i=c[n];this[i]=n<e?s:this.methodFactory(i,e,t)}this.log=this.debug}function i(e,t,i){return function(){typeof console!==a&&(n.call(this,t,i),this[e].apply(this,arguments))}}function o(e,n,o){return t(e)||i.apply(this,arguments)}function r(e,t,i){function r(e){var t=(c[e]||"silent").toUpperCase();if(typeof window!==a){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function s(){var e;if(typeof window!==a){try{e=window.localStorage[f]}catch(e){}if(typeof e===a)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}var l,u=this,f="loglevel";e&&(f+=":"+e),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=i||o,u.getLevel=function(){return l},u.setLevel=function(t,i){if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(l=t,!1!==i&&r(t),n.call(u,t,e),typeof console===a&&t<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){s()||u.setLevel(e,!1)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var p=s();null==p&&(p=null==t?"WARN":t),u.setLevel(p,!1)}var s=function(){},a="undefined",c=["trace","debug","info","warn","error"],l=new r,u={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new r(e,l.getLevel(),l.methodFactory)),t};var f=typeof window!==a?window.log:void 0;return l.noConflict=function(){return typeof window!==a&&window.log===l&&(window.log=f),l},l.getLoggers=function(){return u},l})},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o="message",r={"http:":"80","https:":"443"},s=/^(https?:)?\/\/([^\/:]+)(:(\d+))?/,a={Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},c=function(){var e=0;return function(){return++e}}(),l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(a.debug){var i;(i=console).log.apply(i,["[Penpal]"].concat(t))}},u=function(e){var t=document.location,n=s.exec(e),i=void 0,o=void 0,a=void 0;return n?(i=n[1]?n[1]:t.protocol,o=n[2],a=n[4]):(i=t.protocol,o=t.hostname,a=t.port),i+"//"+o+(a&&a!==r[i]?":"+a:"")},f=function(e){var t=[];return e(function(){t.forEach(function(e){e()})}),{then:function(e){t.push(e)}}},p=function(e,t,n){var i=e.localName,r=e.local,s=e.remote,u=e.remoteOrigin,f=!1;l(i+": Creating call sender");var p=function(e){return function(){for(var t=arguments.length,n=Array(t),p=0;p<t;p++)n[p]=arguments[p];return l(i+": Sending "+e+"() call"),new a.Promise(function(t,a){if(f)return void a("Unable to send "+e+"() call due to destroyed connection");var p=c(),d=function n(c){c.source===s&&c.origin===u&&"reply"===c.data.penpal&&c.data.id===p&&(l(i+": Received "+e+"() reply"),r.removeEventListener(o,n),("fulfilled"===c.data.resolution?t:a)(c.data.returnValue))};r.addEventListener(o,d),s.postMessage({penpal:"call",id:p,methodName:e,args:n},u)})}};return n.then(function(){f=!0}),t.reduce(function(e,t){return e[t]=p(t),e},{})},d=function(e,t,n){var r=e.localName,s=e.local,c=e.remote,u=e.remoteOrigin,f=!1;l(r+": Connecting call receiver");var p=function(e){if(e.source===c&&e.origin===u&&"call"===e.data.penpal){var n=e.data,o=n.methodName,s=n.args,p=n.id;if(l(r+": Received "+o+"() call"),o in t){var d=function(e){return function(t){if(f)return void setTimeout(function(){throw new Error("Unable to send "+o+"() reply due to destroyed connection")});l(r+": Sending "+o+"() reply");try{c.postMessage({penpal:"reply",id:p,resolution:e,returnValue:t},u)}catch(e){"DataCloneError"===e.name&&c.postMessage({penpal:"reply",id:p,resolution:"rejected",returnValue:e.toString()},u),setTimeout(function(){throw e})}}};new a.Promise(function(e,n){try{e(t[o].apply(t,i(s)))}catch(e){n(e.toString()),setTimeout(function(){throw e})}}).then(d("fulfilled"),d("rejected"))}}};s.addEventListener(o,p),n.then(function(){f=!0,s.removeEventListener(o,p)})};a.connectToChild=function(e){var t=e.url,n=e.appendTo,i=e.methods,r=void 0===i?{}:i,s=void 0,c=new f(function(e){return s=e}),h=window,b=document.createElement("iframe");(n||document.body).appendChild(b),c.then(function(){b.parentNode&&b.parentNode.removeChild(b)});var g=b.contentWindow||b.contentDocument.parentWindow,v=u(t);return{promise:new a.Promise(function(e,n){var i=function t(n){if(n.source===g&&n.origin===v&&"handshake"===n.data.penpal){l("Parent: Received handshake"),h.removeEventListener(o,t),l("Parent: Sending handshake reply"),n.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(r)},n.origin);var i={localName:"parent",local:h,remote:g,remoteOrigin:n.origin};d(i,r,c),e(p(i,n.data.methodNames,c))}};h.addEventListener(o,i),c.then(function(){h.removeEventListener(o,i),n("Parent: Connection destroyed")}),l("Parent: Loading iframe"),b.src=t}),iframe:b,destroy:s}},a.connectToParent=function(e){var t=e.parentOrigin,n=e.methods,i=void 0===n?{}:n,r=void 0,s=new f(function(e){return r=e}),c=window,h=c.parent,b=u(document.referrer);if(void 0===t||Array.isArray(t)||(t=[t]),void 0!==t&&-1===t.indexOf(b))throw new Error("Child: parent's origin not in list of valid parent origins");return{promise:new a.Promise(function(e,n){var r=function n(r){if((void 0===t||-1!==t.indexOf(r.origin))&&r.source===h&&"handshake-reply"===r.data.penpal){l("Child: Received handshake reply"),c.removeEventListener(o,n);var a={localName:"child",local:c,remote:h,remoteOrigin:r.origin};d(a,i,s),e(p(a,r.data.methodNames,s))}};c.addEventListener(o,r),s.then(function(){c.removeEventListener(o,r),n("Child: Connection destroyed")}),l("Child: Sending handshake"),h.postMessage({penpal:"handshake",methodNames:Object.keys(i)},b)}),destroy:r}},t.default=a},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){e.exports={default:n(161),__esModule:!0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(30),r=i(o),s=n(127),a=i(s);t.default=function e(t,n,i){null===t&&(t=Function.prototype);var o=(0,a.default)(t,n);if(void 0===o){var s=(0,r.default)(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var c=o.get;if(void 0!==c)return c.call(i)}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(154),o=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=n(157),r=i(o),s=n(97),a=i(s),c=n(129),l=i(c),u=n(135),f=i(u),p=n(11);if(window.__cleverPushSdkLoadCount=(window.__cleverPushSdkLoadCount||0)+1,window.__cleverPushSdkLoadCount>1)p.log.warn("The SDK is included more than once. Please only load the CleverPush SDK once in your code.");else{var d=void 0;if(void 0!==window.CleverPush&&(d=[].concat((0,l.default)(window.CleverPush))),window.CleverPush=new f.default,d)for(var h=0;h<d.length;h+=1)window.CleverPush.executeFunction(d[h])}(0,a.default)(Array.prototype,r.default,{value:"Array"})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=i(o),s=n(17),a=i(s),c=n(141),l=i(c),u=n(92),f=n(35),p=n(11),d=n(62),h=i(d),b=n(63),g=n(29),v=(i(g),function(){function e(t,i,o,s){(0,r.default)(this,e),this.config=t,this.subscriptionManager=i,this.api=o,this.confirm=s,n(178)}return(0,a.default)(e,[{key:"getClassName",value:function(){var e="cleverpush-bell";return this.config.notificationBellPosition&&(e+=" cleverpush-bell-position-"+this.config.notificationBellPosition),e}},{key:"show",value:function(e){var t=void 0,n=this.getClassName();e?(n+=" cleverpush-bell-disabled",t=(0,f.translate)("bell.subscribed"),this.config.hideNotificationBellSubscribed&&(n+=" cleverpush-bell-hidden")):t=(0,f.translate)("bell.subscribe"),document.body.appendChild((0,u.createNode)("<div class='"+n+"'><div class='cleverpush-bell-message'>"+t+"</div></div>")),this.bell=document.querySelector(".cleverpush-bell"),this.bell&&(this.bell.addEventListener("click",this.onClick.bind(this)),this.config.notificationBellColor&&this.config.notificationBellColor.length&&(this.bell.style.backgroundColor=this.config.notificationBellColor),this.config.notificationBellOffsetBottom&&(this.bell.style.bottom=this.config.notificationBellOffsetBottom+"px"),this.config.notificationBellOffsetLeft&&"right"!==this.config.notificationBellPosition&&(this.bell.style.left=this.config.notificationBellOffsetLeft+"px"),this.config.notificationBellOffsetRight&&"left"!==this.config.notificationBellPosition&&(this.bell.style.right=this.config.notificationBellOffsetRight+"px"))}},{key:"reset",value:function(e){if(this.bell){var t=void 0,n=this.getClassName();e?(n+=" cleverpush-bell-disabled",t=(0,f.translate)("bell.subscribed")):t=(0,f.translate)("bell.subscribe"),this.bell.className=n;var i=this.bell.querySelector(".cleverpush-bell-message");i&&(i.innerHTML=t)}}},{key:"showMessage",value:function(e,t){if(this.bell){var n=this.bell.querySelector(".cleverpush-bell-message");n.className+=" cleverpush-bell-message-open",n.innerHTML=e,setTimeout(function(){n.innerHTML=(0,f.translate)("bell.subscribe"),n.className="cleverpush-bell-message"},1e3*t)}}},{key:"onClick",value:function(){var e=this;if(this.bell)if(this.subscriptionManager.subscribed)this.panel||(this.panel=new l.default(this.config,this.subscriptionManager)),this.panel.show();else{var t=this.subscriptionManager.getNotificationPermission();if(this.confirm&&(this.config.showConfirmAlert||!this.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname))this.confirm.setAutoHideBackdrop("granted"===t||(0,b.isAndroid)()),this.confirm.show();else if(!this.subscriptionManager.isSubscribing){var n="default"===t;p.log.debug("showBackdrop",n);var i=function(){"PREVIEW"!==e.config.env&&e.subscriptionManager.subscribe().then(function(t){e.confirm&&n&&e.confirm.hideBackdrop(),"denied"===t&&e.subscriptionManager.confirm}).catch(function(t){e.confirm&&n&&e.confirm.hideBackdrop(),!t.message||t instanceof h.default||e.showMessage(t.message,5),!e.config.ownDomain||"https:"!==location.protocol||"denied"!==t.reason&&"default"!==t.reason?p.log.error(t):e.subscriptionManager.confirm&&e.subscriptionManager.confirm.showBackdrop(void 0,"denied",t.message)})};this.confirm&&n?this.confirm.showBackdrop(i):i()}this.api.confirmAlertShown()}}}]),e}());t.default=v},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray2=__webpack_require__(129),_toConsumableArray3=_interopRequireDefault(_toConsumableArray2),_stringify=__webpack_require__(56),_stringify2=_interopRequireDefault(_stringify),_assign=__webpack_require__(64),_assign2=_interopRequireDefault(_assign),_promise=__webpack_require__(14),_promise2=_interopRequireDefault(_promise),_typeof2=__webpack_require__(45),_typeof3=_interopRequireDefault(_typeof2),_getPrototypeOf=__webpack_require__(30),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__(8),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(17),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(38),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(37),_inherits3=_interopRequireDefault(_inherits2),_wolfy87Eventemitter=__webpack_require__(185),_wolfy87Eventemitter2=_interopRequireDefault(_wolfy87Eventemitter),_uaParserJs=__webpack_require__(55),_uaParserJs2=_interopRequireDefault(_uaParserJs),_bell=__webpack_require__(134),_bell2=_interopRequireDefault(_bell),_confirm=__webpack_require__(136),_confirm2=_interopRequireDefault(_confirm),_debug=__webpack_require__(11),_dom=__webpack_require__(92),_api=__webpack_require__(99),_api2=_interopRequireDefault(_api),_command=__webpack_require__(139),_command2=_interopRequireDefault(_command),_env=__webpack_require__(63),_event=__webpack_require__(61),_event2=_interopRequireDefault(_event),_safariManager=__webpack_require__(148),_safariManager2=_interopRequireDefault(_safariManager),_httpsManager=__webpack_require__(147),_httpsManager2=_interopRequireDefault(_httpsManager),_httpHostManager=__webpack_require__(144),_httpHostManager2=_interopRequireDefault(_httpHostManager),_httpIframeManager=__webpack_require__(145),_httpIframeManager2=_interopRequireDefault(_httpIframeManager),_httpPopupManager=__webpack_require__(146),_httpPopupManager2=_interopRequireDefault(_httpPopupManager),_facebookManager=__webpack_require__(143),_facebookManager2=_interopRequireDefault(_facebookManager),_translate=__webpack_require__(35),_contentButton=__webpack_require__(138),_contentButton2=_interopRequireDefault(_contentButton),_tagButton=__webpack_require__(149),_tagButton2=_interopRequireDefault(_tagButton),_topicButton=__webpack_require__(150),_topicButton2=_interopRequireDefault(_topicButton),_pageBanner=__webpack_require__(140),_pageBanner2=_interopRequireDefault(_pageBanner),_webBanner=__webpack_require__(153),_webBanner2=_interopRequireDefault(_webBanner),_CleverPushError=__webpack_require__(29),_CleverPushError2=_interopRequireDefault(_CleverPushError),_adblock=__webpack_require__(151),_adblock2=_interopRequireDefault(_adblock),CleverPush=function(_EventEmitter){function CleverPush(){(0,_classCallCheck3.default)(this,CleverPush);var e=(0,_possibleConstructorReturn3.default)(this,(CleverPush.__proto__||(0,_getPrototypeOf2.default)(CleverPush)).call(this));return e.bell=null,e.config={},e.log=_debug.log,e.initialized=!1,e.initCalled=!1,e.initFailed=!1,e.initError=null,e.api=null,e.subscriptionManager=null,e.version="0.1.32",e}return(0,_inherits3.default)(CleverPush,_EventEmitter),(0,_createClass3.default)(CleverPush,[{key:"init",value:function(e,t){var n=this;(0,_debug.logMethodCall)("init",e);var i=function(e,i){var o=void 0!==i?i:!e;"function"==typeof t?t(e,o):e&&(e.warn?_debug.log.info(e.message):_debug.log.error(e)),"function"==typeof window.cleverPushInitCallback&&window.cleverPushInitCallback(e,o),e?(n.initFailed=!0,n.initError=e,n.trigger(_event2.default.INITIALIZATION_FAILED),e&&"unsupported-browser"!==e.reason&&"private-mode"!==e.reason&&"already-initialized"!==e.reason&&e.reason):n.initFailed=!1};if(this.initCalled)i(new _CleverPushError2.default("Init was already called, please only call init() once.","init-already-called"),!1);else if(this.initCalled=!0,"object"!==(void 0===e?"undefined":(0,_typeof3.default)(e)))i(new _CleverPushError2.default("Required parameter `config` not given.","invalid-config"));else if(e.channelId)if(this.initialized)i(new _CleverPushError2.default("SDK was already initialized.","already-initialized"));else{this.api=new _api2.default(e.channelId);var o=function(){var e=void 0;e="safari"===n.browserType?_safariManager2.default:"facebook"===n.browserType?_facebookManager2.default:(0,_env.isPopup)()?_httpPopupManager2.default:(0,_env.isIframe)()?_httpIframeManager2.default:!n.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname?_httpHostManager2.default:_httpsManager2.default,n.subscriptionManager=new e(n.config,n.api,n.trigger.bind(n))};if((0,_env.isHost)()||"PREVIEW"===e.env){var r=new _promise2.default(function(t){void 0===e.loadConfig||e.loadConfig?n.api.getChannelConfig(e.channelId).then(function(e){t(e)}):t({})});e.apiEndpoint&&(this.api.endpoint=e.apiEndpoint),r.then(function(t){n.config=(0,_assign2.default)({autoRegister:!0,alertTimeout:0,alertMinimumVisits:0,loadIframe:!0},t,e),"object"===(0,_typeof3.default)(self.cleverPushConfig)&&(n.config=(0,_assign2.default)(n.config,self.cleverPushConfig)),_debug.log.debug("Config:",n.config),n.config.apiEndpoint&&(n.api.endpoint=n.config.apiEndpoint);(function(){return new _promise2.default(function(e,t){(0,_env.supportsPush)().then(e).catch(function(i){if(n.config.facebookAppId&&n.config.facebookPageId&&"unsupported-browser"===i.reason){var o=new _uaParserJs2.default,r=o.getBrowser();if(_debug.log.debug("UAParser Browser:",r),r&&("Safari"===r.name||"Mobile Safari"===r.name)){if((r.version?parseInt(r.version.split(".")[0],10):0)>=12)return void t(i)}e("facebook")}else t(i)})})})().then(function(e){if(n.browserType=e,n.config.confirmAlertTestsEnabled&&n.config.confirmAlertTests&&n.config.confirmAlertTests.length>0){var t=void 0;if(n.config.confirmAlertTestId){var r=n.config.confirmAlertTests.findIndex(function(e){return e.id===n.config.confirmAlertTestId});r>=0&&(t=n.config.confirmAlertTests[r])}if(!t){var s=100/n.config.confirmAlertTests.length,a=(n.config.confirmAlertTests||[]).map(function(e){return(0,_assign2.default)({},e,{percentage:e.percentage||s})}),c=void 0,l=Math.random(),u=0;for(c=0;c<a.length;c+=1)if(a[c].percentage){if((u+=a[c].percentage/100)>l){t=a[c];break}t||(t=a.filter(function(e){return!e.percentage}))}}t&&t.config&&(_debug.log.debug("Split-Test:",t),n.config=(0,_assign2.default)({},n.config,t.config,{confirmAlertTestId:t.id}),t.alertLocalization||(n.config.alertLocalization||(n.config.alertLocalization={}),n.config.alertLocalization={allow:t.config.alertLocalizationAllow||n.config.alertLocalization.allow,deny:t.config.alertLocalizationDeny||n.config.alertLocalization.deny,confirmInfo:t.config.alertLocalizationConfirmInfo||n.config.alertLocalization.confirmInfo,title:t.config.alertLocalizationTitle||n.config.alertLocalization.title,info:t.config.alertLocalizationInfo||n.config.alertLocalization.info}),n.api.setConfirmAlertTestId(n.config.confirmAlertTestId))}n.config.channelTopics&&n.config.channelTopics.length&&(n.config.channelTopics=n.config.channelTopics.sort(function(e,t){return e.sort-t.sort}));var f=function(){o(),n.waitForInit().then(function(){if(_debug.log.debug("Init done"),n.config.customCss){var e=document.createElement("style");e.innerHTML=n.config.customCss,document.body.appendChild(e)}n.confirm=new _confirm2.default(n.config,n.subscriptionManager),n.subscriptionManager.setConfirm(n.confirm);var t=new _uaParserJs2.default;if(n.config.showNotificationBell){("Android"===t.getOS().name||"mobile"===t.getDevice().type)&&n.config.hideNotificationBellMobile||(n.bell=new _bell2.default(n.config,n.subscriptionManager,n.api,n.confirm))}var o="Android"===t.getOS().name&&("Chrome"===t.getBrowser().name||"Firefox"===t.getBrowser().name);if(!n.config.confirmAlertHideChannelTopics){var r="Mac OS"===t.getOS().name&&"Safari"===t.getBrowser().name;(n.config.channelTopics||[]).length&&(o&&!n.config.showConfirmAlertMobile||r)&&(n.config.confirmAlertSelectTopicsLater=!0)}n.config.showConfirmAlertMobile&&!n.config.confirmAlertSelectTopicsLater&&o&&(n.config.showConfirmAlert=!0),n.on(_event2.default.SUBSCRIBED,function(e){n.bell&&n.bell.reset(!0),n.confirm&&n.confirm.hide()}),n.on(_event2.default.UNSUBSCRIBED,function(){n.subscriptionManager.subscribed=!1,n.bell&&n.bell.reset(!1)}),n.initContentButtons(),n.initTagButtons(),n.initTopicButtons(),n.initPageBanners(),n.initWebBanners(),n.initTags(),n.subscriptionManager.isSubscribed().then(function(e){n.bell&&n.bell.show(e),e&&(_debug.log.debug("main subscribed = true"),n.subscriptionManager.subscribed=!0,n.subscriptionManager.iframeMessenger&&n.subscriptionManager.getSubscriptionId().then(function(e){n.subscriptionManager.iframeMessenger.setSubscribed(e)}))});var s=!1,a=function(){s||(s=!0,n.subscriptionManager.storageManager.getVisits()>=n.config.alertMinimumVisits&&setTimeout(function(){n.config.preventDuplicateOptIns&&n.config.androidPackageName&&"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then(function(e){var t=!1;e&&e.forEach(function(e){e.id===n.config.androidPackageName&&(t=!0)}),t||n.triggerOptIn()}):n.triggerOptIn()},n.config.alertTimeout))};if(n.config.autoRegister){if(!isNaN(n.config.alertScrollPercentage)&&n.config.alertScrollPercentage>0){var c=void 0,l=function(){(0,_env.getScrollPercentage)()>=n.config.alertScrollPercentage&&(window.removeEventListener("scroll",c),a())};c=window.addEventListener("scroll",l),l()}else a();n.subscriptionManager.storageManager.incrementVisits()}if(n.on(_event2.default.PERMISSION_RE_GRANTED,function(){n.config.autoRegister&&n.triggerOptIn()}),n.initialized=!0,n.initCalled=!1,i(!1,!0),(0,_env.isHost)()&&"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var u=new URLSearchParams(location.search.slice(1));if("true"===u.get("cleverPushDebugRedirect")){var f=n.config.subdomain||n.config.channelSubdomain;if(f){var p={notification:(window.Notification||{}).permission,localStorage:{"cleverpush-subscription-id":localStorage.getItem("cleverpush-subscription-id"),"cleverpush-subscription-id-old":localStorage.getItem("cleverpush-subscription-id-old"),"cleverpush-subscription-status":localStorage.getItem("cleverpush-subscription-status"),"cleverpush-last-sync":localStorage.getItem("cleverpush-last-sync"),"cleverpush-last-worker-update":localStorage.getItem("cleverpush-last-worker-update"),"cleverpush-last-worker-version":localStorage.getItem("cleverpush-last-worker-version"),"cleverpush-visits":localStorage.getItem("cleverpush-visits"),"cleverpush-close-time":localStorage.getItem("cleverpush-close-time"),"cleverpush-deny-time":localStorage.getItem("cleverpush-deny-time"),"cleverpush-topics":localStorage.getItem("cleverpush-topics"),"cleverpush-tags":localStorage.getItem("cleverpush-tags")}};location.href="https://"+f+".cleverpush.com/debug?status="+encodeURIComponent((0,_stringify2.default)(p))}}else if("true"===u.get("cleverPushUnsubscribe")){var d=n.config.subdomain||n.config.channelSubdomain;d&&n.subscriptionManager.getSubscriptionId().then(function(e){location.href="https://"+d+".cleverpush.com/unsubscribe?subscriptionId="+e})}var h=u.get("cleverPushFollowUpCampaignId")||sessionStorage.getItem("cleverPushFollowUpCampaignId");h&&(sessionStorage.setItem("cleverPushFollowUpCampaignId",h),n.config.clickedFollowUpCampaignId=h)}else sessionStorage.getItem("cleverPushFollowUpCampaignId")&&(n.config.clickedFollowUpCampaignId=sessionStorage.getItem("cleverPushFollowUpCampaignId"));if(n.config.shopifyCartAbandonmentFollowUpCampaignId){var b=document.querySelector('button[name="add"]');b&&b.addEventListener("click",function(){n.triggerFollowUpEvent(n.config.shopifyCartAbandonmentFollowUpCampaignId,"addToCart")}),(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&n.triggerFollowUpEvent(n.config.shopifyCartAbandonmentFollowUpCampaignId,"checkout")}!sessionStorage.getItem("cleverpush-referrer")&&document.referrer&&sessionStorage.setItem("cleverpush-referrer",document.referrer.split("?")[0])})};n.config.initSdkBeforeOnLoad,(0,_dom.domReady)().then(f).catch(function(e){i(e)})}).catch(function(e){n.initPageBanners(),n.initWebBanners(),e.warn=!0,i(e)})})}else if((0,_env.isIframe)()||(0,_env.isPopup)()){if(this.config=e,"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var s=new URLSearchParams(location.search.slice(1));s.get("confirmAlertTestId")&&(this.config.confirmAlertTestId=s.get("confirmAlertTestId"),this.api.setConfirmAlertTestId(this.config.confirmAlertTestId))}o(),_debug.log.debug("Init done"),this.initialized=!0,this.initCalled=!1,i(!1,!0)}}else i(new _CleverPushError2.default("Required attribute `channelId` in `config` not given.","invalid-config"))}},{key:"initHttpIframe",value:function(e){(0,_debug.logMethodCall)("initHttpIframe",e),this.init(e)}},{key:"initHttpPopup",value:function(e){(0,_debug.logMethodCall)("initHttpPopup",e),this.init(e,function(e){if(e){_debug.log.error(e);var t=document.findElementById("status");t?t.innerText=e.message||e.reason||e:window.opener?window.close():history.back()}else window.onbeforeunload=function(){return(0,_translate.translate)("windowclose.confirm")}})}},{key:"initContentButtons",value:function(){var e=this;(0,_debug.logMethodCall)("initContentButtons"),this.contentButtons=this.contentButtons||[];for(var t=document.querySelectorAll(".cleverpush-content-button"),n=0;n<t.length;n+=1)!function(n){var i=t[n],o=new _contentButton2.default(n,i,e.config,e.subscriptionManager,e.api);e.on(_event2.default.SUBSCRIBED,function(){o.reset(!0)}),e.on(_event2.default.UNSUBSCRIBED,function(){o.reset(!1)}),e.contentButtons.push(o)}(n)}},{key:"initTagButtons",value:function(){var e=this;(0,_debug.logMethodCall)("initTagButtons"),this.tagButtons=this.tagButtons||[];for(var t=document.querySelectorAll(".cleverpush-tag-button"),n=0;n<t.length;n+=1)!function(n){var i=t[n],o=new _tagButton2.default(n,i,e.config,e.subscriptionManager,e.api);e.on(_event2.default.SUBSCRIBED,function(){o.reset(!0)}),e.on(_event2.default.UNSUBSCRIBED,function(){o.reset(!1)}),e.tagButtons.push(o)}(n)}},{key:"initTopicButtons",value:function(){var e=this;(0,_debug.logMethodCall)("initTopicButtons"),this.topicButtons=this.topicButtons||[];for(var t=document.querySelectorAll(".cleverpush-topic-button"),n=0;n<t.length;n+=1)!function(n){var i=t[n],o=new _topicButton2.default(n,i,e.config,e.subscriptionManager,e.api);e.on(_event2.default.SUBSCRIBED,function(){o.reset(!0)}),e.on(_event2.default.UNSUBSCRIBED,function(){o.reset(!1)}),e.topicButtons.push(o)}(n)}},{key:"initPageBanners",value:function(){var e=this;(0,_debug.logMethodCall)("initPageBanners"),this.pageBanners=this.pageBanners||[];var t=void 0;this.subscriptionManager&&this.subscriptionManager.storageManager&&(t=this.subscriptionManager.storageManager),(this.config.pageBannerNotifications||[]).reduce(function(e,n){return e.then(function(e){return new _promise2.default(function(i){t?t.getNotification(n._id).then(function(t){i(t?e:e.concat(n))}).catch(function(){i(e.concat(n))}):i(e.concat(n))})})},_promise2.default.resolve([])).then(function(n){var i=!1;n.forEach(function(n){var o=new _pageBanner2.default(n,e.config,e.subscriptionManager,e.api);if((!n.scheduledAt||n.scheduledAt&&n.scheduledAt<new Date)&&(!n.expiresAt||n.expiresAt>new Date)){var r=!0;r&&n.pageBannerMatchPath&&(r=new RegExp(n.pageBannerMatchPath).test(window.location.pathname)),r&&n.pageBannerNotMatchPath&&(r=!new RegExp(n.pageBannerNotMatchPath).test(window.location.pathname)),r&&(i=!0,o.show(),t&&(o.onClickCallback=function(){return t.addNotification({id:n._id,url:n.url,title:n.title,text:n.text,icon:n.iconUrl,media:n.mediaUrl,autoHide:n.autoHide,subscriptionId:"",channelId:e.config.channelId,scheduledAt:n.scheduledAt,createdAt:n.createdAt,expiresAt:n.expiresAt,clicked:0,markedAsDelivered:1})}))}e.pageBanners.push(o)})}),this.config.pageBannerAdblockEnabled&&(0,_adblock2.default)(function(t){if(t){_debug.log.debug("AdBlock detected");new _pageBanner2.default({id:"adblockNotification",title:e.config.pageBannerAdblockTitle||"",text:e.config.pageBannerAdblockText||"",url:e.config.pageBannerAdblockUrl},e.config,e.subscriptionManager,e.api).show()}})}},{key:"initWebBanners",value:function(){var e=this;(0,_debug.logMethodCall)("initWebBanners");var t="cleverpush-webbanners-shown",n=localStorage.getItem(t),i=void 0;if(n)try{i=JSON.parse(n)}catch(e){}i||(i=[]);var o=sessionStorage.getItem(t);if(o)try{i=i.concat(JSON.parse(o))}catch(e){}this.webBanners=this.webBanners||[];this.subscriptionManager&&this.subscriptionManager.storageManager&&this.subscriptionManager.storageManager;(this.config.webBanners||[]).filter(function(e){return!i.includes(e._id)}).forEach(function(n){var o=new _webBanner2.default(n,e.config,e.subscriptionManager,e.api);if((!n.startsAt||new Date(n.startsAt)<new Date)&&(!n.endsAt||new Date(n.endsAt)>new Date)){(function(){var t=!0;return t&&n.matchPath&&(t=new RegExp(n.matchPath).test(window.location.pathname)),t&&n.notMatchPath&&(t=!new RegExp(n.notMatchPath).test(window.location.pathname)),t&&n.showOnlySubscribers?new _promise2.default(function(t){e.isSubscribed(function(e){t(e)})}):_promise2.default.resolve(t)})().then(function(e){e&&setTimeout(function(){o.show(),i.push(n._id),"once"===n.frequency?localStorage.setItem(t,(0,_stringify2.default)(i)):"oncePerSession"===n.frequency&&sessionStorage.setItem(t,(0,_stringify2.default)(i))},1e3*(n.timeout||0))})}e.webBanners.push(o)})}},{key:"autoAssignTagMatches",value:function autoAssignTagMatches(storedTags,tag){if(tag.autoAssignPath&&new RegExp(tag.autoAssignPath).test(location.pathname))return!0;if(tag.autoAssignFunction&&storedTags.indexOf(tag._id)<0)try{return!!eval(tag.autoAssignFunction)}catch(e){_debug.log.error(e)}return!1}},{key:"initTags",value:function(){var e=this;this.subscriptionManager.storageManager.getTags().then(function(t){var n=e.config.channelTags;n&&n.length&&n.forEach(function(n){if(e.autoAssignTagMatches(t,n)){var i=isNaN(n.autoAssignVisits)?0:n.autoAssignVisits,o="cleverpush-tag-autoAssignVisits-"+n._id,r=n.autoAssignSessionVisits?sessionStorage:localStorage,s=r.getItem(o),a=0;"string"!=typeof s||isNaN(s)||(a=parseInt(s,10)),a>=i?!isNaN(n.autoAssignSeconds)&&n.autoAssignSeconds?setTimeout(function(){e.tagSubscription(n._id)},1e3*n.autoAssignSeconds):e.tagSubscription(n._id):(a+=1,r.setItem(o,a.toString()))}})})}},{key:"getNotificationPermission",value:function(){var e=this;return this.waitForInit().then(function(){return new _promise2.default(function(t){e.config.ownDomain&&"https:"===location.protocol?"safari"===e.browserType?e.config.safariWebsitePushId?t(window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission):_debug.log.debug("Safari website push ID is unknown."):t(window.Notification.permission):e.iframeMessenger.message(_command2.default.REMOTE_NOTIFICATION_PERMISSION,null,function(e){var n=e.data;t(n)})})})}},{key:"push",value:function(e){if("function"==typeof e)e();else if("string"==typeof e)this.push(arguments);else{var t=e.shift();this[t].apply(this,e)}}},{key:"executeFunction",value:function(){var e=[];e=arguments&&"object"===(0,_typeof3.default)(arguments[0])?arguments[0]:arguments;var t=this[e[0]];"function"==typeof t&&t.apply(this,Array.prototype.slice.call(e,1))}},{key:"waitForInit",value:function(){var e=this;return new _promise2.default(function(t,n){e.initFailed?n(e.initError):e.initialized?t():(e.once(_event2.default.INITIALIZED,t),e.once(_event2.default.INITIALIZATION_FAILED,n))})}},{key:"waitForSubscription",value:function(){var e=this;return new _promise2.default(function(t,n){e.waitForInit().then(function(){e.subscriptionManager.isSubscribed().then(function(n){n?e.subscriptionManager.getSubscriptionId().then(function(e){t(e)}):e.once(_event2.default.SUBSCRIBED,t)})}).catch(n)})}},{key:"isSubscribed",value:function(e){var t=this;return this.waitForInit().then(function(){return t.subscriptionManager.isSubscribed().then(function(t){return e(t)})}).catch(function(){return e(!1)})}},{key:"subscribe",value:function(e){var t=this;return this.waitForInit().then(function(){return t.subscriptionManager.subscribe().then(function(){return t.subscriptionManager.getSubscriptionId().then(function(t){return e(!1,t)})})}).catch(function(t){return e(t)})}},{key:"triggerOptIn",value:function(e,t){var n=this;(0,_debug.logMethodCall)("triggerOptIn");var i="function"==typeof t?t:e,o="boolean"==typeof e&&e,r="function"==typeof i?i:function(e){e&&("unsubscribed"===e.reason||"subscribed"===e.reason?_debug.log.info(e.message||e):_debug.log.error(e.message||e))},s=function(){return o?_promise2.default.resolve(!0):n.subscriptionManager.canSubscribe()};return this.waitForInit().then(function(){var e=function(){n.subscriptionManager.getSubscriptionId().then(function(e){r(!1,e)})};s().then(function(t){if(!0===t){var i=n.subscriptionManager.getNotificationPermission();if(n.confirm&&(n.config.showConfirmAlert||!n.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname))n.confirm.setAutoHideBackdrop("granted"===i||(0,_env.isAndroid)()),n.confirm.show(r);else if(!n.subscriptionManager.isSubscribing){var o="default"===i||"PREVIEW"===n.config.env;_debug.log.debug("showBackdrop",o);var s=function(){"PREVIEW"!==n.config.env&&n.subscriptionManager.subscribe().then(function(t){n.confirm&&o&&n.confirm.hideBackdrop(),"denied"===t?(n.confirm&&"safari"!==n.browserType&&n.confirm.showDenyAlert(),r(new _CleverPushError2.default("Permission for notifications was denied",t))):e()}).catch(function(e){n.confirm&&o&&n.confirm.hideBackdrop(),r(e)})};if(n.confirm&&o)if(n.subscriptionManager instanceof _safariManager2.default){!function e(t){document.hasFocus()?t<300?setTimeout(function(){e(t+1)},100):_debug.log.debug("safariBlurChecker waited 30 secs without success"):(_debug.log.debug("safariBlurChecker success"),n.confirm.showBackdrop())}(0),s()}else(0,_dom.domLoaded)().then(function(){n.confirm.showBackdrop(s)});else s()}n.api.confirmAlertShown()}else r(new _CleverPushError2.default("Can not subscribe because of an unknown error","cannot-subscribe"))}).catch(function(t){t&&"subscribed"===t.reason?(_debug.log.debug("running successCallback()"),e()):r(t)})}).catch(function(e){return r(e)})}},{key:"unsubscribe",value:function(e,t){var n=this;(0,_debug.logMethodCall)("unsubscribe");var i="function"==typeof e?e:function(e){e&&_debug.log.error(e.stack||e.message||e)},o="boolean"==typeof t&&t;this.waitForInit().then(function(){n.subscriptionManager.unsubscribe(o).then(function(){i(!1,!0)}).catch(function(e){i(e)})})}},{key:"tagSubscription",value:function(e){var t=this;(0,_debug.logMethodCall)("tagSubscription",e),this.waitForInit().then(function(){t.waitForSubscription().then(function(n){e?(t.subscriptionManager.storageManager.getTags().then(function(n){t.subscriptionManager.storageManager.setTags([].concat((0,_toConsumableArray3.default)(n),[e]))}),t.api.tagSubscription(n,e)):_debug.log.error("tag id not specified")})})}},{key:"untagSubscription",value:function(e){var t=this;(0,_debug.logMethodCall)("untagSubscription",e),this.waitForInit().then(function(){t.waitForSubscription().then(function(n){e?(t.subscriptionManager.storageManager.getTags().then(function(n){n.splice(n.indexOf(e),1),t.subscriptionManager.storageManager.setTags(n)}),t.api.untagSubscription(n,e)):_debug.log.error("tag id not specified")})})}},{key:"setTopics",value:function(e){var t=this;return(0,_debug.logMethodCall)("setTopics",e),this.waitForInit().then(function(){if(t.subscriptionManager)return t.subscriptionManager.setTopics(e),t.subscriptionManager.sync()})}},{key:"getTopics",value:function(e){var t=this;if((0,_debug.logMethodCall)("getTopics"),"function"==typeof e)return this.waitForInit().then(function(){t.subscriptionManager&&t.subscriptionManager.getTopics().then(function(t){e(null,t)})});_debug.log.error("Please provide a callback function (err, topics) => {} to getTopics")}},{key:"setAttribute",value:function(e,t){var n=this;(0,_debug.logMethodCall)("setAttribute",e,t),this.waitForInit().then(function(){n.waitForSubscription().then(function(i){n.api.setSubscriptionAttribute(i,e,t)})})}},{key:"pushAttributeValue",value:function(e,t){var n=this;(0,_debug.logMethodCall)("pushAttributeValue",e,t),this.waitForInit().then(function(){n.waitForSubscription().then(function(i){n.api.pushSubscriptionAttributeValue(i,e,t)})})}},{key:"pullAttributeValue",value:function(e,t){var n=this;(0,_debug.logMethodCall)("pullAttributeValue",e,t),this.waitForInit().then(function(){n.waitForSubscription().then(function(i){n.api.pullSubscriptionAttributeValue(i,e,t)})})}},{key:"trigger",value:function(e,t){if(t||!1===t?_debug.log.debug("%c"+e.toUpperCase()+":",(0,_debug.getConsoleStyle)("event"),t):_debug.log.debug("%c"+e.toUpperCase(),(0,_debug.getConsoleStyle)("event")),(0,_env.isBrowser)()){if(e===_event2.default.INITIALIZED){if(this.initialized)return;this.initialized=!0}this.emit(e,t)}}},{key:"translate",value:function(e){return(0,_translate.translate)(e)}},{key:"triggerFollowUpEvent",value:function(e,t,n){var i=this,o="object"===(void 0===n?"undefined":(0,_typeof3.default)(n))?n:{};(0,_debug.logMethodCall)("triggerFollowUpEvent",e,t,o),this.waitForInit().then(function(){i.waitForSubscription().then(function(n){var r=i.config.clickedFollowUpCampaignId===e;i.api.triggerFollowUpEvent(n,e,t,o,r)})})}},{key:"trackConversion",value:function(e){var t=this;(0,_debug.logMethodCall)("trackConversion",e),this.waitForInit().then(function(){t.waitForSubscription().then(function(n){(document.referrer&&(document.referrer.endsWith("cleverpush.com/worker.js")||document.referrer.endsWith(t.config.serviceWorkerFile||document.referrer.endsWith("/cleverpush-worker.js")))||sessionStorage.getItem("cleverpush-from-notification"))&&(sessionStorage.setItem("cleverpush-from-notification","true"),t.api.trackConversion(n,e))})})}}]),CleverPush}(_wolfy87Eventemitter2.default);exports.default=CleverPush},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),r=i(o),s=n(156),a=i(s),c=n(64),l=i(c),u=n(8),f=i(u),p=n(17),d=i(p),h=n(55),b=i(h),g=n(11),v=n(92),m=n(35),w=function(){function e(t,i){(0,f.default)(this,e),this.autoHideBackdrop=!0,this.config=t,this.subscriptionManager=i,this.id=document.querySelectorAll(".cleverpush-confirm").length+1,this.visible=!1,this.channelTopics=(this.config.channelTopics||[]).filter(function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.location.pathname)),t}),this.facebookEnabled=!1,this.config.facebookPageId&&this.config.facebookPageId.length&&this.config.facebookAppId&&this.config.facebookAppId.length&&(this.facebookEnabled=!0,this.facebookUserRef=this.subscriptionManager.storageManager.getFacebookUserRef(),this.facebookUserRef||(this.facebookUserRef=this.config.channelId+"-",this.facebookUserRef+=Math.random().toString(36).slice(2))),n(179)}return(0,d.default)(e,[{key:"getArrowNode",value:function(e){var t=function(){var t=new b.default,n=t.getBrowser().name;"Android"===t.getOS().name||t.getDevice().type;if("grant"===e){if("Chrome"===n||"Chromium"===n)return{x:347,y:92,padding:20};if("Firefox"===n)return{x:311,y:148,padding:20}}else if("denied"===e){if("Chrome"===n||"Chromium"===n)return{x:131,y:0,padding:0};if("Firefox"===n)return{x:60,y:0,padding:0}}return null}();if(!t)return null;var n=document.querySelector(".cleverpush-backdrop-text h2");if(n){var i={x:(window.innerWidth-n.getBoundingClientRect().width)/2,y:(window.innerHeight-n.getBoundingClientRect().height)/2},o=Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)),r=Math.max(.1*o,15),s=t.x,a=t.y+r+t.padding,c=i.x-20,l=Math.max(i.y+40,a+40),u=c-s,f=l-a,p="M "+c+" "+l+" q "+-1*u+" "+f+", "+-1*u+" "+-1*f,d="M "+(s-r)+" "+(a+r)+" q "+r+" "+-3*r+", "+2*r+" 0",h='<div class="cleverpush-backdrop-arrow"><svg width="'+window.innerWidth+'px" height="'+window.innerHeight+'px" viewBox="0 0 '+window.innerWidth+" "+window.innerHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke-width="5" stroke-linecap="round" fill="none" fill-rule="evenodd"><path d="'+p+'" id="tail" stroke="#FFFFFF"></path><path d="'+d+'" id="head" stroke="#FFFFFF"></path></g></svg></div></div>';return(0,v.createNode)(h)}}},{key:"removeConfirmBox",value:function(){(0,g.logMethodCall)("removeConfirmBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-confirm");if(e.length){var t=e[e.length-1];(!this.withTopics||t.className.indexOf("cleverpush-topic-box")<0)&&t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"removeBrandingBox",value:function(){(0,g.logMethodCall)("removeBrandingBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-branding-box");if(e.length){var t=e[e.length-1];t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"hide",value:function(){(0,g.logMethodCall)("hide"),this.autoHideBackdrop&&this.hideBackdrop(),this.removeConfirmBox(),this.removeBrandingBox()}},{key:"onCloseClick",value:function(e){(0,g.logMethodCall)("closeConfirmBox"),e.preventDefault(),this.hide(),this.hideBackdrop(),this.subscriptionManager.storageManager.setClosed()}},{key:"onAllowClick",value:function(e){var t=this;(0,g.logMethodCall)("allowPush"),e.preventDefault();var n=this.getSelectedTopics(),i=this.hasTopicCheckboxes();return this.config.confirmAlertRequireChannelTopics&&!n.length&&i?void alert("Bitte whle mindestens eine Kategorie aus."):(this.subscriptionManager.setTopics(n),this.withTopics&&this.config.confirmAlertSelectTopicsLater&&i?(this.subscriptionManager.sync(),this.withTopics=!1,this.hide(),void(this.subscribeCallback&&this.subscribeCallback(!1,res))):(localStorage.setItem("cleverpush-subscription-status","allowed"),this.config.ownDomain&&("https:"===window.top.location.protocol||"localhost"===window.top.location.hostname)&&this.config.showConfirmAlert&&this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-confirm-backdrop-text"!==this.config.confirmAlertNativeTheme?(this.removeConfirmBox(),this.appendConfirmBox(this.config.confirmAlertNativeTheme+" "+this.config.confirmAlertNativeTheme+"-native")):this.hide(),this.subscriptionManager.subscribe(!0).then(function(e){t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(!1,e)}).catch(function(e){t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(e)}),void(this.facebookEnabled&&"undefined"!=typeof FB&&(FB.AppEvents.logEvent("MessengerCheckboxUserConfirmation",null,{app_id:this.config.facebookAppId,page_id:this.config.facebookPageId,ref:this.config.channelId,user_ref:this.facebookUserRef}),this.subscriptionManager.storageManager.setFacebookUserRef(this.facebookUserRef)))))}},{key:"onDenyClick",value:function(e){(0,g.logMethodCall)("denyPush"),e.preventDefault(),this.subscriptionManager.storageManager.setDenied(),this.autoHideBackdrop=!0,this.hide(),!this.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname||this.showDenyAlert()}},{key:"hasTopicCheckboxes",value:function(){if((0,g.logMethodCall)("hasTopicCheckboxes"),this.config.confirmAlertSelectTopicsLater&&!this.withTopics)return!0;var e=document.querySelector(".cleverpush-confirm");if(e){return e.querySelectorAll('input[name="topics[]"]').length>0}return!1}},{key:"getSelectedTopics",value:function(){(0,g.logMethodCall)("getSelectedTopics");var e=(this.channelTopics||[]).map(function(e){return e._id&&!e.defaultUnchecked}),t=document.querySelector(".cleverpush-confirm");if(t){var n=t.querySelectorAll('input[name="topics[]"]');e=[];for(var i=0;i<n.length;i+=1)"checkbox"!==n[i].type&&"radio"!==n[i].type||!n[i].checked||e.push(n[i].value)}return e}},{key:"showDenyAlert",value:function(){var e=this;(0,g.logMethodCall)("showDenyAlert"),document.body.appendChild((0,v.createNode)('<div class="cleverpush-deny-alert cleverpush-deny-alert-'+this.id+'">  <button class="cleverpush-deny-alert-close">&times;</button>  <div class="cleverpush-deny-alert-text">'+(0,m.translate)("deny.alert")+"</div></div>")),this.denyAlert=document.querySelector(".cleverpush-deny-alert-"+this.id),this.denyAlertButton=this.denyAlert.querySelector(".cleverpush-deny-alert-close"),this.denyAlertButton&&this.denyAlertButton.addEventListener("click",this.onDenyAlertClick.bind(this)),setTimeout(function(){e.onClickToCloseDenyAlertListener=e.onClickToCloseDenyAlert.bind(e),document.addEventListener("click",e.onClickToCloseDenyAlertListener),document.addEventListener("touchstart",e.onClickToCloseDenyAlertListener)},0)}},{key:"onClickToCloseDenyAlert",value:function(e){this.denyAlert&&e.target!==this.denyAlert&&e.target.parentNode!==this.denyAlert&&(document.removeEventListener("click",this.onClickToCloseDenyAlertListener),document.removeEventListener("touchstart",this.onClickToCloseDenyAlertListener),this.onDenyAlertClick())}},{key:"onDenyAlertClick",value:function(e){void 0!==e&&e.preventDefault(),(0,g.logMethodCall)("onDenyAlertClick");var t=document.getElementsByClassName("cleverpush-deny-alert")[0];t.parentNode.removeChild(t),this.denyAlert=null}},{key:"showBrandingBox",value:function(){(0,g.logMethodCall)("showBrandingBox"),document.body.appendChild((0,v.createNode)('<div class="cleverpush-branding-box cleverpush-branding-box-'+this.id+'"><div class="cleverpush-branding-box-text">'+this.getBrandingLinks()+'</div><button class="cleverpush-branding-box-close">&times;</button></div>')),this.brandingBox=document.querySelector(".cleverpush-branding-box-"+this.id),this.brandingBoxCloseButton=this.brandingBox.querySelector(".cleverpush-branding-box-close"),this.brandingBoxCloseButton&&this.brandingBoxCloseButton.addEventListener("click",this.removeBrandingBox.bind(this))}},{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||e.push('<a href="https://cleverpush.com/" target="_blank" style="'+(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"")+'">Powered by CleverPush</a>'),this.config.privacyPolicyUrl&&e.push('<a href="'+this.config.privacyPolicyUrl+'" target="_blank" style="'+(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"")+'">'+(this.config.privacyPolicyText||"Privacy policy")+"</a>"),e.join(" &nbsp;/&nbsp; ")}},{key:"showBackdrop",value:function(e,t,n){var i=this;(0,g.logMethodCall)("showBackdrop");var o=void 0!==t&&"denied"===t?"denied":"grant";if("denied"===o||this.config.hideNativeConfirmAlert||this.config.showConfirmAlert||!this.config.confirmAlertNativeTheme||"cleverpush-confirm-default"===this.config.confirmAlertNativeTheme||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme||!this.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname||this.appendConfirmBox(this.config.confirmAlertNativeTheme+" "+this.config.confirmAlertNativeTheme+"-native"),this.config.confirmAlertBackdrop||this.config.showConfirmAlert||this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme||this.config.hideBranding||this.showBrandingBox(),void 0!==this.config.confirmAlertBackdrop&&!this.config.confirmAlertBackdrop)return void("function"==typeof e&&e());var r="";if(this.config.ownDomain&&("https:"===window.top.location.protocol||"localhost"===window.top.location.hostname)){if("denied"===o||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme)if("grant"===o)r+='<div class="cleverpush-backdrop-text" style="'+(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor:"")+'">'+(this.config.channelIcon&&!this.config.confirmAlertHideChannelIcon?'<p class="cleverpush-backdrop-icon"><img src="'+this.config.channelIcon+'" alt="'+this.config.channelName+'"></p>':"")+"<h2>"+(0,m.translate)("popup.info").format("<strong>"+((0,m.translate)("confirm.allowBrowser")||(0,m.translate)("confirm.allow"))+"</strong>")+"</h2><p>"+(0,m.translate)("popup.text").format("<strong>"+this.config.channelName+"</strong>")+"</p></div>";else{var s=new b.default,a=s.getBrowser(),c=a.name,l=s.getOS(),u=l.name;c=c.toLowerCase().replace(/\s/g,"").replace("chromium","chrome"),u=u.toLowerCase().replace(/\s/g,"").replace("macos","mac");var f="";"chrome"!==c&&"firefox"!==c&&"safari"!==c||"android"!==u&&"windows"!==u&&"mac"!==u||(f='<div><img src="https://static.cleverpush.com/app/images/unblock-tutorial/'+c+"-"+u+'.gif" /></div>'),r+='<div class="cleverpush-backdrop-text"><h2>'+n+"</h2>"+f+"</div>"}(this.config.hideNativeConfirmAlert||this.config.showConfirmAlert&&(!this.config.confirmAlertNativeTheme||"cleverpush-confirm-default"===this.config.confirmAlertNativeTheme))&&(r+='<div class="cleverpush-backdrop-branding">'+this.getBrandingLinks()+"</div>")}var p=document.getElementsByClassName("cleverpush-backdrop");if(p&&p.length)for(var d=0;d<p.length;d+=1){var h=p[d];h&&h.parentNode&&h.parentNode.removeChild(h)}var w=document.createElement("div");if(w.className="cleverpush-backdrop",w.style.display="none",w.innerHTML=r,this.config.confirmAlertBackdropOpacity&&(w.style.backgroundColor="rgba(0, 0, 0, "+this.config.confirmAlertBackdropOpacity+")"),this.config.confirmAlertBackdropBlur&&(w.className+=" cleverpush-backdrop-blur"),r&&r.length&&!this.config.confirmAlertHideArrow){var y=this.getArrowNode(o);y&&w.appendChild(y)}w.addEventListener("click",function(e){e.preventDefault(),i.hideBackdrop()}),document.body&&(document.body.appendChild(w),document.body.classList?(document.body.classList.add("has-cleverpush-backdrop"),this.config.confirmAlertBackdropBlur&&document.body.classList.add("has-cleverpush-backdrop-blur")):(document.body.className+=" has-cleverpush-backdrop",this.config.confirmAlertBackdropBlur&&(document.body.className+=" has-cleverpush-backdrop-blur"))),(0,v.fadeIn)(w,200,void 0!==e?e:function(){})}},{key:"hideBackdrop",value:function(){if((0,g.logMethodCall)("hideBackdrop"),this.removeBrandingBox(),document.body&&(document.body.classList?(this.config.confirmAlertBackdropBlur&&document.body.classList.remove("has-cleverpush-backdrop-blur"),document.body.classList.remove("has-cleverpush-backdrop")):(this.config.confirmAlertBackdropBlur&&(document.body.className=document.body.className.replace("has-cleverpush-backdrop-blur","")),document.body.className=document.body.className.replace("has-cleverpush-backdrop",""))),!this.config.hideNativeConfirmAlert&&this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-backdrop-text"!==this.config.confirmAlertNativeTheme){var e=document.getElementsByClassName("cleverpush-confirm")[0];e&&(!this.withTopics||e.className.indexOf("cleverpush-topic-box")<0)&&e.parentNode.removeChild(e)}if(void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop)for(var t=document.getElementsByClassName("cleverpush-backdrop"),n=0;n<t.length;n+=1){var i=t[n];!function(e){(0,v.fadeOut)(e,200,function(){e&&e.parentNode&&e.parentNode.removeChild(e)})}(i)}}},{key:"appendConfirmBox",value:function(e,t){var n=this;if((0,g.logMethodCall)("appendConfirmBox"),!this.confirmBox){this.withTopics="boolean"==typeof t&&t;var i=this.config.alertLocalization||{},o=(navigator.language||navigator.userLanguage||"").substr(0,2);this.config.alertLocalizationTranslations&&o&&this.config.alertLocalizationTranslations[o]&&(i=(0,l.default)({},i,this.config.alertLocalizationTranslations[o]));var s={title:i.title||(0,m.translate)("confirm.title").format(this.config.channelName),info:i.info||(0,m.translate)("confirm.info"),deny:i.deny||(0,m.translate)("confirm.deny"),allow:i.allow||(0,m.translate)("confirm.allow"),confirmInfo:i.confirmInfo||(0,m.translate)("popup.info").format((0,m.translate)("confirm.allowBrowser"))};"windows-1252"===document.characterSet&&(0,a.default)(s).forEach(function(e){s[e]=decodeURIComponent(escape(s[e]))});var c="cleverpush-confirm-default",u="",f=void 0!==e?e:this.config.confirmAlertTheme;f&&(c=f);var p=new b.default;this.config.confirmAlertThemeVariant&&"cleverpush-confirm-auto"!==this.config.confirmAlertThemeVariant?c+=" "+this.config.confirmAlertThemeVariant:"Mac OS"===p.getOS().name?c+=" cleverpush-confirm-mac":"Windows"===p.getOS().name?c+=" cleverpush-confirm-chrome":c+=" cleverpush-confirm-material","Firefox"===p.getBrowser().name&&(c+=" cleverpush-confirm-firefox"),"Opera"===p.getBrowser().name&&(c+=" cleverpush-confirm-opera"),"Safari"===p.getBrowser().name&&(c+=" cleverpush-confirm-safari"),"Chrome"===p.getBrowser().name&&(c+=" cleverpush-confirm-chrome"),"Edge"===p.getBrowser().name&&(c+=" cleverpush-confirm-edge"),this.config.confirmAlertStyle&&this.config.confirmAlertStyle.color&&(this.config.confirmAlertThemeTextColor=this.config.confirmAlertStyle.color),this.config.confirmAlertThemeBackgroundColor?(u+="background-color: "+this.config.confirmAlertThemeBackgroundColor+";",this.config.confirmAlertThemeTextColor&&(u+="color: "+this.config.confirmAlertThemeTextColor+";")):this.config.confirmAlertThemeBackground&&(c+=" "+this.config.confirmAlertThemeBackground),this.config.confirmAlertHideChannelIcon&&(c+=" cleverpush-confirm-hide-channel-icon"),this.config.confirmAlertHideArrow&&(c+=" cleverpush-confirm-hide-arrow"),"PREVIEW"===this.config.env&&(c+=" cleverpush-confirm-preview"),c+=" cleverpush-confirm-"+this.id;var d="";this.channelTopics&&this.channelTopics.length&&!this.config.confirmAlertHideChannelTopics&&(d+='<div class="cleverpush-confirm-topics">',this.channelTopics.forEach(function(e){d+='<div><label><input type="'+(n.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'" name="topics[]" value="'+e._id+'" '+(e.defaultUnchecked?"":"checked")+"> "+e.name+"</label></div>"}),d+="</div>"),this.facebookEnabled&&(d+='<div class="fb-messenger-checkbox" origin="'+location.origin+'" page_id="'+this.config.facebookPageId+'" messenger_app_id="'+this.config.facebookAppId+'" user_ref="'+this.facebookUserRef+'" prechecked="true" allow_login="true" size="large" style="margin-top: 10px; margin-left: -14px;"></div> ');var h=void 0;this.config.appendConfirmBoxTo&&(h=document.querySelector(this.config.appendConfirmBoxTo)),h?c+="cleverpush-confirm-static":(this.config.appendConfirmBoxTo&&g.log.error("appendConfirmBoxTo: container not found. Falling back to default."),h=document.body);var w=!0;if(!this.withTopics&&("https:"===window.top.location.protocol||"localhost"===window.top.location.hostname)){var y=e&&"cleverpush-confirm-default cleverpush-confirm-default-native"!==e&&"cleverpush-confirm-backdrop-text cleverpush-confirm-backdrop-text-native"!==e;if(this.config.showConfirmAlert){var x=this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme;y?(w=!1,x&&this.config.showConfirmAlertMobile&&(d="")):x&&!this.config.showConfirmAlertMobile&&(d="")}else y&&this.config.confirmAlertSelectTopicsLater&&this.config.ownDomain&&(d="")}this.withTopics&&(c+=" cleverpush-topic-box",s.title=this.config.confirmAlertSelectTopicsLaterTitle||(0,m.translate)("confirm.selectTopics")||s.title,s.info="",s.allow=(0,m.translate)("panel.save"));var k=(0,v.createNode)('<div class="cleverpush-confirm '+c+'" style="'+u+'">\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-top" style="display: none; border-bottom-color: '+this.config.confirmAlertThemeBackgroundColor+'"></div>\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-bottom" style="display: none; border-top-color: '+this.config.confirmAlertThemeBackgroundColor+'"></div>\n        <button type="button" class="cleverpush-confirm-hide">&times;</button>\n        <div class="cleverpush-confirm-wrap">\n            '+("cleverpush-confirm-topbar cleverpush-confirm-topbar-native"===e?'<div class="cleverpush-confirm-topbar-arrow"></div>':"")+'\n            <div class="cleverpush-confirm-icon'+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":"")+'"><img src="'+this.config.channelIcon+'"></div>\n          <div class="cleverpush-confirm-text" style="'+(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor+";":"")+'"><span class="cleverpush-confirm-title" style="'+(this.config.confirmAlertThemeTitleColor?"color: "+this.config.confirmAlertThemeTitleColor+";":"")+'">'+s.title+'</span>\n            <p class="cleverpush-confirm-info">'+s.info+"</p>\n            "+d+'\n            </div>\n          <div class="cleverpush-clearfix cleverpush-clearfix-bottom">\n            <div class="cleverpush-confirm-buttons">\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-deny">'+s.deny+'</button>\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-allow" style="'+(this.config.confirmAlertThemeButtonTextColor?"color: "+this.config.confirmAlertThemeButtonTextColor+";":"")+" "+(this.config.confirmAlertThemeButtonBackgroundColor?"border-color: transparent !important; background: none; background-color: "+this.config.confirmAlertThemeButtonBackgroundColor+";":"")+'">'+s.allow+"</button></div>\n            "+(w?'<div class="cleverpush-confirm-branding"><span>'+this.getBrandingLinks()+"</span></div>":"")+'\n            <div class="cleverpush-clearfix"></div>\n          </div>\n          '+(s.confirmInfo?'<div class="cleverpush-confirm-bottom-info" style="display: none;">\n            <div class="cleverpush-confirm-icon'+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":"")+'"><img src="'+this.config.channelIcon+'"></div>\n            <div class="cleverpush-confirm-bottom-info-text">'+s.confirmInfo+'</div>\n            <div class="cleverpush-clearfix"></div>\n          </div>':"")+"\n        </div>\n      </div>");if(h.appendChild(k),this.confirmBox=document.querySelector(".cleverpush-confirm-"+this.id),this.confirmBox&&"object"===(0,r.default)(this.config.confirmAlertStyle))for(var _ in this.config.confirmAlertStyle)this.config.confirmAlertStyle.hasOwnProperty(_)&&(this.confirmBox.style[_]=this.config.confirmAlertStyle[_]);if(this.confirmBoxTitle=document.querySelector(".cleverpush-confirm-"+this.id+" .cleverpush-confirm-title"),this.confirmBoxTitle&&"object"===(0,r.default)(this.config.confirmAlertTitleStyle))for(var S in this.config.confirmAlertTitleStyle)this.config.confirmAlertTitleStyle.hasOwnProperty(S)&&(this.confirmBoxTitle.style[S]=this.config.confirmAlertTitleStyle[S]);if(this.allowButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-allow"),this.allowButton){if(this.allowButton.addEventListener("click",this.onAllowClick.bind(this)),"object"===(0,r.default)(this.config.confirmAlertButtonStyle))for(var M in this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(M)&&(this.allowButton.style[M]=this.config.confirmAlertButtonStyle[M]);if("object"===(0,r.default)(this.config.confirmAlertAllowButtonStyle))for(var T in this.config.confirmAlertAllowButtonStyle)this.config.confirmAlertAllowButtonStyle.hasOwnProperty(T)&&(this.allowButton.style[T]=this.config.confirmAlertAllowButtonStyle[T])}if(this.denyButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-deny"),this.denyButton&&(this.denyButton.addEventListener("click",this.onDenyClick.bind(this)),"object"===(0,r.default)(this.config.confirmAlertButtonStyle)))for(var I in this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(I)&&(this.denyButton.style[I]=this.config.confirmAlertButtonStyle[I]);this.closeButton=this.confirmBox.querySelector(".cleverpush-confirm-hide"),this.closeButton&&this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.facebookEnabled&&(window.fbAsyncInit=function(){FB.init({appId:n.config.facebookAppId,version:"v2.9"}),FB.Event.subscribe("messenger_checkbox",function(e){g.log.info('FB - Event "messenger_checkbox"',e),"rendered"===e.event?g.log.info('FB - Event "messenger_checkbox" - successfully rendered'):"checkbox"===e.event?g.log.info("FB - Checkbox state: "+e.state):"not_you"===e.event?g.log.info("FB - User clicked 'not you'"):"hidden"===e.event&&g.log.warn("FB - Plugin was hidden. This usually means a problem in FB or integration. Did you whitelist your domain? When using a FB dev app is your FB account registered developer/tester/admin? Have generated a unique `user_ref` for this render?")}),FB.XFBML.parse()},function(e,t,n){var i=void 0,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="//connect.facebook.net/de_DE/sdk.js",o.parentNode.insertBefore(i,o))}(document,"script","facebook-jssdk"))}}},{key:"show",value:function(e){var t=this;if((0,g.logMethodCall)("showConfirmBox"),"function"==typeof e&&(this.subscribeCallback=e),!this.visible){this.visible=!0;var n=this.config.confirmMinimumVisits||0,i=localStorage.getItem("cleverpush-visits");i=i?parseInt(i,10):0,i>=n&&setTimeout(function(){t.showBackdrop(),t.appendConfirmBox()},this.config.confirmTimeout||0),i+=1,localStorage.setItem("cleverpush-visits",i)}}},{key:"setAutoHideBackdrop",value:function(e){this.autoHideBackdrop=e}}]),e}();t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={en:{"confirm.title":"{0} would like to send you push notifications.","confirm.info":"Notifications can be turned off anytime from browser settings.","confirm.allow":"Allow","confirm.allowChrome":"Allow","confirm.allowFirefox":"Allow Notifications","confirm.deny":"Deny","confirm.selectTopics":"To which topics do you want to receive notifications?","popup.info":"Click on {0} to confirm push notifications","popup.text":"Get updates and offers from {0} by subscribing to push notifications.","unsubscribe.title":"Unsubscribe from notifications","unsubscribe.confirm":"Are you sure?","unsubscribe.yes":"Yes","unsubscribe.no":"No","windowclose.confirm":"The process is not yet complete, are you sure you want to cancel it?","deny.alertHttps":"If you change your mind, click the lock to give your browser permission to send you notifications.","deny.alertHttp":"If you change your mind, click the info symbol to give your browser permission to send you notifications.","bell.subscribe":"Subscribe for notifications","bell.subscribed":"You're subscribed for notifications","bell.unsubscribeSuccess":"You won't receive notifications again","panel.notifications":"Notifications","panel.editTopics":"Edit Topics","panel.settings":"Settings","panel.notificationsEmpty":"No notifications available.","panel.save":"Save","panel.successfullySaved":"Successfully saved!"},de:{"confirm.title":"{0} wrde dir gerne Push Nachrichten senden.","confirm.info":"Benachrichtigungen knnen jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.deny":"Verbieten","confirm.selectTopics":"Zu welchen Themen mchtest du Push Nachrichten erhalten?","popup.info":"Klicke auf {0}, um unsere Push-Benachrichtigungen zu besttigen","popup.text":"Erhalte Updates und Angebote von {0}, indem du Push-Benachrichtigungen abonnierst.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Bist du dir sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, bist du sicher, dass du ihn abbrechen mchtest?","deny.alertHttps":'Wenn du doch Benachrichtigungen empfangen mchtest, kannst du mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn du doch Benachrichtigungen empfangen mchtest, kannst du mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Fr Benachrichtigungen anmelden","bell.subscribed":"Du bist fr Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Du wirst keine Benachrichtigungen mehr erhalten","panel.notifications":"Benachrichtigungen","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Benachrichtigungen vorhanden.","panel.save":"Speichern","panel.successfullySaved":"Erfolgreich gespeichert!"}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=i(o),s=n(17),a=i(s),c=n(35),l=n(11),u=function(){function e(t,i,o,s,a){var c=this;(0,r.default)(this,e),this.id=t,this.element=i,this.element&&(this.config=o,this.subscriptionManager=s,this.api=a,this.showTopics=!0,this.elementConfig=this.element.dataset||{},n(180),this.subscriptionManager.isSubscribed().then(function(e){c.show(e)}))}return(0,a.default)(e,[{key:"getSelectedTopics",value:function(){(0,l.logMethodCall)("getSelectedTopics");var e=(this.config.channelTopics||[]).map(function(e){return e._id});if(this.element){var t=this.element.querySelectorAll('input[name="topics[]"]');e=[];for(var n=0;n<t.length;n+=1)"checkbox"!==t[n].type&&"radio"!==t[n].type||!t[n].checked||e.push(t[n].value)}return e}},{key:"show",value:function(e){var t=this;this.element.id="cleverpush-content-button-"+this.id;var n=void 0,i=function(){t.button=t.element.querySelector(".cleverpush-content-button-btn-subscribe"),t.button&&(t.button.addEventListener("click",t.onClick.bind(t)),t.button.addEventListener("touchstart",t.onClick.bind(t))),t.unsubscribeButton=t.element.querySelector(".cleverpush-content-button-btn-unsubscribe"),t.unsubscribeButton&&(t.unsubscribeButton.addEventListener("click",t.onClickUnsubscribe.bind(t)),t.unsubscribeButton.addEventListener("touchstart",t.onClickUnsubscribe.bind(t))),t.topicSelection=t.element.querySelector(".cleverpush-content-button-topics"),t.settingsButton=t.element.querySelector(".cleverpush-content-button-settings"),t.settingsButton&&(t.settingsButton.addEventListener("click",t.onClickSettings.bind(t)),t.settingsButton.addEventListener("touchstart",t.onClickSettings.bind(t))),t.topicCheckboxes=t.element.querySelectorAll('.cleverpush-content-button-topics input[type="checkbox"]'),t.saveTopicsButton=t.element.querySelector(".cleverpush-content-button-save-topics-button"),t.saveTopicsButton&&t.saveTopicsButton.addEventListener("click",t.saveTopics.bind(t)),t.reset(e)},o='\n<div class="cleverpush-content-button-btn-wrap">\n<button class="cleverpush-content-button-btn cleverpush-content-button-btn-subscribe">'+(this.elementConfig.buttonText||(0,c.translate)("bell.subscribe"))+'</button>\n<button class="cleverpush-content-button-btn cleverpush-content-button-btn-unsubscribe" title="'+(0,c.translate)("unsubscribe.title")+'" style="display: none;">&times;</button>\n</div>\n',r="";this.config.channelTopics&&this.config.channelTopics.length&&this.subscriptionManager.getTopics().then(function(i){r+='<div class="cleverpush-content-button-topics">',t.config.channelTopics.forEach(function(n){r+='<div><label><input type="'+(t.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'" name="topics[]" value="'+n._id+'"'+(!e&&!n.defaultUnchecked||i&&i.indexOf(n._id)>-1?' checked="checked"':"")+"> "+n.name+"</label></div>"}),r+='<button type="button" class="cleverpush-content-button-save-topics-button cleverpush-content-button-btn" style="display: none;">'+(0,c.translate)("panel.save")+"</button>",r+="</div>",n()}),(n="box-simple"===this.elementConfig.type||"box-count"===this.elementConfig.type?function(){if("box-count"===t.elementConfig.type&&!isNaN(t.config.totalSubscriptions)){var e=t.config.totalSubscriptions;e>9999&&(e=Math.round(e/1e3)+"tsd.")}t.element.innerHTML='<div class="cleverpush-content-button-box cleverpush-content-button-'+t.elementConfig.type+'"><div class="cleverpush-content-button-top">  <div class="cleverpush-content-button-icon" style="background-image: url(\''+t.config.channelIcon+'\')"></div>  <div class="cleverpush-content-button-body">    <div class="cleverpush-content-button-title">'+(t.elementConfig.title||t.config.channelName)+'</div>    <div class="cleverpush-content-button-text">'+(t.elementConfig.text||(0,c.translate)("confirm.info"))+'</div>  </div></div><div class="cleverpush-content-button-bottom">'+r+o+'  <div class="cleverpush-clearfix"></div></div><div class="cleverpush-content-button-branding">  <span>\n             '+(t.config.hideBranding?"":'<a href="https://cleverpush.com/" target="_blank">Powered by CleverPush</a>')+"\n             "+(t.config.privacyPolicyUrl?(t.config.hideBranding?"":" &nbsp;/&nbsp; ")+'<a href="'+t.config.privacyPolicyUrl+'" target="_blank">'+(t.config.privacyPolicyText||"Privacy policy")+"</a>":"")+"\n           </span></div></div>",i()}:function(){t.element.className+=" cleverpush-content-button-simple",t.element.innerHTML=o,i()})()}},{key:"reset",value:function(e){this.button&&(e?(this.button.innerHTML=this.elementConfig.buttonTextSubscribed||"&nbsp; "+(0,c.translate)("bell.subscribed"),this.button.disabled=!0):(this.button.innerHTML=this.elementConfig.buttonText||(0,c.translate)("bell.subscribe"),this.button.disabled=!1)),this.unsubscribeButton&&(this.unsubscribeButton.style.display=e?"block":"none"),this.topicSelection&&(this.topicSelection.style.display=e&&!this.showTopics?"none":"block"),this.saveTopicsButton&&(this.saveTopicsButton.style.display=e?"block":"none"),this.settingsButton&&(this.settingsButton.style.display=e?"block":"none")}},{key:"onClick",value:function(e){var t=this;e.preventDefault(),this.api.confirmAlertShown(),this.subscriptionManager.setTopics(this.getSelectedTopics()),this.subscriptionManager.subscribe(!0).then(function(e){}).catch(function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?l.log.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)})}},{key:"onClickUnsubscribe",value:function(e){e.preventDefault(),this.subscriptionManager.unsubscribe(!1).then(function(){})}},{key:"onClickSettings",value:function(e){var t=this;e.preventDefault(),this.showTopics=!this.showTopics,this.subscriptionManager.isSubscribed().then(function(e){t.reset(e)})}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0;var n=function(e){e?(t.saveTopicsButton.innerHTML='<span style="color: #009222">'+(0,c.translate)("panel.successfullySaved")+"</span>",setTimeout(function(){t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=(0,c.translate)("panel.save"),t.savingTopics=!1},2e3)):(t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=(0,c.translate)("panel.save"),t.savingTopics=!1)},i=this.getSelectedTopics();this.subscriptionManager.setTopics(i).then(function(){t.subscriptionManager.sync(!1,i).then(function(){n(!0)}).catch(function(){n(!1)})}).catch(function(){n(!1)})}}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(i),r=function e(){(0,o.default)(this,e)};r.CONNECTED="connect",r.REMOTE_NOTIFICATION_PERMISSION="cleverpush.remoteNotificationPermission",r.REMOTE_OPERATION_COMPLETE="cleverpush.operationComplete",r.REMOTE_RETRIGGER_EVENT="cleverpush.remoteRetriggerEvent",r.MODAL_LOADED="cleverpush.modalPrompt.loaded",r.MODAL_PROMPT_ACCEPTED="cleverpush.modalPrompt.accepted",r.MODAL_PROMPT_REJECTED="cleverpush.modalPrompt.canceled",r.POPUP_LOADED="cleverpush.popup.loaded",r.POPUP_ACCEPTED="cleverpush.popup.accepted",r.POPUP_REJECTED="cleverpush.popup.canceled",r.POPUP_CLOSING="cleverpush.popup.closing",r.REMOTE_NOTIFICATION_PERMISSION_CHANGED="cleverpush.remoteNotificationPermissionChanged",r.IFRAME_POPUP_INITIALIZE="cleverpush.iframePopupInitialize",r.UNSUBSCRIBE_FROM_PUSH="cleverpush.unsubscribeFromPush",r.BEGIN_BROWSING_SESSION="cleverpush.beginBrowsingSession",r.REQUEST_HOST_URL="cleverpush.requestHostUrl",r.SHOW_HTTP_PERMISSION_REQUEST="cleverpush.showHttpPermissionRequest",r.IS_SHOWING_HTTP_PERMISSION_REQUEST="cleverpush.isShowingHttpPermissionRequest",r.WINDOW_TIMEOUT="cleverpush.windowTimeout",r.FINISH_REMOTE_REGISTRATION="cleverpush.finishRemoteRegistration",r.FINISH_REMOTE_REGISTRATION_IN_PROGRESS="cleverpush.finishRemoteRegistrationInProgress",r.POPUP_BEGIN_MESSAGEPORT_COMMS="cleverpush.beginMessagePortComms",r.SERVICEWORKER_COMMAND_REDIRECT="cleverpush.command.redirect",r.HTTP_PERMISSION_REQUEST_RESUBSCRIBE="cleverpush.httpPermissionRequestResubscribe",r.MARK_PROMPT_DISMISSED="cleverpush.markPromptDismissed",t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=i(o),s=n(17),a=i(s),c=(n(35),n(11),function(){function e(t,i,o,s){(0,r.default)(this,e),this.notification=t,this.config=i,this.subscriptionManager=o,this.api=s,this.element=null,n(181)}return(0,a.default)(e,[{key:"show",value:function(){this.element=document.createElement("div"),this.element.className="cleverpush-page-banner-notification",this.notification.pageBannerPosition&&(this.element.className+=" "+this.element.className+"-"+this.notification.pageBannerPosition),this.notification.pageBannerTimeout&&(this.element.style.animationDelay=this.notification.pageBannerTimeout+"s"),this.element.innerHTML='\n      <div class="pull-right text-muted notification-preview-windows-icons close-btn"><span>&times;</span></div>\n      <div class="notification-icon" style="background-image: url(\''+(this.notification.iconUrl||this.config.channelIcon)+'\');"></div>\n      <div class="notification-content">\n      <p class="notification-title">'+this.notification.title+"</p>\n      "+(this.notification.text?'<p class="notification-text">'+this.notification.text+"</p>":"")+"\n      "+(this.notification.mediaUrl?'<p class="notification-media"><img src="'+this.notification.mediaUrl+'"></p>':"")+'\n      <p class="notification-origin text-muted">'+location.hostname+'</p>\n      </div>\n      <div class="cleverpush-clearfix"></div>\n    ',this.element.addEventListener("click",this.onClick.bind(this)),this.element.addEventListener("touchstart",this.onClick.bind(this)),document.body&&(document.body.appendChild(this.element),this.closeButton=this.element.querySelector(".close-btn"),this.closeButton&&(this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.closeButton.addEventListener("touchstart",this.onCloseClick.bind(this)))),this.notification._id&&this.api.request("POST","/notification/page-banner-delivered",{notificationId:this.notification._id})}},{key:"onClick",value:function(e){if(e.preventDefault(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.notification._id&&this.api.request("POST","/notification/page-banner-clicked",{notificationId:this.notification._id}),this.element.style.display="none",this.notification.url)try{window.open(this.notification.url,"_blank")||(location.href=this.notification.url)}catch(e){location.href=this.notification.url}}},{key:"onCloseClick",value:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none"}}]),e}());t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=i(o),s=n(17),a=i(s),c=n(92),l=n(35),u=function(){function e(t,i){(0,r.default)(this,e),this.config=t,this.subscriptionManager=i,n(182),this.tab="notifications"}return(0,a.default)(e,[{key:"show",value:function(){if(!this.panel){var e="cleverpush-panel";this.config&&this.config.notificationBellPosition&&(e+=" cleverpush-panel-position-"+this.config.notificationBellPosition),document.body.appendChild((0,c.createNode)('<div class="'+e+'"><button class="cleverpush-panel-close" type="button">&times;</button><div class="cleverpush-panel-content"></div></div>'))}this.panel=document.querySelector(".cleverpush-panel"),this.closeButton=this.panel.querySelector(".cleverpush-panel-close"),this.closeButton&&this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.showPanelContent()}},{key:"onCloseClick",value:function(e){e.preventDefault(),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.panel=null,this.closeButton=null,this.tabButtons=null}},{key:"onUnsubscribeClick",value:function(e){confirm((0,l.translate)("unsubscribe.confirm"))&&(this.onCloseClick(e),this.subscriptionManager.unsubscribe())}},{key:"setTab",value:function(e){this.tab=e,this.showPanelContent()}},{key:"onTabButtonClick",value:function(e){e.preventDefault(),this.setTab(e.currentTarget.dataset.tab||"notifications")}},{key:"openNotification",value:function(e){e.preventDefault(),window.open(e.currentTarget.dataset.url,"_blank")}},{key:"showPanelContent",value:function(){var e=this,t=this.panel.querySelector(".cleverpush-panel-content"),n='<div class="cleverpush-panel-buttons"><button type="button" class="cleverpush-panel-button'+("notifications"===this.tab?" active":"")+'" data-tab="notifications">'+(0,l.translate)("panel.notifications")+'</button><button type="button" class="cleverpush-panel-button'+("settings"===this.tab?" active":"")+'" data-tab="settings">'+(0,l.translate)("panel.settings")+"</button></div>",i=function(n){t.innerHTML=n,e.tabButtons=e.panel.querySelectorAll(".cleverpush-panel-button");for(var i=0;i<e.tabButtons.length;i+=1){e.tabButtons[i].addEventListener("click",e.onTabButtonClick.bind(e))}e.notificationItems=e.panel.querySelectorAll(".cleverpush-panel-notification");for(var o=0;o<e.notificationItems.length;o+=1){e.notificationItems[o].addEventListener("click",e.openNotification.bind(e))}};if("notifications"===this.tab)this.subscriptionManager.getStoredNotifications().then(function(e){e.length?(n+='<div class="cleverpush-panel-notifications">',e.slice(0,50).forEach(function(e){n+='<div class="cleverpush-panel-notification" data-url="'+e.url+'">',n+='<div class="cleverpush-panel-notification-title">'+e.title+"</div>",e.text&&(n+='<div class="cleverpush-panel-notification-text">'+e.text+"</div>"),e.createdAt&&(n+='<div class="cleverpush-panel-notification-time">'+new Date(e.createdAt).toISOString().substring(0,10)+"</div>"),n+="</div>"}),n+="</div>"):n+='<div class="cleverpush-panel-notifications-empty">'+(0,l.translate)("panel.notificationsEmpty")+"</div>",i(n)});else if("settings"===this.tab){var o=void 0,r=function(){n+='<div class="cleverpush-panel-settings">'+(o||"")+'<div class="cleverpush-panel-unsubscribe"><button type="button" class="cleverpush-panel-unsubscribe-button">'+(0,l.translate)("unsubscribe.title")+"</button></div></div>",i(n),e.unsubscribeButton=e.panel.querySelector(".cleverpush-panel-unsubscribe-button"),e.unsubscribeButton&&e.unsubscribeButton.addEventListener("click",e.onUnsubscribeClick.bind(e)),o&&(e.topicCheckboxes=e.panel.querySelectorAll('.cleverpush-panel-topic-selection input[type="'+(e.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'"]'),e.saveTopicsButton=e.panel.querySelector(".cleverpush-panel-save-topics-button"),e.saveTopicsButton&&e.saveTopicsButton.addEventListener("click",e.saveTopics.bind(e)))};this.config.channelTopics&&this.config.channelTopics.length?this.subscriptionManager.getTopics().then(function(t){o='<div class="cleverpush-panel-topics"><h3>'+(0,l.translate)("panel.editTopics")+'</h3><div class="cleverpush-panel-topic-selection">'+e.config.channelTopics.map(function(n){return'<div class="cleverpush-panel-topic"><label><input type="'+(e.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'" name="topics[]" value="'+n._id+'"'+(t&&t.indexOf(n._id)>-1?' checked="checked"':"")+"> "+n.name+"</label></div>"}).join("")+'</div><button type="button" class="cleverpush-panel-save-topics-button">'+(0,l.translate)("panel.save")+"</button></div>",r()}):r()}}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0;var n=[];if(this.topicCheckboxes&&this.topicCheckboxes.length)for(var i=0;i<this.topicCheckboxes.length;i+=1){var o=this.topicCheckboxes[i];o.checked&&n.push(o.value)}var r=function(e){t.saveTopicsButton.disabled=!1,e?(t.saveTopicsButton.innerHTML='<span style="color: #009222">'+(0,l.translate)("panel.successfullySaved")+"</span>",setTimeout(function(){t.saveTopicsButton.innerHTML=(0,l.translate)("panel.save"),t.savingTopics=!1},2e3)):(t.saveTopicsButton.innerHTML=(0,l.translate)("panel.save"),t.savingTopics=!1)};this.subscriptionManager.setTopics(n).then(function(){t.subscriptionManager.sync().then(function(){r(!0)}).catch(function(){r(!1)})}).catch(function(){r(!1)})}}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(56),r=i(o),s=n(14),a=i(s),c=n(8),l=i(c),u=n(17),f=i(u),p=n(63),d=n(11),h=function(){function e(t){if((0,l.default)(this,e),this.config=t,"localStorage"in window){localStorage.getItem("push-subscription-status")&&!localStorage.getItem("cleverpush-subscription-status")&&localStorage.setItem("cleverpush-subscription-status",localStorage.getItem("push-subscription-status")),localStorage.getItem("push-subscription-id")&&!localStorage.getItem("cleverpush-subscription-id")&&localStorage.setItem("cleverpush-subscription-id",localStorage.getItem("push-subscription-id"));try{if("allowed"!==localStorage.getItem("cleverpush-subscription-status")){var n=Date.now();if(void 0===this.config.alertHoursDeny&&(this.config.alertHoursDeny=1440),localStorage.getItem("cleverpush-deny-time")&&void 0!==this.config.alertHoursDeny){var i=parseInt(localStorage.getItem("cleverpush-deny-time"),10),o=parseInt(this.config.alertHoursDeny,10);isNaN(i)||isNaN(o)||i+60*o*60*1e3<n&&(localStorage.removeItem("push-subscription-status"),localStorage.removeItem("cleverpush-subscription-status"),localStorage.removeItem("cleverpush-deny-time"))}if(localStorage.getItem("cleverpush-close-time")&&void 0!==this.config.alertHoursClose){var r=parseInt(localStorage.getItem("cleverpush-close-time"),10),s=parseInt(this.config.alertHoursClose,10);isNaN(r)||isNaN(s)||r+60*s*60*1e3<n&&(localStorage.removeItem("push-subscription-status"),localStorage.removeItem("cleverpush-subscription-status"),localStorage.removeItem("cleverpush-close-time"))}}}catch(e){}}}return(0,f.default)(e,[{key:"dbOpenError",value:function(e){var t=this;if(e.message&&e.message.toString().indexOf("VersionError")>-1){d.log.info("deleting db");window.indexedDB.deleteDatabase("cleverpush").onsuccess=function(){var e=t.db.open();e.onsuccess=function(){return t.dbOpenSuccess(e)},e.onerror=function(e){d.log.warn(e)}}}else e.name&&"NoSuchDatabaseError"===e.name||d.log.warn(e)}},{key:"dbOpenSuccess",value:function(e){var t=this;this.db=e.result,this.db.onerror=function(e){d.log.warn("IndexedDB error occured",e)},this.db.onversionchange=function(e){if(null===e.newVersion)e.target.close();else{t.db.close();var n=window.indexedDB.open("cleverpush");n.onsuccess=function(){return t.dbOpenSuccess(n)},n.onerror=t.dbOpenError}}}},{key:"initDb",value:function(){var e=this;if(!this.db&&window.indexedDB){var t=window.indexedDB.open("cleverpush");t.onsuccess=function(){return e.dbOpenSuccess(t)},t.onerror=this.dbOpenError}}},{key:"getNotifications",value:function(){var e=this;return new a.default(function(t){var n=[];if(e.db){var i=e.db.transaction(["notifications"]),o=i.objectStore("notifications"),r=IDBKeyRange.lowerBound(0),s=o.openCursor(r);s.onsuccess=function(e){var i=e.target.result;if(!1==!!i)return void t(n);n.push(i.value),i.continue()},s.onerror=function(){return t(n)}}else t(n)})}},{key:"getNotification",value:function(e){var t=this;return new a.default(function(n){if(t.db){var i=t.db.transaction(["notifications"]),o=i.objectStore("notifications"),r=o.get(e);r.onsuccess=function(e){var t=e.target.result;n(t)},r.onerror=function(){return n(null)}}else n(null)})}},{key:"addNotification",value:function(e){var t=this;return new a.default(function(n,i){if(t.db){var o=t.db.transaction(["notifications"],"readwrite"),r=o.objectStore("notifications"),s=r.put(e);s.onsuccess=n,s.onerror=i}else n(null)})}},{key:"deleteNotification",value:function(e){var t=this;return new a.default(function(n,i){if(t.db){var o=t.db.transaction(["notifications"],"readwrite"),r=o.objectStore("notifications"),s=r.delete(e);s.onsuccess=n,s.onerror=i}else n(null)})}},{key:"canSubscribe",value:function(){return new a.default(function(e){var t=localStorage.getItem("cleverpush-subscription-status");e("denied"!==t&&"unsubscribed"!==t)})}},{key:"isSubscribed",value:function(e){var t=this;return new a.default(function(n){var i=localStorage.getItem("cleverpush-subscription-status");n(!(!i||"denied"===i||"unsubscribed"===i)&&(!!e||!!t.getSubscriptionId()))})}},{key:"getSubscriptionId",value:function(){var e=localStorage.getItem("cleverpush-subscription-id");if(!e&&(0,p.isPopupUnsubscribe)()){var t=new URLSearchParams(location.search.slice(1));t&&(e=t.get("subscriptionId"))}return e}},{key:"setSubscribed",value:function(e){var t=this;if(e){var n=localStorage.getItem("cleverpush-subscription-id");if(n&&localStorage.setItem("cleverpush-subscription-id-old",n),localStorage.setItem("cleverpush-subscription-id",e),localStorage.setItem("cleverpush-subscription-status","allowed"),this.db)try{this.db.transaction(["subscription"],"readwrite").objectStore("subscription").clear().onsuccess=function(){t.db.transaction(["subscription"],"readwrite").objectStore("subscription").put({id:e,channelId:t.config.channelId})}}catch(e){d.log.info("setSubscribed db error",e)}}}},{key:"getFacebookUserRef",value:function(){return localStorage.getItem("cleverpush-facebook-user-ref")}},{key:"setFacebookUserRef",value:function(e){e&&localStorage.setItem("cleverpush-facebook-user-ref",e)}},{key:"setAllowed",value:function(){localStorage.setItem("cleverpush-subscription-status","allowed")}},{key:"setDenied",value:function(){localStorage.setItem("cleverpush-subscription-status","denied"),localStorage.setItem("cleverpush-deny-time",Date.now())}},{key:"setUnsubscribed",value:function(e){var t=localStorage.getItem("cleverpush-subscription-id");if(t&&localStorage.setItem("cleverpush-subscription-id-old",t),localStorage.removeItem("push-subscription-id"),localStorage.removeItem("cleverpush-subscription-id"),localStorage.removeItem("cleverpush-last-sync"),e||(localStorage.setItem("cleverpush-subscription-status","unsubscribed"),localStorage.setItem("cleverpush-deny-time",Date.now())),this.db)try{this.db.transaction(["subscription"],"readwrite").objectStore("subscription").clear()}catch(e){d.log.info("setUnsubscribed db error",e)}}},{key:"checkIfShouldSync",value:function(){var e=this;return new a.default(function(t){var n=localStorage.getItem("cleverpush-last-sync");if(e.getSubscriptionId())if(n){var i=parseInt(n,10);t(isNaN(i)?!0:i+1728e5<=Date.now())}else t(!0);else t(!0)})}},{key:"setSynced",value:function(){localStorage.setItem("cleverpush-last-sync",Date.now())}},{key:"checkIfShouldUpdateWorker",value:function(){return new a.default(function(e){var t=localStorage.getItem("cleverpush-last-worker-update"),n=localStorage.getItem("cleverpush-last-worker-version");if(t){e("0.1.32"!==n)}else e(!0)})}},{key:"setWorkerUpdated",value:function(){localStorage.setItem("cleverpush-last-worker-update",Date.now()),localStorage.setItem("cleverpush-last-worker-version","0.1.32")}},{key:"getVisits",value:function(){var e=localStorage.getItem("cleverpush-visits"),t=0;return e&&(t=parseInt(e,10),isNaN(t)&&(t=0)),t}},{key:"incrementVisits",value:function(){var e=this.getVisits();e+=1,localStorage.setItem("cleverpush-visits",e)}},{key:"setTopics",value:function(e){return new a.default(function(t){localStorage.setItem("cleverpush-topics",(0,r.default)(e)),t(!0)})}},{key:"getTopics",value:function(){var e=localStorage.getItem("cleverpush-topics");if(!e)return a.default.resolve([]);try{var t=JSON.parse(e);return a.default.resolve(t||[])}catch(e){return a.default.resolve([])}}},{key:"setTags",value:function(e){return new a.default(function(t){localStorage.setItem("cleverpush-tags",(0,r.default)(e)),t(!0)})}},{key:"addTag",value:function(e){var t=this;return this.getTags().then(function(n){return n.push(e),t.setTags(n)})}},{key:"removeTag",value:function(e){var t=this;return this.getTags().then(function(n){var i=n.indexOf(e);return i>-1?(n.splice(i,1),t.setTags(n)):a.default.resolve()})}},{key:"getTags",value:function(){var e=localStorage.getItem("cleverpush-tags");if(!e)return a.default.resolve([]);try{var t=JSON.parse(e);return a.default.resolve(t||[])}catch(e){return a.default.resolve([])}}},{key:"hasTag",value:function(e){return this.getTags().then(function(t){return a.default.resolve(t.indexOf(e)>-1)})}},{key:"setClosed",value:function(){localStorage.setItem("cleverpush-close-time",Date.now()),void 0!==this.config.alertHoursClose?localStorage.setItem("cleverpush-subscription-status","denied"):localStorage.removeItem("cleverpush-subscription-status")}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=i(o),s=n(30),a=i(s),c=n(8),l=i(c),u=n(17),f=i(u),p=n(38),d=i(p),h=n(37),b=i(h),g=n(87),v=i(g),m=n(61),w=i(m),y=n(62),x=i(y),k=n(11),_=n(29),S=i(_),M=function(e){function t(e,n,i){(0,l.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,i));return o.triggerEvent(w.default.INITIALIZED),o}return(0,b.default)(t,e),(0,f.default)(t,[{key:"isSubscribed",value:function(){var e=this;return new r.default(function(t){t(!!e.storageManager.getFacebookUserRef())})}},{key:"canSubscribe",value:function(){var e=this;return new r.default(function(t,n){e.isSubscribed().then(function(e){e?n(new S.default("User is already subscribed","subscribed")):t(!0)})})}},{key:"subscribe",value:function(){var e=this;return new r.default(function(t,n){e.isSubscribed().then(function(i){i?(e.confirm&&e.confirm.hideBackdrop(),t()):e.isSubscribing?n(new x.default("A subscription process is already in progress.")):e.config.facebookAppId&&e.config.facebookPageId?t():(k.log.warn("Facebook App ID or Page ID missing"),n())})})}},{key:"unsubscribe",value:function(e){var t=this,n=this.storageManager.getSubscriptionId();return n?this.api.unsubscribe(n).then(function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(w.default.UNSUBSCRIBED)}):r.default.resolve()}},{key:"hasNotificationPermission",value:function(){return r.default.resolve(!!this.storageManager.getFacebookUserRef())}}]),t}(v.default);t.default=M},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=i(o),s=n(30),a=i(s),c=n(8),l=i(c),u=n(17),f=i(u),p=n(38),d=i(p),h=n(37),b=i(h),g=n(125),v=i(g),m=n(87),w=i(m),y=n(11),x=n(152),k=n(61),_=i(k),S=n(62),M=i(S),T=n(29),I=i(T),C=function(e){function t(e,n,i){(0,l.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,i));if(o.isSubscribing=!1,o.iframeMessenger=null,o.popupMessenger=null,o.setTopics=o.setTopics.bind(o),o.config.subdomain&&o.config.subdomain.length&&!1!==o.config.loadIframe){var r="https://"+o.config.subdomain.toLowerCase()+".cleverpush.com",s=document.createElement("div");s.style.display="none",document.body.appendChild(s),v.default.debug=y.log.getLevel()<2;var c=v.default.connectToChild({url:r+"/iframe?origin="+encodeURIComponent(location.origin),appendTo:s,methods:{onSubscribed:function(e){o.triggerEvent(_.default.SUBSCRIBED,e)}}});c.iframe.style.display="none",c.promise.then(function(e){y.log.debug("child ready",e),o.iframeMessenger=e,e.setConfig(o.config).then(function(){o.triggerEvent(_.default.INITIALIZED)}),o.getTopics().then(function(e){return o.topics=e})}).catch(function(){y.log.debug("iframe connection failed"),o.triggerEvent(_.default.INITIALIZED)})}else y.log.debug("iframe subdomain not available"),o.triggerEvent(_.default.INITIALIZED);return!navigator.permissions||"firefox"===o.browserType&&o.browserVersion<46||navigator.permissions.query({name:"notifications"}).then(function(e){e.onchange=function(){o.isSubscribing||("denied"===window.Notification.permission?o.unsubscribe():"granted"===window.Notification.permission&&o.isSubscribed().then(function(e){e||o.triggerEvent(_.default.PERMISSION_RE_GRANTED)}))}}),o}return(0,b.default)(t,e),(0,f.default)(t,[{key:"isSubscribed",value:function(){var e=this;return new r.default(function(t){var n=function(){e.storageManager.checkIfShouldSync().then(function(n){n&&e.sync().then(function(){y.log.debug("hostManager subscribed = true (1)"),e.subscribed=!0,t(!0)}).catch(function(n){y.log.warn("error while syncing",n),y.log.debug("hostManager subscribed = true (2)"),e.subscribed=!0,t(!0)})})};e.iframeMessenger?e.iframeMessenger.isSubscribed().then(function(i){y.log.debug("isSubscribed from iframe",i),i?(y.log.debug("hostManager subscribed = true (3)"),e.subscribed=!0,t(!0)):e.storageManager.isSubscribed(!1).then(function(i){i?n():(y.log.debug("hostManager subscribed = false (4)"),e.subscribed=!1,t(!1))})}).catch(function(n){n&&(y.log.debug("isSubscribed err",n),y.log.error(n)),y.log.debug("hostManager subscribed = false (5)"),e.subscribed=!1,t(!1)}):(y.log.debug("hostManager subscribed = false (6)"),e.subscribed=!1,t(!1))})}},{key:"canSubscribe",value:function(){var e=this;return new r.default(function(t,n){e.iframeMessenger?e.iframeMessenger.canSubscribe().then(function(i){var o=i.result,r=i.message,s=i.reason;y.log.debug("canSubscribe from iframe",o),!0===o?e.storageManager.canSubscribe().then(function(i){y.log.debug("storageStatus canSubscribe",i),i?e.isSubscribed().then(function(e){e?n(new I.default("User is already subscribed","subscribed")):t(!0)}):n(new I.default("User has manually unsubscribed or denied notifications","unsubscribed"))}):n(new I.default(r,s))},function(e){y.log.debug("canSubscribe err iframe",e),n(e)}):e.storageManager.canSubscribe().then(function(i){y.log.debug("storageStatus canSubscribe",i),i?e.isSubscribed().then(function(e){e?n(new I.default("User is already subscribed","subscribed")):t(!0)}):n(new I.default("User has manually unsubscribed or denied notifications","unsubscribed"))})})}},{key:"subscribe",value:function(){var e=this,t=void 0;if(!this.isSubscribing){var n="https://"+(this.config.subdomain||this.config.channelSubdomain)+".cleverpush.com/subscribe";this.config.confirmAlertTestId&&(n+="?confirmAlertTestId="+this.config.confirmAlertTestId),t=(0,x.popup)(n,800,600)}return new r.default(function(n,i){if(e.isSubscribing)y.log.error("A subscription process is already in progress."),i(new M.default);else{e.isSubscribing=!0;var o=function(){e.isSubscribing=!1,e.getSubscriptionId().then(function(t){t?(e.storageManager.setSubscribed(t),e.iframeMessenger&&e.iframeMessenger.setSubscribed(t),e.triggerEvent(_.default.SUBSCRIBED,t),n("granted")):(e.storageManager.setClosed(),n("default"))})};t?function(e,t){if(e){var n=void 0,i=function(){n&&(clearInterval(n),n=null),t()},o=function(){e.closed&&i()};n=setInterval(o,100)}}(t,o):(y.log.error("Popup blocked - Somehow we tried to open a popup without a click event."),o())}})}},{key:"unsubscribe",value:function(e){var t=this;if(this.iframeMessenger)return this.iframeMessenger.unsubscribe(e).then(function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(_.default.UNSUBSCRIBED)});this.storageManager.setUnsubscribed(e),this.triggerEvent(_.default.UNSUBSCRIBED)}},{key:"getSubscriptionId",value:function(){var e=this;return new r.default(function(t){e.iframeMessenger.getSubscriptionId().then(function(e){t(e)})})}},{key:"hasNotificationPermission",value:function(){var e=this;return new r.default(function(t){if("PREVIEW"===e.config.env)return t(!1);e.iframeMessenger?e.iframeMessenger.hasNotificationPermission().then(function(e){t(e)}):t(!1)})}},{key:"getNotificationPermission",value:function(){var e=this;return new r.default(function(t){e.iframeMessenger?e.iframeMessenger.getNotificationPermission().then(function(e){t(e)}):t()})}},{key:"setTopics",value:function(e){return this.topics=e,this.iframeMessenger?this.iframeMessenger.setTopics(e):r.default.resolve()}},{key:"getTopics",value:function(){return this.iframeMessenger?this.iframeMessenger.getTopics():r.default.resolve([])}},{key:"getStoredNotifications",value:function(){var e=this;return new r.default(function(t){e.iframeMessenger?e.iframeMessenger.getStoredNotifications().then(function(e){t(e)}):t([])})}},{key:"deleteStoredNotification",value:function(e){var t=this;return new r.default(function(n){t.iframeMessenger?t.iframeMessenger.deleteStoredNotification(e).then(n):n()})}}]),t}(w.default);t.default=C},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=i(o),s=n(30),a=i(s),c=n(8),l=i(c),u=n(17),f=i(u),p=n(38),d=i(p),h=n(37),b=i(h),g=n(158),v=i(g),m=n(128),w=i(m),y=n(87),x=i(y),k=n(11),_=n(62),S=i(_),M=n(125),T=i(M),I=function(e){function t(e,n,i){(0,l.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,i));if(o.storageManager.initDb(),o.config=e,o.api=n,o.isSubscribing=!1,o.iframeMessenger=null,(window.opener||window.parent)===window)return document.write('<p style="font-size: 14px; color: red; font-family: sans-serif;">CleverPush: This page cannot be directly opened, and\nmust be opened as a result of a subscription call.</p>'),(0,d.default)(o);var s=void 0;if("undefined"!=typeof URLSearchParams&&location.search){var c=new URLSearchParams(location.search.slice(1));c.get("origin")&&(s=c.get("origin"))}k.log.debug("PenPal parentOrigin",s),T.default.debug=k.log.getLevel()<2;T.default.connectToParent({parentOrigin:s,methods:{subscribe:o.subscribe.bind(o),setSubscribed:o.setSubscribed.bind(o),setUnsubscribed:o.setUnsubscribed.bind(o),unsubscribe:o.unsubscribe.bind(o),isSubscribed:o.isSubscribed.bind(o),canSubscribe:o.canSubscribe.bind(o),setTopics:(0,w.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setTopics",o).bind(o),getTopics:(0,w.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"getTopics",o).bind(o),getSubscriptionId:(0,w.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"getSubscriptionId",o).bind(o),hasNotificationPermission:(0,w.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"hasNotificationPermission",o).bind(o),getNotificationPermission:(0,w.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"getNotificationPermission",o).bind(o),getStoredNotifications:(0,w.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"getStoredNotifications",o).bind(o),deleteStoredNotification:(0,w.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"deleteStoredNotification",o).bind(o),setConfig:function(e){return(0,v.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"config",e,o),o.config=e,o.config.confirmAlertTestId&&o.api.setConfirmAlertTestId(o.config.confirmAlertTestId),r.default.resolve()},getStorage:function(){return r.default.resolve({"cleverpush-subscription-id":localStorage.get("cleverpush-subscription-id"),"cleverpush-subscription-status":localStorage.get("cleverpush-subscription-status")})}}});return!navigator.permissions||"firefox"===o.browserType&&o.browserVersion<46||navigator.permissions.query({name:"notifications"}).then(function(e){e.onchange=function(){o.isSubscribing||("granted"!==window.Notification.permission?o.unsubscribe():o.isSubscribed(function(e){e||o.subscribe()}))}}),o}return(0,b.default)(t,e),(0,f.default)(t,[{key:"isSubscribed",value:function(){var e=this;return new r.default(function(t){e.storageManager.isSubscribed().then(function(e){k.log.debug("Status: storage status:",e),t(e)})})}},{key:"canSubscribe",value:function(){var e=this;return new r.default(function(t){e.storageManager.canSubscribe().then(function(n){n?e.isSubscribed().then(function(e){t(e?{result:!1,message:"User is already subscribed",reason:"subscribed"}:{result:!0})}):t({result:!1,message:"User has manually unsubscribed or denied notifications",reason:"unsubscribed"})})})}},{key:"subscribe",value:function(){var e=this;return new r.default(function(t,n){if(e.isSubscribing)k.log.error("A subscription process is already in progress."),n(new S.default);else{e.isSubscribing=!0;var i=function(){e.storageManager.isSubscribed().then(function(e){t({permission:"granted",serviceWorkerInstalled:e})})};"default"===Notification.permission?Notification.requestPermission(function(n){e.isSubscribing=!1,"granted"===n?i():t({permission:n}),k.log.debug("HTTP Permission Request Result:",n)}):"denied"===Notification.permission?(e.isSubscribing=!1,t({permission:"denied"})):(e.isSubscribing=!1,k.log.debug("PermissionAlreadyGranted"),i())}})}},{key:"setSubscribed",value:function(e){this.storageManager.setSubscribed(e)}},{key:"setUnsubscribed",value:function(e){this.storageManager.setUnsubscribed(e)}},{key:"unsubscribe",value:function(e){var t=this;return new r.default(function(n){var i=t.storageManager.getSubscriptionId();return i?t.api.unsubscribe(i).then(function(){return t.storageManager.setUnsubscribed(e),n()}).catch(function(){return n()}):n()})}}]),t}(x.default);t.default=I},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(64),r=i(o),s=n(14),a=i(s),c=n(30),l=i(c),u=n(8),f=i(u),p=n(17),d=i(p),h=n(38),b=i(h),g=n(37),v=i(g),m=n(55),w=i(m),y=n(87),x=i(y),k=n(61),_=i(k),S=n(11),M=n(35),T=n(62),I=i(T),C=n(29),E=i(C),A=n(92),B=function(e){function t(e,n,i){(0,f.default)(this,t);var o=(0,b.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n,i));o.config=e,o.isSubscribing=!1,o.popupMessenger=null;var r=localStorage.getItem("cleverpush-topics");if(r)try{o.topics=JSON.parse(r)}catch(e){}return(0,A.domLoaded)().then(function(){o.subscribe().then(function(e){S.log.debug(e);var t=document.getElementById("loading");t&&(t.style.display="none");var n=document.getElementById("status");n&&(n.style.display="none");var i=document.getElementById("success");i&&(i.style.display="block"),setTimeout(function(){window.onbeforeunload=null,window.opener?window.close():history.back()},1e3)}).catch(function(e){S.log.error(e);var t=document.getElementById("loading");t&&(t.style.display="none");var n=document.getElementById("status");if(n&&(n.style.display="block",n.innerHTML="<h2>"+(e?e.message||e.reason||e:"Unbekannter Fehler ist aufgetreten.")+"</h2>"),"denied"===e.reason||"default"===e.reason){window.onbeforeunload=null;var i=document.querySelector(".subscribe-helper-text");i&&(i.style.marginTop=0);var o=document.getElementById("unblock-tutorial");if(o){var r=new w.default,s=r.getBrowser(),a=s.name,c=r.getOS(),l=c.name;if(a=a.toLowerCase().replace(/\s/g,"").replace("chromium","chrome"),l=l.toLowerCase().replace(/\s/g,"").replace("macos","mac"),!("chrome"!==a&&"firefox"!==a&&"safari"!==a||"android"!==l&&"windows"!==l&&"mac"!==l)){var u=document.createElement("img");u.src="https://static.cleverpush.com/app/images/unblock-tutorial/"+a+"-"+l+".gif",u.style.display="initial",o.appendChild(u),o.style.display="initial"}}}})}),o}return(0,v.default)(t,e),(0,d.default)(t,[{key:"subscribe",value:function(){var e=this;return new a.default(function(t,n){var i=e.config.alertLocalization||{},o=(navigator.language||navigator.userLanguage||"").substr(0,2);e.config.alertLocalizationTranslations&&o&&e.config.alertLocalizationTranslations[o]&&(i=(0,r.default)({},i,e.config.alertLocalizationTranslations[o]));var s={popupInfo:i.popupInfo||(0,M.translate)("popup.info").format("<strong>"+((0,M.translate)("confirm.allowBrowser")||(0,M.translate)("confirm.allow"))+"</strong>"),popupText:i.popupText||(0,M.translate)("popup.text").format("<strong>"+e.config.channelName+"</strong>")};if(e.isSubscribing)n(new I.default("A subscription process is already in progress."));else{e.isSubscribing=!0;var a=function(){e.registerWorker().then(function(t){return t.pushManager.subscribe(e.getPushManagerSubscribeOptions())}).then(function(n){e.sync(n).then(function(){e.isSubscribing=!1,e.triggerEvent(_.default.SUBSCRIBED,e.storageManager.getSubscriptionId()),t("granted")})}).catch(function(t){S.log.error(t),e.isSubscribing=!1,n(t)})};if("default"===Notification.permission){var c=document.getElementById("status");c&&(c.style.display="block",c.innerHTML="<h2>"+s.popupInfo+"</h2><p>"+s.popupText+"</p>"),Notification.requestPermission(function(t){"granted"===t?a():(e.isSubscribing=!1,n(new E.default(s.popupInfo,t))),e.confirm&&e.confirm.hideBackdrop(),S.log.debug("HTTP Permission Request Result:",t)})}else"denied"===Notification.permission?(e.isSubscribing=!1,n(new E.default(s.popupInfo,"denied"))):(S.log.debug("PermissionAlreadyGranted"),a())}})}}]),t}(x.default);t.default=B},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=i(o),s=n(30),a=i(s),c=n(8),l=i(c),u=n(17),f=i(u),p=n(38),d=i(p),h=n(128),b=i(h),g=n(37),v=i(g),m=n(125),w=i(m),y=n(87),x=i(y),k=n(95),_=n(11),S=n(62),M=i(S),T=n(29),I=i(T),C=n(61),E=i(C),A=n(35),B=function(e){function t(e,n,i){(0,l.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,i));if(o.storageManager.initDb(),(0,k.appendGcmManifest)(e.gcmManifestPath),e.loadIframe){var r="https://"+o.config.subdomain+".cleverpush.com",s=document.createElement("div");s.style.display="none",document.body.appendChild(s),w.default.debug=_.log.getLevel()<2;var c=w.default.connectToChild({url:r+"/iframe?origin="+encodeURIComponent(location.origin),appendTo:s,timeout:3e4});c.iframe.style.display="none",c.promise.then(function(e){_.log.debug("child ready",e),o.iframeMessenger=e,e.setConfig(o.config).then(function(){o.triggerEvent(E.default.INITIALIZED)})}).catch(function(e){_.log.error("iFrame connection error",e),o.triggerEvent(E.default.INITIALIZED)})}else o.triggerEvent(E.default.INITIALIZED);return!navigator.permissions||"firefox"===o.browserType&&o.browserVersion<46||navigator.permissions.query({name:"notifications"}).then(function(e){e.onchange=function(){o.isSubscribing||("granted"!==window.Notification.permission&&o.triggerEvent(E.default.UNSUBSCRIBED),"denied"===window.Notification.permission?o.unsubscribe():o.isSubscribed().then(function(e){e||o.triggerEvent(E.default.PERMISSION_RE_GRANTED)}))}}),o}return(0,v.default)(t,e),(0,f.default)(t,[{key:"unsubscribe",value:function(e){var n=this;return this.iframeMessenger?this.iframeMessenger.getSubscriptionId().then(function(i){return n.iframeMessenger.unsubscribe(!0).then(function(){return(0,b.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"unsubscribe",n).call(n,e,i)})}):(0,b.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"unsubscribe",this).call(this,e)}},{key:"isSubscribedViaSubdomain",value:function(){return!0}},{key:"isSubscribed",value:function(){var e=this;return new r.default(function(t){if("PREVIEW"===e.config.env)return t(!1);var n=function(){e.storageManager.checkIfShouldSync().then(function(n){n?e.sync().then(function(){_.log.debug("httpsManager subscribed = true (1)"),e.subscribed=!0,t(!0)}).catch(function(n){_.log.warn("error while syncing",n),_.log.debug("httpsManager subscribed = true (2)"),e.subscribed=!0,t(!0)}):(_.log.debug("httpsManager subscribed = true (3)"),e.subscribed=!0,t(!0))})},i=function(){e.isSubscribing?(_.log.debug("httpsManager subscribed = true (6)"),e.subscribed=!0,t(!0)):(e.isSubscribing=!0,e.storageManager.isSubscribed().then(function(n){n?e.registerWorker().then(function(t){return t.pushManager.subscribe(e.getPushManagerSubscribeOptions())}).then(function(n){return e.sync(n).then(function(){e.isSubscribing=!1,e.triggerEvent(E.default.SUBSCRIBED,e.storageManager.getSubscriptionId()),_.log.debug("httpsManager subscribed = true (4)"),e.subscribed=!0,t(!0)})}).catch(function(n){_.log.error(n),e.isSubscribing=!1,_.log.debug("httpsManager subscribed = false (5)"),e.subscribed=!1,t(!1)}):(e.isSubscribing=!1,t(!1))}))},o=function(){if("granted"===window.Notification.permission&&navigator.serviceWorker)return e.getActiveWorkerRegistration().then(function(o){return o.pushManager.getSubscription().then(function(r){if(e.tryWorkerUpdate(o),r)return e.storageManager.isSubscribed().then(function(i){i?n():(_.log.debug("httpsManager subscribed = false (7)"),e.subscribed=!1,t(!1))});_.log.debug("isSubscribed: no subscription found -> resubscribe"),i()})}).catch(function(e){_.log.debug("isSubscribed: -> resubscribe ",e),i()});_.log.debug("isSubscribed: no perm or SW found"),_.log.debug("httpsManager subscribed = false (8)"),e.subscribed=!1,t(!1)};if(!e.iframeMessenger)return o();e.iframeMessenger.isSubscribed().then(function(e){if(_.log.debug("isSubscribed",e),!e)return o();n()}).catch(function(n){n&&(_.log.debug("isSubscribed err",n),_.log.error(n)),_.log.debug("httpsManager subscribed = false (9)"),e.subscribed=!1,t(!1)})})}},{key:"canSubscribe",value:function(){var e=this;return new r.default(function(t,n){var i=function(){"denied"===window.Notification.permission?n(new I.default("User has manually denied notifications","unsubscribed")):e.storageManager.canSubscribe().then(function(i){_.log.debug("storageStatus canSubscribe",i),i?e.isSubscribed().then(function(e){e?n(new I.default("User is already subscribed","subscribed")):t(!0)}):n(new I.default("User has manually unsubscribed or denied notifications","unsubscribed"))})};if(!e.iframeMessenger)return i();e.iframeMessenger.canSubscribe().then(function(e){var t=e.result,o=e.message,r=e.reason;if(_.log.debug("canSubscribe from iframe",t),!0===t)return i();n(new I.default(o,r))},function(e){e&&_.log.debug("canSubscribe err iframe",e),n(e)})})}},{key:"getSubscriptionId",value:function(){var e=this;return new r.default(function(t){var n=e.storageManager.getSubscriptionId();n?t(n):e.iframeMessenger?e.iframeMessenger.getSubscriptionId().then(function(e){t(e)}):t(null)})}},{key:"hasNotificationPermission",value:function(){var e=this;return new r.default(function(t){if("PREVIEW"===e.config.env)return t(!1);t("granted"===window.Notification.permission)})}},{key:"subscribe",value:function(){var e=this;return new r.default(function(t,n){e.isSubscribed().then(function(i){if(i)t();else if(e.isSubscribing)n(new M.default("A subscription process is already in progress."));else{e.isSubscribing=!0;var o=function(){e.storageManager.setAllowed(),e.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==e.config.confirmAlertNativeTheme&&e.confirm&&e.confirm.hasTopicCheckboxes()&&e.setTopics(e.confirm.getSelectedTopics()),e.registerWorker().then(function(t){return t.pushManager.subscribe(e.getPushManagerSubscribeOptions())}).then(function(n){return e.sync(n).then(function(){e.isSubscribing=!1,e.triggerEvent(E.default.SUBSCRIBED,e.storageManager.getSubscriptionId()),t("granted")})}).catch(function(t){_.log.error(t),e.isSubscribing=!1,n(t)})};"default"===Notification.permission?Notification.requestPermission(function(t){"granted"===t?(o(),e.confirm&&(e.confirm.hideBackdrop(),e.config.confirmAlertSelectTopicsLater&&e.confirm.appendConfirmBox(e.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0))):(e.isSubscribing=!1,"default"===t&&e.storageManager.setClosed(),n(new I.default((0,A.translate)("popup.info").format("<strong>"+((0,A.translate)("confirm.allowBrowser")||(0,A.translate)("confirm.allow"))+"</strong>"),t))),_.log.debug("HTTP Permission Request Result:",t)}):"denied"===Notification.permission?(e.isSubscribing=!1,n(new I.default((0,A.translate)("popup.info").format("<strong>"+((0,A.translate)("confirm.allowBrowser")||(0,A.translate)("confirm.allow"))+"</strong>"),"denied"))):(_.log.debug("PermissionAlreadyGranted"),o(),e.confirm&&e.confirm.hideBackdrop())}})})}}]),t}(x.default);t.default=B},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),r=i(o),s=n(30),a=i(s),c=n(8),l=i(c),u=n(17),f=i(u),p=n(38),d=i(p),h=n(37),b=i(h),g=n(87),v=i(g),m=n(61),w=i(m),y=n(62),x=i(y),k=n(11),_=n(29),S=i(_),M=n(35),T=function(e){function t(e,n,i){(0,l.default)(this,t);var o=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n,i));return o.storageManager.initDb(),o.triggerEvent(w.default.INITIALIZED),o}return(0,b.default)(t,e),(0,f.default)(t,[{key:"isSubscribed",value:function(){var e=this;return new r.default(function(t){var n=function(){e.storageManager.checkIfShouldSync().then(function(n){n?e.sync().then(function(){t(!0)}).catch(function(e){k.log.warn("error while syncing",e),t(!0)}):t(!0)})},i=window.safari.pushNotification.permission(e.config.safariWebsitePushId),o=i.permission,r=i.deviceToken;if("granted"===o&&r)return e.storageManager.isSubscribed().then(function(e){e?n():t(!1)});t(!1)})}},{key:"canSubscribe",value:function(){var e=this;return new r.default(function(t,n){e.config.safariWebsitePushId&&e.config.safariWebsitePushId.length?e.config.domain||e.config.channelDomain?e.storageManager.canSubscribe().then(function(i){i?e.isSubscribed().then(function(i){i?n(new S.default("User is already subscribed","subscribed")):"denied"===window.safari.pushNotification.permission(e.config.safariWebsitePushId)?n(new S.default("User denied notifications","denied")):t(!0)}):n(new S.default("User has manually unsubscribed or denied notifications","unsubscribed"))}).catch(function(e){n(e)}):(t(!1),k.log.warn("Channel domain is not set but required for safari.")):(t(!1),k.log.warn("Safari web push ID not set."))})}},{key:"subscribe",value:function(){var e=this;return new r.default(function(t,n){e.isSubscribed().then(function(i){if(i)e.confirm&&e.confirm.hideBackdrop(),t();else if(e.isSubscribing)n(new x.default("A subscription process is already in progress."));else if(e.config.safariWebsitePushId){e.isSubscribing=!0;var o=void 0,r=window.safari.pushNotification.permission(e.config.safariWebsitePushId);!function i(r){var s=r.permission,a=r.deviceToken;o&&"default"!==s&&clearInterval(o),"default"===s?(e.api.getSyncParameters().then(function(t){k.log.info("calling window.safari.pushNotification.requestPermission"),window.safari.pushNotification.requestPermission(e.config.safariWebServiceUrl||e.config.apiEndpoint+"/channel/"+e.config.channelId+"/safari",e.config.safariWebsitePushId,t,i.bind(e))}),o=setInterval(function(){var t=window.safari.pushNotification.permission(e.config.safariWebsitePushId);"default"!==t.permission&&i(t)},100),setTimeout(function(){"default"===window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission&&(o&&clearInterval(o),e.confirm&&e.confirm.hideBackdrop(),e.storageManager.setClosed())},3e4)):"denied"===s?(e.confirm&&e.confirm.hideBackdrop(),n(new S.default((0,M.translate)("popup.info").format("<strong>"+((0,M.translate)("confirm.allowBrowser")||(0,M.translate)("confirm.allow"))+"</strong>"),"denied"))):"granted"===s&&(e.confirm&&(e.confirm.hideBackdrop(),e.config.confirmAlertSelectTopicsLater&&e.confirm.appendConfirmBox(e.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0)),e.sync({deviceToken:a}).then(function(){e.isSubscribing=!1,e.triggerEvent(w.default.SUBSCRIBED,e.storageManager.getSubscriptionId()),t(s)}))}(r)}else k.log.warn("Safari Website Push ID missing"),n(new S.default("Safari Website Push ID missing","internal"))})})}},{key:"unsubscribe",value:function(e){var t=this,n=this.storageManager.getSubscriptionId();return n?this.api.unsubscribe(n).then(function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(w.default.UNSUBSCRIBED)}):r.default.resolve()}},{key:"hasNotificationPermission",value:function(){return r.default.resolve("granted"===window.safari.pushNotification.permission(this.config.safariWebsitePushId).permission)}},{key:"getNotificationPermission",value:function(){return window.safari.pushNotification.permission(this.config.safariWebsitePushId).permission}}]),t}(v.default);t.default=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=i(o),s=n(17),a=i(s),c=n(35),l=n(11),u=function(){function e(t,n,i,o,s){var a=this;(0,r.default)(this,e),this.id=t,this.element=n,this.element&&(this.config=i,this.subscriptionManager=o,this.api=s,this.isSubscribed=!1,this.hasTag=!1,this.elementConfig=this.element.dataset||{},this.subscriptionManager.storageManager.hasTag(this.elementConfig.tag).then(function(e){a.hasTag=e}),this.subscriptionManager.isSubscribed().then(function(e){a.reset(e)}),this.element&&(this.element.addEventListener("click",this.onClick.bind(this)),this.element.addEventListener("touchstart",this.onClick.bind(this))))}return(0,a.default)(e,[{key:"reset",value:function(e){this.isSubscribed=e,this.element&&(e&&this.hasTag?this.element.innerHTML=this.elementConfig.buttonTextSubscribed||"&nbsp; "+(0,c.translate)("bell.subscribed"):this.element.innerHTML=this.elementConfig.buttonText||(0,c.translate)("bell.subscribe"))}},{key:"onClick",value:function(e){var t=this;e.preventDefault();var n=function(e){t.hasTag?(t.api.untagSubscription(e,t.elementConfig.tag),t.subscriptionManager.storageManager.removeTag(t.elementConfig.tag)):(t.api.tagSubscription(e,t.elementConfig.tag),t.subscriptionManager.storageManager.addTag(t.elementConfig.tag)),t.hasTag=!t.hasTag,t.reset(t.isSubscribed)};this.isSubscribed?this.subscriptionManager.getSubscriptionId().then(function(e){n(e)}):(this.api.confirmAlertShown(),this.subscriptionManager.subscribe(!0).then(function(e){e?n(e):t.subscriptionManager.getSubscriptionId().then(function(e){n(e)})}).catch(function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?l.log.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)}))}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=i(o),s=n(17),a=i(s),c=n(35),l=n(11),u=function(){function e(t,n,i,o,s){var a=this;(0,r.default)(this,e),this.id=t,this.element=n,this.element&&(this.config=i,this.subscriptionManager=o,this.api=s,this.isSubscribed=!1,this.hasTopic=!1,this.topics=[],this.elementConfig=this.element.dataset||{},this.subscriptionManager.storageManager.getTopics().then(function(e){a.topics=e,a.hasTopic=e.indexOf(a.elementConfig.topic)>-1,a.subscriptionManager.isSubscribed().then(function(e){a.reset(e)})}),this.element&&(this.element.addEventListener("click",this.onClick.bind(this)),this.element.addEventListener("touchstart",this.onClick.bind(this))))}return(0,a.default)(e,[{key:"reset",value:function(e){this.isSubscribed=e,this.element&&(e&&this.hasTopic?this.element.innerHTML=this.elementConfig.buttonTextSubscribed||"&nbsp; "+(0,c.translate)("bell.subscribed"):this.element.innerHTML=this.elementConfig.buttonText||(0,c.translate)("bell.subscribe"))}},{key:"onClick",value:function(e){var t=this;e.preventDefault();var n=function(e){var n=t.topics.indexOf(t.elementConfig.topic);n>-1?t.topics.splice(n,1):t.topics.push(t.elementConfig.topic),t.hasTopic=!t.hasTopic,t.subscriptionManager.setTopics(t.topics).then(function(){t.subscriptionManager.sync(!1,t.topics).then(function(){t.reset(!0)}).catch(function(){t.reset(!1)})}).catch(function(){t.reset(!1)})};this.isSubscribed?this.subscriptionManager.getSubscriptionId().then(function(e){n()}):(this.api.confirmAlertShown(),this.subscriptionManager.subscribe(!0).then(function(e){e?n():t.subscriptionManager.getSubscriptionId().then(function(e){n()})}).catch(function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?l.log.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)}))}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){var t={method:"HEAD",mode:"no-cors"},n=new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",t);fetch(n).then(function(e){return e}).then(function(t){e(!1)}).catch(function(t){e(!0)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e){(0,r.logMethodCall)("appendHiddenIframe");var t=document.createElement("iframe");return t.src=e,t.name="cleverpush-iframe",t.style.display="none",t.style.width="1px",t.style.height="1px",t.style.opacity=0,t.style.pointerEvents="none",document.body.appendChild(t),t}function o(e,t,n,i){(0,r.logMethodCall)("popup",e,t,n);var o=void 0!==window.screenLeft?window.screenLeft:screen.left,s=void 0!==window.screenTop?window.screenTop:screen.top,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=a/2-t/2+o,u=c/2-n/2+s,f="scrollbars=yes";"boolean"==typeof i&&i&&(u=1e5,l=1e5,f="toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,visible=none");var p=window.open(e,"_blank","width="+t+", height="+n+", top="+u+", left="+l+(void 0!==f?f:""));return p&&(!i&&p.focus?p.focus():i&&(p.blur(),p.opener.window.focus(),window.self.window.blur(),window.focus())),p}Object.defineProperty(t,"__esModule",{value:!0}),t.appendHiddenIframe=i,t.popup=o;var r=n(11)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),r=i(o),s=n(8),a=i(s),c=n(17),l=i(c),u=(n(35),n(11),function(){function e(t,i,o,r){(0,a.default)(this,e),this.webBanner=t,this.config=i,this.subscriptionManager=o,this.api=r,this.element=null,n(183)}return(0,l.default)(e,[{key:"show",value:function(){var e=this;if(this.element=document.createElement("div"),this.element.className="cleverpush-banner",this.element.innerHTML='\n      <div class="banner-content">\n        <button type="button" class="banner-close">&times;</button>\n        <iframe frameborder="0" scrolling="no"></iframe>\n      </div>\n    ',document.body){if(document.body.appendChild(this.element),this.closeButton=this.element.querySelector(".overlay-close"),this.closeButton&&this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.content=this.element.querySelector(".banner-content"),this.content&&(this.iframe=this.content.querySelector("iframe"),this.iframe)){this.iframe.contentWindow.document.write(this.webBanner.content);var t=0;!function n(){window.requestAnimationFrame(function(){e.iframe.style.height=0,e.iframe.style.height=e.iframe.contentWindow.document.body.scrollHeight+"px",++t<10&&setTimeout(n,100)})}()}if(this.webBanner.darkenBackground?this.element.style.backgroundColor="rgba(0,0,0,.75)":(this.element.style.pointerEvents="none",this.content.style.pointerEvents="initial"),this.element.addEventListener("click",function(t){t.target===t.currentTarget&&(e.element.style.display="none")}),"object"===(0,r.default)(this.webBanner.style)){"top"===this.webBanner.style.align&&(this.content.style.top=0),"bottom"===this.webBanner.style.align&&(this.content.style.bottom=0),"left"===this.webBanner.style.align&&(this.content.style.left=0),"right"===this.webBanner.style.align&&(this.content.style.right=0),"top"===this.webBanner.style.align&&delete this.webBanner.style.bottom,"bottom"===this.webBanner.style.align&&delete this.webBanner.style.top,"left"===this.webBanner.style.align&&delete this.webBanner.style.right,"right"===this.webBanner.style.align&&delete this.webBanner.style.left;for(var n in this.webBanner.style)if(this.webBanner.style.hasOwnProperty(n)){var i=this.webBanner.style[n];"backgroundImage"===n&&i.indexOf("url(")<0&&(i="url("+i+")"),this.content.style[n]="number"==typeof i?i+"px":i}this.content.style.align&&"center"!==this.content.style.align||(this.content.style.margin="50px auto 0",this.content.style.maxHeight="calc(100% - 100px)"),this.content.style.fullWidth?this.content.style.width="100%":(this.content.style.left="50%",this.content.style.width=(this.webBanner.style.width||600)+"px",this.content.style.marginLeft=-1*(this.webBanner.style.width||600)/2+"px")}this.closeButton=this.element.querySelector(".banner-close"),this.closeButton&&(this.closeButton.addEventListener("click",function(){return e.element.style.display="none"}),this.webBanner.style&&this.webBanner.style.color&&(this.closeButton.style.color=this.webBanner.style.color)),this.webBanner._id&&this.api.request("POST","/web-banner/delivered",{webBannerId:this.webBanner._id})}}},{key:"onClick",value:function(e){if(e.preventDefault(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.webBanner._id&&this.api.request("POST","/web-banner/clicked",{webBannerId:this.webBanner._id}),this.element.style.display="none",this.webBanner.buttonUrl)try{window.open(this.webBanner.buttonUrl,"_blank")||(location.href=this.webBanner.buttonUrl)}catch(e){location.href=this.webBanner.buttonUrl}}},{key:"onCloseClick",value:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none"}}]),e}());t.default=u},function(e,t,n){e.exports={default:n(159),__esModule:!0}},,function(e,t,n){e.exports={default:n(162),__esModule:!0}},function(e,t,n){e.exports={default:n(163),__esModule:!0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(30),r=i(o),s=n(127),a=i(s);t.default=function e(t,n,i,o){var s=(0,a.default)(t,n);if(void 0===s){var c=(0,r.default)(t);null!==c&&e(c,n,i,o)}else if("value"in s&&s.writable)s.value=i;else{var l=s.set;void 0!==l&&l.call(o,i)}return i}},function(e,t,n){n(44),n(166),e.exports=n(1).Array.from},,function(e,t,n){n(167);var i=n(1).Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},function(e,t,n){n(168),e.exports=n(1).Object.keys},function(e,t,n){n(46),e.exports=n(60).f("toStringTag")},function(e,t,n){"use strict";var i=n(6),o=n(21);e.exports=function(e,t,n){t in e?i.f(e,t,o(0,n)):e[t]=n}},,function(e,t,n){"use strict";var i=n(15),o=n(7),r=n(34),s=n(58),a=n(57),c=n(36),l=n(164),u=n(54);o(o.S+o.F*!n(59)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,p=r(e),d="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,g=void 0!==b,v=0,m=u(p);if(g&&(b=i(b,h>2?arguments[2]:void 0,2)),void 0==m||d==Array&&a(m))for(t=c(p.length),n=new d(t);t>v;v++)l(n,v,g?b(p[v],v):p[v]);else for(f=m.call(p),n=new d;!(o=f.next()).done;v++)l(n,v,g?s(f,b,[o.value,v],!0):o.value);return n.length=v,n}})},function(e,t,n){var i=n(10),o=n(88).f;n(94)("getOwnPropertyDescriptor",function(){return function(e,t){return o(i(e),t)}})},function(e,t,n){var i=n(34),o=n(20);n(94)("keys",function(){return function(e){return o(i(e))}})},function(e,t,n){t=e.exports=n(89)(void 0),t.push([e.i,'.cleverpush-bell{-moz-user-select:none;-ms-transform-origin:bottom left;-ms-user-select:none;-o-transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));-webkit-transform-origin:bottom left;-webkit-transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;-webkit-user-select:none;background-color:#42a2f2;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE1LjEzNyAzLjk0NWEyLjEwMiAyLjEwMiAwIDAgMS0xLjA0LTEuODJ2LS4wMDNDMTQuMDk3Ljk1IDEzLjE1OCAwIDEyIDBTOS45MDMuOTUgOS45MDMgMi4xMjJ2LjAwM2EyLjEgMi4xIDAgMCAxLTEuMDQxIDEuODJDNC4xOTUgNi42NTcgNi44NzcgMTUuNjYgMiAxNy4yNTFWMTloMjB2LTEuNzQ5Yy00Ljg3Ny0xLjU5MS0yLjE5NS0xMC41OTQtNi44NjMtMTMuMzA2ek04LjQwOSAxNkg2LjUyN2MxLjI0NS0yLjc0MS44NzktOS4wMTIgMy44NzMtMTAuNjU1QzguNjM5IDcuNDEyIDkuNDUgMTIuODQ5IDguNDA5IDE2ek0xMiAzYTEgMSAwIDEgMSAwLTIgMSAxIDAgMCAxIDAgMnpNOSAyMWg2YzAgMS41OTgtMS4zOTMgMy0yLjk3MSAzQzEwLjQ1IDI0IDkgMjIuNTk4IDkgMjF6IiBmaWxsPSIjZmZmIi8+PC9zdmc+);background-position:50%;background-repeat:no-repeat;background-size:26px 26px;border:none;border-radius:50%;bottom:20px;color:#fff;cursor:pointer;filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));height:48px;left:20px;outline:none;position:fixed;transform-origin:bottom left;transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;user-select:none;width:48px;z-index:2147483002}.cleverpush-bell:active{opacity:.8}.cleverpush-bell.cleverpush-bell-position-right{-ms-transform-origin:bottom right;-webkit-transform-origin:bottom right;left:auto;right:20px;transform-origin:bottom right}.has-cleverpush-backdrop .cleverpush-bell{-webkit-filter:none!important;filter:none!important}.cleverpush-bell-disabled:not(:hover):not(:active){-ms-transform:scale(.666);-webkit-transform:scale(.666);opacity:.666;transform:scale(.666)}.cleverpush-bell-message{-moz-user-select:none;-ms-transform-origin:left center;-ms-user-select:none;-o-text-overflow:ellipsis;-o-transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;-webkit-transform:translateY(-50%) scaleX(0) translateZ(0);-webkit-transform-origin:left center;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;-webkit-user-select:none;background-color:#000;border-radius:4px;color:#fff;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:14px;left:60px;line-height:1;opacity:0;padding:14.4px;pointer-events:none;position:absolute;text-overflow:ellipsis;top:50%;transform:translateY(-50%) scaleX(0) translateZ(0);transform-origin:left center;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;user-select:none;white-space:nowrap}.cleverpush-bell-message *,.cleverpush-bell-message a,.cleverpush-bell-message strong{color:#fff}.cleverpush-bell-message:after{border:9.9px solid transparent;border-right-color:#000;content:" ";height:0;margin-top:-9.9px;pointer-events:none;position:absolute;right:100%;top:50%;width:0}.cleverpush-bell-message-open,.cleverpush-bell:hover .cleverpush-bell-message{-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}.cleverpush-bell-position-right .cleverpush-bell-message{-ms-transform-origin:right center;-webkit-transform-origin:right center;left:auto;right:60px;transform-origin:right center}.cleverpush-bell-position-right .cleverpush-bell-message:after{border-left-color:#000;border-right-color:transparent;left:100%;right:auto}.cleverpush-bell-hidden{display:none}',""])},function(e,t,n){t=e.exports=n(89)(void 0),t.push([e.i,'@-webkit-keyframes fadeIn{to{opacity:1}}@keyframes fadeIn{to{opacity:1}}.cleverpush-confirm{-moz-user-select:none;-ms-user-select:none;-webkit-box-sizing:border-box;-webkit-user-select:none;background-color:#f0eff0;border:1px solid #bbb;border-top:none;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;left:calc(50% - 230px);margin:0;padding:0 20px 10px;position:fixed;top:0;user-select:none;width:460px;z-index:2147483002}.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-icon{display:none!important}.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-text{width:100%!important}.cleverpush-confirm-static{left:auto;position:static!important;top:auto}.cleverpush-confirm-chrome,.cleverpush-confirm-material{-webkit-box-shadow:0 4px 30px rgba(0,0,0,.4);border:none;box-shadow:0 4px 30px rgba(0,0,0,.4)}.cleverpush-confirm-hide{background:none!important;border:none!important;cursor:pointer;display:none!important;float:right!important;font-size:18px!important;margin:-10px -10px 0 0;padding:0;position:relative;z-index:1}.cleverpush-confirm-mac{-webkit-box-shadow:0 2px 24px rgba(0,0,0,.4);background-color:#f0f0f0;box-shadow:0 2px 24px rgba(0,0,0,.4)}.cleverpush-confirm-icon{display:inline-block;float:left;margin:15px 15px 0 0!important;padding:0!important;position:relative}.cleverpush-confirm-icon img{border:none;height:65px;margin:0;padding:0;width:65px}.cleverpush-confirm-text{color:#000;display:inline-block!important;line-height:1.4em!important;margin:0 0 10px!important;padding:10px 0 0!important;position:relative!important;text-align:left!important;width:calc(100% - 80px)!important}.cleverpush-confirm-text .cleverpush-confirm-topics{font-size:13px!important;margin-bottom:15px}.cleverpush-confirm-text .cleverpush-confirm-topics label{cursor:pointer;display:block;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=checkbox],.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;vertical-align:baseline;width:auto}.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-confirm-text .cleverpush-confirm-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-confirm-title{color:#000;font-size:14px;font-weight:700;line-height:1.4em;margin-bottom:5px;text-align:left}.cleverpush-confirm-mac .cleverpush-confirm-title{font-size:15px}.cleverpush-confirm-info{font-size:12px!important;font-weight:400;line-height:1.4em!important;margin:10px 0!important;padding:0!important;text-align:left!important}.cleverpush-confirm-branding{color:#ccc;float:left;font-size:10px;line-height:1.2em!important;margin-top:8px}.cleverpush-confirm-branding a{color:#999!important;font-weight:400;text-decoration:none}.cleverpush-confirm-buttons{float:right!important;margin:0!important;padding:0!important}.cleverpush-confirm-btn{-webkit-box-shadow:none!important;-webkit-box-sizing:border-box!important;border:1px solid #42a2f2!important;border-radius:4px!important;box-shadow:none!important;box-sizing:border-box!important;color:#fff!important;cursor:pointer!important;display:inline-block!important;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:400!important;height:auto!important;line-height:1!important;margin:0!important;padding:7px 9px!important;text-shadow:none!important;text-transform:none!important;vertical-align:middle!important;width:auto!important}.cleverpush-confirm-btn.cleverpush-confirm-btn-allow{padding:6px 14px!important}.cleverpush-confirm-mac .cleverpush-confirm-btn{background:-webkit-gradient(linear,left top,left bottom,from(#64b4f4),to(#0084f6));background:-o-linear-gradient(top,#64b4f4,#0084f6);background:linear-gradient(180deg,#64b4f4,#0084f6)}.cleverpush-confirm-mac .cleverpush-confirm-btn:active{background:-webkit-gradient(linear,left top,left bottom,from(#55aff7),to(#0271d2))!important;background:-o-linear-gradient(top,#55aff7,#0271d2)!important;background:linear-gradient(180deg,#55aff7,#0271d2)!important;color:#fff!important;outline:none}.cleverpush-confirm-material .cleverpush-confirm-btn{background:#4286f6!important;border:none!important;border-radius:2px!important;height:30px!important;text-transform:uppercase!important}.cleverpush-confirm-material .cleverpush-confirm-btn-allow{-webkit-box-shadow:0 2px 4px rgba(0,0,0,.15)!important;box-shadow:0 2px 4px rgba(0,0,0,.15)!important;font-weight:700!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-allow:hover,.cleverpush-confirm-material .cleverpush-confirm-btn-allow:hover{background:#55aff7!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-allow:active,.cleverpush-confirm-material .cleverpush-confirm-btn-allow:active{background:#64b4f4!important;outline:none}.cleverpush-confirm-material .cleverpush-confirm-btn-deny{background:none!important;border:none!important;color:#4286f6!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-deny:hover,.cleverpush-confirm-material .cleverpush-confirm-btn-deny:hover{background:#eee!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-deny:active,.cleverpush-confirm-material .cleverpush-confirm-btn-deny:active{background:#ddd!important;color:#000!important;outline:none}.cleverpush-confirm-chrome .cleverpush-confirm-btn{-moz-appearance:none!important;-moz-user-select:none!important;-ms-user-select:none!important;-webkit-appearance:none!important;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.08),inset 0 1px 2px hsla(0,0%,100%,.75)!important;-webkit-user-select:none!important;appearance:none!important;background-image:-webkit-gradient(linear,left top,left bottom,from(#ededed),color-stop(38%,#ededed),to(#dedede))!important;background-image:-o-linear-gradient(#ededed,#ededed 38%,#dedede)!important;background-image:linear-gradient(#ededed,#ededed 38%,#dedede)!important;border:1px solid rgba(0,0,0,.25)!important;border-radius:2px!important;box-shadow:0 1px 0 rgba(0,0,0,.08),inset 0 1px 2px hsla(0,0%,100%,.75)!important;color:#444!important;font-size:12px!important;margin:0 1px 0 0!important;outline:none!important;text-shadow:0 1px 0 #f0f0f0!important;user-select:none!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-allow{-webkit-box-shadow:0 1px 0 rgba(0,0,0,.08),inset 0 1px 2px hsla(0,0%,100%,.45)!important;background-image:-webkit-gradient(linear,left top,left bottom,from(#4fb1f7),color-stop(38%,#4d9cfe),to(#4d90fe))!important;background-image:-o-linear-gradient(#4fb1f7,#4d9cfe 38%,#4d90fe)!important;background-image:linear-gradient(#4fb1f7,#4d9cfe 38%,#4d90fe)!important;border:1px solid #4d90fe!important;box-shadow:0 1px 0 rgba(0,0,0,.08),inset 0 1px 2px hsla(0,0%,100%,.45)!important;color:#fff!important;text-shadow:0 1px 0 #496eab!important}.cleverpush-confirm-btn-allow{font-weight:700!important}.cleverpush-confirm-btn:first-child{margin-right:15px!important}.cleverpush-confirm-btn-deny{background:#fff!important;border-color:#ccc!important;color:#000!important;font-size:12px!important}.cleverpush-confirm-flat,.cleverpush-confirm-flat .cleverpush-confirm-btn{-webkit-box-shadow:none!important;box-shadow:none!important}.cleverpush-confirm-flat .cleverpush-confirm-btn{border:none!important}.cleverpush-confirm-flat .cleverpush-confirm-btn:active{background:none;opacity:.8}.cleverpush-confirm-flat .cleverpush-confirm-btn-allow{background:#4aadfd!important}.cleverpush-clearfix-bottom{margin-top:5px}.cleverpush-clearfix{clear:both}.cleverpush-confirm-modal{border:none!important;border-radius:4px!important;padding:20px 30px!important;top:20vh}.cleverpush-confirm-modal .cleverpush-confirm-hide{color:#777;display:block!important}.cleverpush-confirm-modal .cleverpush-confirm-icon{display:block!important;float:none!important;margin-top:0!important;text-align:center!important;width:100%!important}.cleverpush-confirm-icon-round img{border-radius:50%}.cleverpush-confirm-modal .cleverpush-confirm-info,.cleverpush-confirm-modal .cleverpush-confirm-text{display:block!important;text-align:center!important;width:100%!important}.cleverpush-confirm-modal .cleverpush-confirm-branding,.cleverpush-confirm-modal .cleverpush-confirm-buttons{float:none!important;text-align:center!important}.cleverpush-confirm-modal .cleverpush-confirm-branding{margin-top:20px}.cleverpush-confirm-topbar{border:none!important;left:0!important;right:0!important;top:0!important;width:100%!important}.cleverpush-confirm-topbar .cleverpush-confirm-wrap{-webkit-box-sizing:border-box;box-sizing:border-box;left:calc(50% - 300px);max-width:600px;padding-left:120px;position:relative!important;top:0}.cleverpush-confirm-topbar .cleverpush-confirm-text .cleverpush-confirm-topics{margin-bottom:0}.cleverpush-confirm-topbar.cleverpush-confirm-topbar-native .cleverpush-confirm-wrap{left:auto!important}.cleverpush-confirm-topbar-arrow{background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjgwIDY0MCI+PHBhdGggZD0iTTExMTkuMyA3OS4xYy01LjcgMi44LTEwLjMgOC4yLTEwLjMgMTIgMCA4LjggMTEuNSAyMC42IDQ1LjkgNDcuMyA0Ny42IDM2LjkgNjAuOSA0OS40IDcxLjggNjcuNiA2LjIgMTAuNCA3LjggMTUuNCA3LjggMjUgMCA3LjEtLjQgOS40LTIuNiAxNC4xLTUuNSAxMS43LTIxLjcgMjUuMy00MC41IDM0LTkuNCA0LjMtMjguOSAxMi4xLTM0LjYgMTMuNy0xLjguNS0xMS4yIDMuNS0yMC44IDYuNi01MS4yIDE2LjYtMTA4LjkgMzEuMS0xNTkuMSA0MC00OSA4LjctODMuNCAxMi41LTE4MC40IDIwLjEtMjYuNSAyLjEtNDUuNiA0LTc3IDcuNi0xNC4zIDEuNi02OC4xIDcuNy0xMTkuNSAxMy40LTE1My41IDE3LjItMjE5LjggMjUuOS0yNjUuNSAzNS0yMy40IDQuNy0yOS42IDYuNC01NiAxNS4xLTI1LjIgOC4zLTM2LjUgMTIuNy00MC45IDE1LjctMi43IDEuOS0yLjggMi4xLTEgMy40IDEuMy45IDUuOCAxLjMgMTYuNCAxLjMgMzUuOCAwIDEyMy42LTkuOCAzMTAtMzQuNSA0My4yLTUuNyAxMDAuOC0xMy40IDEyOC0xNyAyNy4yLTMuNiAxMDAuMS0xMi45IDE2Mi0yMC42IDE0MC4yLTE3LjQgMTc1LjYtMjIgMjA0LTI2LjUgNTIuMS04LjIgODQuOS0xNi44IDEzMi0zNC42IDUyLjEtMTkuNyA3OC40LTM4LjYgODgtNjMuMyAzLjEtNy45IDMuNC0yMy4yLjYtMzEuNS02LjEtMTcuOC0xMy42LTI3LjktNDYtNjEuNC02My40LTY1LjctNzQuMy03NS42LTkwLjQtODIuMi03LjUtMy4xLTE2LjEtMy4yLTIxLjktLjN6Ii8+PHBhdGggZD0iTTIxMi44IDM2NC4zYy0zIDEuOS0xNi43IDExLjctMzAuNCAyMS45LTU2LjYgNDItNzIgNTEtMTYzLjkgOTUuOEMzLjkgNDg5LjItMS43IDQ5My4zIDEgNDk1Yy44LjUgMi44IDEgNC40IDEgMS42IDAgMy43LjYgNC41IDEuNCAyLjQgMi4yIDEwLjkgNCA0MS4xIDkuMSA3NS41IDEyLjggOTYuMyAxOC4zIDE4Ny41IDQ5LjggOC44IDMgMTcuNiA1LjggMTkuNSA2LjEgNi45IDEuMSA3LjYtMi4zIDEuOS04LjItMi4zLTIuNC0zLjItNC4yLTMuNC03LjQtLjEtMi40LTIuMi05LjMtNC41LTE1LjMtMTMuMi0zNC40LTE4LjktNTQuMS0yMS42LTc0LjgtMS40LTEwLjEtMS41LTE3LjYtMS00My40LjctMzQuNS41LTM2LjMtNC42LTM2LjMtMS42IDAtMy44LjUtNC45IDEtMiAxLjEtMi42LjEtLjktMS42IDIuMS0yLjEgNC45LTExLjggMy45LTEzLjYtMS40LTIuNi0zLjgtMi4yLTEwLjEgMS41em0tMTUuNiA0My40Yy0xLjEgMi4xLTIuOSA2LjktNCAxMC44LTEwLjEgMzQuNy0xLjYgNzAuOSAyNC43IDEwNS40bDIuNSAzLjQtMy45LTIuMWMtNDAuNS0yMC42LTEwNS40LTM2LTE1Mi45LTM2LjMtMTMuNSAwLTEzLjUgMCAzLjQtNS40IDQ0LjItMTQuMyA5MS00MS41IDEyMS4xLTcwLjQgNS43LTUuNCAxMC41LTkuOCAxMC43LTkuNi4yLjItLjUgMi0xLjYgNC4yeiIvPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;background-size:contain;height:80px;line-height:110px;margin-left:-120px;margin-top:40px;opacity:.666;position:absolute;width:90px}.cleverpush-confirm-topbar.cleverpush-confirm-hide-arrow .cleverpush-confirm-topbar-arrow{display:none!important}.cleverpush-confirm-topbar.cleverpush-confirm-hide-arrow .cleverpush-confirm-wrap{padding-left:0}.cleverpush-confirm-wrap{left:auto;max-height:100%;max-width:800px;min-height:105px;overflow:auto;padding-bottom:1px}.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native{left:0;right:0}.cleverpush-confirm-topbar-native .cleverpush-confirm-icon,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-icon,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-icon,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-icon,.cleverpush-confirm-topbox-native .cleverpush-confirm-icon{margin:5px 15px 0 0!important}.cleverpush-confirm-topbar-native .cleverpush-confirm-text,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-text,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-text,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-text,.cleverpush-confirm-topbox-native .cleverpush-confirm-text{padding:5px 0 0!important}.cleverpush-confirm-topbar-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-below-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbox-native .cleverpush-confirm-branding{margin-top:0}.cleverpush-confirm-topbar-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbox-native .cleverpush-confirm-buttons{display:none}.cleverpush-confirm-topbar-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-native .cleverpush-confirm-branding{float:right!important}.cleverpush-confirm-notification{border:1px solid #bbb!important;top:10px}.cleverpush-confirm-left{left:10px;right:auto}.cleverpush-confirm-right{left:auto;right:10px}.cleverpush-confirm-notification .cleverpush-confirm-hide{color:#777;display:block!important;margin:0!important;position:absolute!important;right:10px!important}.cleverpush-confirm-round-notification{border-radius:8px;bottom:10px;top:auto}.cleverpush-confirm-round-notification .cleverpush-confirm-icon img{border-radius:4px;height:35px;width:35px}.cleverpush-confirm-round-notification .cleverpush-confirm-btn{border-radius:500px!important}.cleverpush-confirm-round-notification .cleverpush-clearfix-bottom{border-top:1px solid rgba(0,0,0,.1);padding-top:10px!important}.cleverpush-confirm-round-notification .cleverpush-confirm-text{padding:5px!important;position:static!important;width:100%!important}.cleverpush-confirm-round-notification .cleverpush-confirm-info{border-top:1px solid rgba(0,0,0,.1);margin-bottom:0!important;margin-top:0!important;padding-top:10px!important}.cleverpush-confirm-round-notification .cleverpush-confirm-title{display:block!important;left:65px!important;margin-top:10px!important;position:absolute!important;top:20px!important}.cleverpush-confirm-white{background-color:#fff;color:#3e3e3e}.cleverpush-confirm-light{background-color:#f0f0f0;color:#3e3e3e}.cleverpush-confirm-dark,.cleverpush-confirm-dark .cleverpush-confirm-info,.cleverpush-confirm-dark .cleverpush-confirm-title,.cleverpush-confirm-dark a{background-color:#3e3e3e;color:#fff}.cleverpush-confirm-dark .cleverpush-confirm-branding{color:#888!important}.cleverpush-confirm-dark .cleverpush-confirm-hide{color:#999!important}.cleverpush-unsubscribe{background-color:rgba(0,0,0,.8);bottom:0;color:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;padding:4px 10px;position:fixed;right:20%}.cleverpush-unsubscribe a{color:#eee!important;font-weight:700!important;text-decoration:none!important}.cleverpush-unsubscribe a:hover{text-decoration:underline!important}.cleverpush-backdrop{-moz-user-select:none;-ms-flex-align:center;-ms-flex-pack:center;-ms-user-select:none;-webkit-box-align:center;-webkit-box-pack:center;-webkit-user-select:none;align-items:center;background-color:#000;background-color:rgba(0,0,0,.75);bottom:0;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;justify-content:center;left:0;position:fixed;right:0;top:0;user-select:none;z-index:2147483001}.cleverpush-backdrop.cleverpush-backdrop-blur{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}body.has-cleverpush-backdrop.has-cleverpush-backdrop-blur>:not(.cleverpush-backdrop):not(.cleverpush-confirm):not(.cleverpush-confirm-topbar):not(.cleverpush-deny-alert){-webkit-filter:blur(2px);filter:blur(2px)}.cleverpush-backdrop-text{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;font-weight:400;margin:0 auto;position:relative;text-align:center;user-select:none;z-index:2}.cleverpush-backdrop-text b,.cleverpush-backdrop-text strong{color:#fff;font-weight:600}.cleverpush-backdrop-text h2{font-size:24px;text-align:center}.cleverpush-backdrop-text h2 *{color:#fff}.cleverpush-backdrop-text h2,.cleverpush-backdrop-text p{color:#fff!important;margin-bottom:10px;margin-top:0;padding-top:0}.cleverpush-backdrop-icon{text-align:center}.cleverpush-backdrop-icon img{border:none;border-radius:50%;display:inline-block;height:65px;margin:0;padding:0;width:65px}.cleverpush-backdrop-branding{bottom:15px;color:#ccc;font-size:12px;font-weight:400;position:absolute;text-align:center;width:100%;z-index:1}.cleverpush-backdrop-branding a{color:#eee;font-weight:400;text-decoration:none}.cleverpush-backdrop-arrow{left:0;position:absolute;top:0;z-index:1}.cleverpush-deny-alert{-moz-user-select:none;-ms-user-select:none;-webkit-box-shadow:0 2px 14px rgba(0,0,0,.2);-webkit-user-select:none;background:#fefefe;border:1px solid #ccc;border-radius:3px;box-shadow:0 2px 14px rgba(0,0,0,.2);color:#303942;font-family:Helvetica Neue,Lucida Grande,sans-serif;font-size:12px;left:80px;padding:7px 10px;position:fixed;top:4px;user-select:none;z-index:99999}.cleverpush-deny-alert:after,.cleverpush-deny-alert:before{border:4px solid hsla(0,0%,100%,0);border-bottom-color:#fff;bottom:100%;content:" ";height:0;left:26px;margin-left:-4px;pointer-events:none;position:absolute;width:0}.cleverpush-deny-alert:before{border-bottom-color:#ccc;border-width:5px;margin-left:-5px}.cleverpush-deny-alert-text{float:left;max-width:200px;pointer-events:none}.cleverpush-deny-alert-close,.cleverpush-deny-alert-text{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.cleverpush-deny-alert-close{background:none;border:none;border-radius:50%;color:#777;cursor:pointer;float:right;font-size:14px;font-weight:700;height:15px;line-height:1;margin-left:8px;margin-right:-8px;margin-top:-5px;outline:none;padding:0;width:15px}.cleverpush-deny-alert-close:hover{background-color:#777;color:#fff}.cleverpush-deny-alert-close:active{background-color:#444}.cleverpush-branding-box{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background:rgba(0,0,0,.85);color:#fff!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:11px!important;line-height:1.5;padding:0 6px;position:fixed;right:0;top:0;user-select:none;z-index:100}.cleverpush-branding-box a{color:#fff!important;font-weight:600!important;text-decoration:none!important}.cleverpush-branding-box .cleverpush-branding-box-close{background:transparent!important;border:none!important;color:#aaa!important;display:inline-block;font-weight:400!important;margin:0 0 0 7px;padding:0;vertical-align:baseline}.cleverpush-branding-box .cleverpush-branding-box-close:focus,.cleverpush-branding-box .cleverpush-branding-box-close:hover{background:transparent!important;color:#aaa!important}.cleverpush-branding-box .cleverpush-branding-box-text{display:inline-block;vertical-align:baseline}.cleverpush-confirm-topbox{max-width:100%;width:540px}.cleverpush-confirm-topbox-below{max-width:100%;width:100%}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info{border-top:1px solid rgba(0,0,0,.1);display:block!important;margin-top:10px;padding-top:10px}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info .cleverpush-confirm-icon{display:block;float:none;margin:0!important;position:absolute}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info .cleverpush-confirm-icon img{height:30px;width:30px}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info-text{color:#ff675b;font-size:12px;height:30px;line-height:1.25;padding-left:50px}.cleverpush-confirm-topbox-below.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-bottom-info-text{padding-left:0}.cleverpush-confirm-topbox-below .cleverpush-confirm-text{width:100%!important}.cleverpush-confirm-topbox-below .cleverpush-confirm-icon{display:none}.cleverpush-confirm-topbar-slim{max-width:100%;width:850px}.cleverpush-confirm-topbar-slim-higher{max-width:100%;width:850px}.cleverpush-confirm-speechbubble{bottom:200px;max-width:100%;padding-top:5px;top:auto;width:auto}.cleverpush-confirm-speechbubble-native{width:350px}.cleverpush-confirm-speechbubble-native .cleverpush-confirm-text{padding:5px 0 0!important}.cleverpush-confirm-speechbubble-native .cleverpush-clearfix-bottom,.cleverpush-confirm-speechbubble-native .cleverpush-confirm-branding{margin-top:0}.cleverpush-confirm-speechbubble-native .cleverpush-confirm-buttons{display:none}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{border:8px solid hsla(0,0%,100%,0);bottom:-16px;content:" ";display:block!important;height:0;margin-left:-8px;pointer-events:none;position:absolute;right:45px;width:0}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{display:none!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{border-top-color:#fff;display:block!important}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-btn-deny{display:none!important}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-title{display:block;margin-bottom:10px}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-info{display:none}@media (max-width:767px){.cleverpush-confirm{left:10px;right:10px;width:auto}.cleverpush-confirm-topbar .cleverpush-confirm-wrap{left:auto!important;max-width:none!important;padding-left:0!important}.cleverpush-confirm-topbar-arrow{display:none}.cleverpush-confirm-wrap{max-width:none;min-height:0;padding-left:0}.cleverpush-deny-alert{left:20px}}@media (min-width:768px){.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native{left:50px;padding-left:270px}.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-firefox{left:calc(10% + 85px);padding-left:330px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native{left:0;padding-left:440px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox{padding-left:calc(500px + 10%)}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow{margin-top:60px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari{padding-left:calc(225px + 50%)!important}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera{padding-left:480px}.cleverpush-confirm-topbar-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native{left:50%;margin-left:-205px;padding-top:160px!important;width:425px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge{bottom:0;padding-bottom:70px;padding-left:20px;padding-top:10px;top:auto!important}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native{left:50%;margin-left:-230px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native{left:50%;margin-left:-480px;width:960px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-wrap{min-height:0;padding-left:0}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap{left:calc(50% - 300px)!important}.cleverpush-backdrop-text{max-width:33.333%}.cleverpush-confirm-topbox{padding-left:20px!important;padding-top:140px}.cleverpush-confirm-topbox .cleverpush-confirm-wrap{padding-left:40px}.cleverpush-confirm-topbox .cleverpush-confirm-icon{float:none;position:absolute;right:25px;top:25px}.cleverpush-confirm-topbox-below{left:108px;padding-left:20px!important;padding-top:135px;width:320px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox{left:calc(14% + 104px);width:362px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox.cleverpush-confirm-mac{left:calc(14% + 61px);width:355px}.cleverpush-confirm-topbox-below .cleverpush-confirm-wrap{padding-left:0}.cleverpush-confirm-topbar-slim-native{left:85px}.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-wrap{padding-left:90px}.cleverpush-confirm-speechbubble{bottom:auto;left:108px;top:8px}.cleverpush-confirm-speechbubble:not(.cleverpush-confirm-speechbubble-native){max-width:600px}.cleverpush-confirm-speechbubble-native{left:240px;top:135px}.cleverpush-confirm-speechbubble.cleverpush-confirm-mac{left:325px}.cleverpush-confirm-speechbubble.cleverpush-confirm-firefox{left:calc(94px + 10%)}.cleverpush-confirm-speechbubble.cleverpush-confirm-firefox.cleverpush-confirm-speechbubble-native{left:calc(330px + 10%)}.cleverpush-confirm-speechbubble.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-speechbubble.cleverpush-confirm-safari{left:calc(175px + 50%)!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{border-top-color:transparent;left:45px;right:auto;top:-16px}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{border-bottom-color:#fff;display:block!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{display:none!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble{bottom:8px;left:50%;top:auto}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-wrap{min-height:0}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble-native{bottom:62px;padding-top:5px!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{left:auto;right:100px}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{display:none!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{bottom:-16px;display:block!important;top:auto}}@media (min-width:768px) and (min-width:1230px){.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox{left:272px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox.cleverpush-confirm-mac{left:231px}}',""])},function(e,t,n){t=e.exports=n(89)(void 0),t.push([e.i,'.cleverpush-content-button{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:14px;margin:15px auto;user-select:none}.cleverpush-content-button.cleverpush-content-button-simple{text-align:center}.cleverpush-content-button .cleverpush-content-button-box{border:1px solid #eee;max-width:600px;padding:15px}.cleverpush-content-button .cleverpush-content-button-top{margin-bottom:15px;min-height:60px;padding-left:75px;position:relative}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-title{font-weight:700}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-text{color:#777;font-size:90%;line-height:1.25;margin-top:2px}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-icon{background-position:50%;background-size:cover;border:none;height:60px;left:0;position:absolute;top:0;width:60px}.cleverpush-content-button .cleverpush-content-button-btn-wrap{-ms-flex-align:stretch;-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex}.cleverpush-content-button .cleverpush-content-button-btn{-webkit-box-shadow:0 3px 8px rgba(0,0,0,.1)!important;-webkit-box-sizing:border-box!important;background-color:#42a2f2;border:none!important;border-radius:4px!important;box-shadow:0 3px 8px rgba(0,0,0,.1)!important;box-sizing:border-box!important;color:#fff;cursor:pointer!important;display:block;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:700!important;line-height:1!important;margin:0!important;min-height:30px!important;outline:none;padding:5px 10px!important;text-shadow:none!important;text-transform:none!important;width:auto}.cleverpush-content-button .cleverpush-content-button-btn:hover{background-color:#128bef!important}.cleverpush-content-button .cleverpush-content-button-btn:active{background-color:#0f7dd9!important;color:#eee}.cleverpush-content-button .cleverpush-content-button-btn[disabled]{-webkit-box-shadow:none!important;border:1px solid #42a2f2!important;border-bottom-right-radius:0!important;border-top-right-radius:0!important;box-shadow:none!important;color:#555!important;cursor:auto!important;font-weight:400!important}.cleverpush-content-button .cleverpush-content-button-btn[disabled],.cleverpush-content-button .cleverpush-content-button-btn[disabled]:active,.cleverpush-content-button .cleverpush-content-button-btn[disabled]:hover{background:transparent!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe{-webkit-box-shadow:none!important;background:transparent;border:1px solid #42a2f2!important;border-bottom-left-radius:0!important;border-left-width:0!important;border-top-left-radius:0!important;box-shadow:none!important;color:#555!important;font-weight:400!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe:active,.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe:hover{color:#fff!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-simple{float:none!important;margin:0 auto!important;padding-left:15px!important;padding-right:15px!important;width:auto!important}.cleverpush-content-button .cleverpush-content-button-count{background:#eee;color:#555;float:left;font-size:85%;line-height:30px;margin-left:10px;position:relative;text-indent:15px;width:calc(50% - 10px)}.cleverpush-content-button .cleverpush-content-button-count:before{border-color:transparent #eee transparent transparent;border-radius:3px;border-style:solid;border-width:6px 6px 6px 0;content:"";height:0;left:-6px;margin-top:-6px;position:absolute;top:50%;width:0}.cleverpush-content-button .cleverpush-content-button-branding{color:#aaa;font-size:75%;margin-top:15px;text-align:right}.cleverpush-content-button .cleverpush-content-button-branding a{-webkit-box-shadow:none;box-shadow:none;color:#999;text-decoration:none}.cleverpush-content-button .cleverpush-content-button-topics{border:1px solid #eee;border-radius:3px;margin-bottom:15px;padding:10px}.cleverpush-content-button .cleverpush-content-button-topics label{cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-content-button .cleverpush-content-button-topics label>input[type=checkbox],.cleverpush-content-button .cleverpush-content-button-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;vertical-align:baseline;width:auto}.cleverpush-content-button .cleverpush-content-button-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-content-button .cleverpush-content-button-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-content-button .cleverpush-content-button-save-topics-button{margin-top:15px!important}.cleverpush-content-button .cleverpush-content-button-settings{background:none;border:none;color:#777;display:block;font-size:12px;font-weight:400;margin:10px 0;outline:none;padding:0;text-align:right;width:100%}',""])},function(e,t,n){t=e.exports=n(89)(void 0),t.push([e.i,"@-webkit-keyframes cleverPushSlideFromRight{to{right:0}}@keyframes cleverPushSlideFromRight{to{right:0}}@-webkit-keyframes cleverPushSlideFromLeft{to{left:0}}@keyframes cleverPushSlideFromLeft{to{left:0}}.cleverpush-page-banner-notification{-moz-user-select:none;-ms-user-select:none;-webkit-animation:cleverPushSlideFromRight .25s forwards;-webkit-animation-delay:.25s;-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2);-webkit-user-select:none;animation:cleverPushSlideFromRight .25s forwards;animation-delay:.25s;background-color:#fff;border:1px solid #ccc;bottom:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2);cursor:pointer;margin:15px;max-width:100%;padding:10px;position:fixed;right:-400px;user-select:none;width:350px;z-index:99}.cleverpush-page-banner-notification-top-left{-webkit-animation:cleverPushSlideFromLeft .25s forwards;animation:cleverPushSlideFromLeft .25s forwards;bottom:auto;left:-400px;right:auto;top:0}.cleverpush-page-banner-notification-top-right{bottom:auto;top:0}.cleverpush-page-banner-notification-bottom-left{-webkit-animation:cleverPushSlideFromLeft .25s forwards;animation:cleverPushSlideFromLeft .25s forwards;left:-400px;right:auto}.cleverpush-page-banner-notification:hover{background-color:#fefefe}.cleverpush-page-banner-notification .notification-icon{background-position:50%;background-repeat:no-repeat;background-size:cover;height:65px;position:absolute;width:65px}.cleverpush-page-banner-notification .notification-content{min-height:65px;overflow:hidden;padding-left:85px;word-break:break-all;word-wrap:break-word}.cleverpush-page-banner-notification.notification-preview-sent .notificationOrigin,.cleverpush-page-banner-notification.notification-preview-sent .notificationText,.cleverpush-page-banner-notification.notification-preview-sent .notificationTitle{-o-text-overflow:ellipsis;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-preview-windows-icons{position:absolute;right:10px}.cleverpush-page-banner-notification .notification-preview-windows-icons span{border-radius:50%;display:block;font-size:16px;height:16px;line-height:18px;text-align:center;vertical-align:middle;width:16px}.cleverpush-page-banner-notification .notification-preview-windows-icons span:hover{background:#555;color:#fff}.cleverpush-page-banner-notification .notification-title{-o-text-overflow:ellipsis;font-size:16px;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-text{-o-text-overflow:ellipsis;font-size:13px;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-origin{-o-text-overflow:ellipsis;color:#777;font-size:11px;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .source-icon{border:1px solid #ddd;border-radius:50%;color:#aaa;font-size:12px;height:20px;line-height:20px;margin-right:6px;text-align:center;width:20px}.cleverpush-page-banner-notification .notification-option-wrap{position:absolute;right:0;top:0}.cleverpush-page-banner-notification .notification-option-button{color:#333;z-index:1}.cleverpush-page-banner-notification .notification-actions{margin:15px 0 0}.cleverpush-page-banner-notification .notification-actions .notification-action{border-top:1px solid #eee;cursor:pointer;padding:10px 15px}.cleverpush-page-banner-notification .notification-actions .notification-action:hover{background-color:#f5f5f5}.cleverpush-page-banner-notification .notification-actions .notification-action .notification-action-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;display:inline-block;height:25px;margin-bottom:-5px;margin-right:8px;margin-top:-5px;width:25px}.cleverpush-page-banner-notification .notification-media{margin-top:10px;text-align:center}.cleverpush-page-banner-notification .notification-media img{display:inline-block;max-height:300px}.cleverpush-page-banner-notification.notification-preview-windows{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:0}.cleverpush-page-banner-notification.notification-preview-windows .notification-icon{height:80px;margin-right:15px;width:80px}.cleverpush-page-banner-notification.notification-preview-windows .notification-content{min-height:80px;padding-left:95px}.cleverpush-page-banner-notification.notification-preview-windows .notification-title{margin-bottom:4px;margin-top:6px}.cleverpush-page-banner-notification.notification-preview-mac{background:#fcfcfc;background:-webkit-gradient(linear,left top,left bottom,from(#fefefe),to(#fbfbfb));background:-o-linear-gradient(#fefefe,#fbfbfb);background:linear-gradient(#fefefe,#fbfbfb);border-radius:8px;color:#555;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;opacity:.9;padding:8px}.cleverpush-page-banner-notification.notification-preview-mac .notification-preview-chrome-icon{height:55px;padding:6px 0;position:absolute;width:50px}.cleverpush-page-banner-notification.notification-preview-mac .notification-preview-chrome-icon img{display:block;height:100%;width:100%}.cleverpush-page-banner-notification.notification-preview-mac .notification-preview-mac-buttons{border-left:1px solid #ddd;bottom:0;height:100%;position:absolute;right:0;top:0;width:60px}.cleverpush-page-banner-notification.notification-preview-mac .notification-preview-mac-buttons button{background:none;border:none;display:block;font-size:13px;font-weight:500;height:50%;text-align:center;width:100%}.cleverpush-page-banner-notification.notification-preview-mac .notification-preview-mac-buttons button:first-child{border-bottom:1px solid #ddd}.cleverpush-page-banner-notification.notification-preview-mac .notification-icon{height:55px;left:auto;right:68px;width:55px}.cleverpush-page-banner-notification.notification-preview-mac .notification-media{display:none}.cleverpush-page-banner-notification.notification-preview-mac .notification-content{min-height:55px;padding-left:56px;padding-right:130px}.cleverpush-page-banner-notification.notification-preview-mac .notification-title{font-size:13px;font-weight:500;margin-bottom:2px}.cleverpush-page-banner-notification.notification-preview-mac .notification-origin{color:#555;font-weight:500;margin-bottom:4px}.cleverpush-page-banner-notification.notification-preview-mac .notification-text{font-size:11px;margin-bottom:0}.cleverpush-page-banner-notification.notification-preview-mac .notification-actions{background:#fcfcfc;background:-webkit-gradient(linear,left top,left bottom,from(#fefefe),to(#fbfbfb));background:-o-linear-gradient(#fefefe,#fbfbfb);background:linear-gradient(#fefefe,#fbfbfb);border:1px solid #ddd;border-bottom-left-radius:6px;border-bottom-right-radius:6px;display:none;margin-top:8px;position:absolute;right:0;width:40%}.cleverpush-page-banner-notification.notification-preview-mac .notification-actions .notification-action{font-size:13px;font-weight:500;padding:7.5px 10px}.cleverpush-page-banner-notification.notification-preview-mac .notification-actions .notification-action:not(:last-child){border-bottom:1px solid #ddd}.cleverpush-page-banner-notification.notification-preview-mac .notification-actions .notification-action .notification-action-icon{display:none}.cleverpush-page-banner-notification.notification-preview-mac.more-open .notification-actions{display:block}.cleverpush-page-banner-notification.notification-preview-android{font-family:Open Sans,Droid Sans,Roboto,sans-serif;padding:5px}.cleverpush-page-banner-notification.notification-preview-android .notification-title{font-size:14px;margin-bottom:2px}.cleverpush-page-banner-notification.notification-preview-android .notification-text{color:#777;font-size:12px;margin-bottom:2px}.cleverpush-page-banner-notification.notification-preview-android .notification-origin{font-size:10px;margin-bottom:0}.cleverpush-page-banner-notification.notification-preview-android .notification-icon{border-radius:50%;height:40px;margin-left:5px;margin-right:15px;margin-top:5px;width:40px}.cleverpush-page-banner-notification.notification-preview-android .notification-media{margin:10px -5px -5px}.cleverpush-page-banner-notification.notification-preview-android .notification-content{min-height:40px;padding-left:55px}.cleverpush-page-banner-notification.notification-preview-android .notification-actions{margin:15px -5px -5px}.cleverpush-page-banner-notification.notification-preview-android .notification-actions .notification-action{color:#777;display:inline-block;font-size:12px;font-weight:700;min-height:38px;padding:10px;text-transform:uppercase;vertical-align:top;width:50%}.cleverpush-page-banner-notification.notification-preview-android .notification-actions .notification-action .notification-action-icon{height:18px;width:18px}",""])},function(e,t,n){t=e.exports=n(89)(void 0),t.push([e.i,".cleverpush-panel{-moz-user-select:none;-ms-user-select:none;-webkit-box-shadow:0 1px 15px 0 rgba(0,0,0,.1);-webkit-user-select:none;background-color:#f5f5f5;bottom:0;box-shadow:0 1px 15px 0 rgba(0,0,0,.1);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;left:0;position:fixed;top:0;user-select:none;width:300px;z-index:2147483001}.cleverpush-panel.cleverpush-panel-position-right{left:auto;right:0}.cleverpush-panel-content{height:100%;overflow-x:auto;position:relative}.cleverpush-panel-close{background-color:transparent;border:none;border-radius:0;color:#777;cursor:pointer;font-size:18px;height:auto;line-height:1;padding:initial;position:absolute;right:20px;text-transform:none;top:12.5px;vertical-align:initial;z-index:2}.cleverpush-panel-close:focus,.cleverpush-panel-close:hover{background-color:transparent!important}.cleverpush-panel-notifications{background:#fff;border-top:1px solid #eee;padding:6px 10px 0}.cleverpush-panel-notification{border-bottom:1px solid #ececec;color:#ccc;cursor:pointer;display:block;min-height:40px;padding:4px 12px 4px 6px;position:relative}.cleverpush-panel-notification-delete{background-color:transparent;border:none;border-radius:0;color:#777;cursor:pointer;display:none;font-size:12px;height:auto;line-height:1;padding:0 2px;position:absolute;right:-5px;top:10px}.cleverpush-panel-notification-delete:focus,.cleverpush-panel-notification-delete:hover{background:#000;color:#fff}.cleverpush-panel-notification:hover .cleverpush-panel-notification-delete{display:block}.cleverpush-panel-notification-title{color:#555;font-size:13px;font-weight:500}.cleverpush-panel-notification-text{color:#777;font-size:12px}.cleverpush-panel-notification-time{color:#aaa;font-size:11px}.cleverpush-panel-notifications-empty{color:#aaa;font-size:12px;padding:20px;text-align:center}.cleverpush-panel-buttons{background-color:#fff!important;border-bottom:1px solid #eee;left:0;margin-bottom:-1px;position:-webkit-sticky;position:sticky;right:0;top:0;z-index:1}.cleverpush-panel-button{background:transparent;border:none;border-radius:0;color:#000;cursor:pointer;font-size:13px;font-weight:700;height:auto;line-height:1;padding:16px 12px;position:static;text-transform:none!important;vertical-align:initial}.cleverpush-panel-button:focus,.cleverpush-panel-button:hover{background:inherit!important}.cleverpush-panel-button.active{border-bottom:3px solid #333}.cleverpush-panel-settings{padding:10px 20px}.cleverpush-panel-settings h3{font-size:18px;font-weight:500;margin:10px 0}.cleverpush-panel-unsubscribe{padding-top:10px}.cleverpush-panel-unsubscribe button{font-weight:500!important}.cleverpush-panel-settings button{-webkit-box-shadow:0 0 4px 0 rgba(0,0,0,.13);background:#fff;border:none;border-radius:4px;box-shadow:0 0 4px 0 rgba(0,0,0,.13);color:#000;cursor:pointer;display:block;font-size:14px;font-weight:700;height:auto;line-height:1;margin:4px auto;padding:8px 14px;text-transform:none!important}.cleverpush-panel-settings button:focus,.cleverpush-panel-settings button:hover{background:inherit!important}.cleverpush-panel-settings button:disabled{color:#999;cursor:not-allowed}.cleverpush-panel-topics{border-bottom:1px solid #ddd;font-size:14px;margin-bottom:30px;padding-bottom:30px}.cleverpush-panel-topics .cleverpush-panel-topic-selection{margin-bottom:10px}.cleverpush-panel-topics .cleverpush-panel-topic label{cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-panel-topics .cleverpush-panel-topic label>input[type=checkbox],.cleverpush-panel-topics .cleverpush-panel-topic label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;vertical-align:baseline;width:auto}.cleverpush-panel-topics .cleverpush-panel-topic label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-panel-topics .cleverpush-panel-topic:not(:last-of-type){margin-bottom:7.5px}@media (max-width:768px){.cleverpush-panel{-webkit-box-shadow:none;box-shadow:none;width:100%}}",""])},function(e,t,n){t=e.exports=n(89)(void 0),t.push([e.i,".cleverpush-banner{bottom:0;left:0;position:fixed;right:0;top:0;z-index:9}.cleverpush-banner iframe{border:none!important;display:block;height:100%;margin:0;min-height:0;width:100%}.cleverpush-banner .banner-content{background-color:#fff;line-height:1;margin:0 auto;max-width:100%;min-height:0;overflow-y:auto;position:absolute}.cleverpush-banner .banner-content td,.cleverpush-banner .banner-content th,.cleverpush-banner .banner-content tr{border:none!important}.cleverpush-banner .banner-close{background-color:transparent;border:none;border-radius:100px;color:#999;cursor:pointer;font-size:24px;font-weight:200;height:24px;margin:-5px -5px 0 0;padding:0;position:absolute;right:10px;text-align:center;text-decoration:none!important;top:10px;width:24px}.cleverpush-banner .banner-close .fa{height:22px;line-height:22px;vertical-align:top;width:22px}.cleverpush-banner .banner-button{background-color:#42a2f2;border-radius:4px;color:#fff;display:block;font-family:sans-serif;font-size:16px;font-weight:700;margin:25px auto 10px;padding:10px 15px}",""])},,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var r;return r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},function(e,t,n){var i=n(169);"string"==typeof i&&(i=[[e.i,i,""]]);n(90)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(170);"string"==typeof i&&(i=[[e.i,i,""]]);n(90)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(171);"string"==typeof i&&(i=[[e.i,i,""]]);n(90)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(172);"string"==typeof i&&(i=[[e.i,i,""]]);n(90)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(173);"string"==typeof i&&(i=[[e.i,i,""]]);n(90)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(174);"string"==typeof i&&(i=[[e.i,i,""]]);n(90)(i,{});i.locals&&(e.exports=i.locals)},,function(e,t,n){var i;!function(t){"use strict";function o(){}function r(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}function a(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&a(e.listener)}var c=o.prototype,l=t.EventEmitter;c.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},c.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},c.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},c.addListener=function(e,t){if(!a(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===r(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},c.on=s("addListener"),c.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},c.once=s("addOnceListener"),c.defineEvent=function(e){return this.getListeners(e),this},c.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},c.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&-1!==(n=r(o[i],t))&&o[i].splice(n,1);return this},c.off=s("removeListener"),c.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},c.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},c.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},c.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},c.removeAllListeners=s("removeEvent"),c.emitEvent=function(e,t){var n,i,o,r,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].slice(0),o=0;o<n.length;o++)i=n[o],!0===i.once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},c.trigger=s("emitEvent"),c.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},c.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},c._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},c._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=l,o},void 0!==(i=function(){return o}.call(t,n,t,e))&&(e.exports=i)}(this||{})},,,,function(e,t,n){e.exports=n(133)}]);
//# sourceMappingURL=https://static.cleverpush.com/sdk/cleverpush.js.map
CleverPush.init({"loadConfig":false,"environment":"production","apiEndpoint":"https://api.cleverpush.com","autoRegister":true,"channelId":"droFc7ACFbt58tkPN","channelName":"BTC-ECHO","channelIcon":"https://static.cleverpush.com/channel/icon/BghEGFYQarb8qSJdY.png","channelTopics":[],"channelTags":[],"customAttributes":[],"alertTimeout":1000,"alertMinimumVisits":0,"alertScrollPercentage":0,"confirmAlertTheme":"cleverpush-confirm-notification cleverpush-confirm-left","confirmAlertThemeVariant":"cleverpush-confirm-auto","confirmAlertThemeBackground":"","confirmAlertThemeBackgroundColor":"#f0f0f0","confirmAlertThemeTextColor":"#3e3e3e","confirmAlertThemeLinkColor":"#999","confirmAlertNativeTheme":"cleverpush-confirm-topbox-below","confirmAlertHideArrow":false,"confirmAlertHideChannelIcon":false,"confirmAlertRoundChannelIcon":false,"confirmAlertBackdrop":false,"confirmAlertBackdropBlur":true,"confirmAlertBackdropOpacity":0.75,"confirmAlertTests":[],"alertHoursDeny":72,"alertHoursClose":72,"url":"https://www.btc-echo.de/subscribe","alertLocalization":{"title":"BTC-ECHO Push-Nachrichten empfangen?","info":"","allow":"Ja, keine Breaking-News verpassen","deny":"Nein, danke","confirmInfo":"Klicke auf \"Zulassen\" um fortzufahren"},"ownDomain":true,"domain":"www.btc-echo.de","subdomain":"btc-echo","vapidPublicKey":"BE_Wb1OZuM6NbhlK5VyvF-ijtbgAC_DmGJTbOqUXZgWglhZ7XCFJGh3cC5eURzYHS02HCEZIt1gp4veGEdSgpLE","fcmId":"983809343677","showConfirmAlert":false,"showConfirmAlertMobile":true,"hideBranding":true,"hideFaqLink":false,"privacyPolicyText":"Datenschutz","privacyPolicyUrl":"https://www.btc-echo.de/datenschutzerklaerung/","showNotificationBell":false,"hideNotificationBellMobile":false,"hideNotificationBellSubscribed":false,"notificationBellColor":"#42a2f2","serviceWorkerFile":"/cleverpush-worker.js","gcmManifestPath":"/cleverpush-manifest.json","safariWebsitePushId":"web.de.btc-echo","safariWebServiceUrl":"https://api.cleverpush.com/channel/droFc7ACFbt58tkPN/safari","origin":"https://www.btc-echo.de","loadIframe":true,"pageBannerNotifications":[],"webBanners":[]});